(self.webpackChunkTP_Clinica=self.webpackChunkTP_Clinica||[]).push([[179],{2313:(Zt,Me,H)=>{"use strict";H.d(Me,{nm:()=>On});var p=H(4976),ce=(H(4650),H(3692),H(259),H(5861)),be=H(6881),Te=H(4859),de=H(2090),ke=H(1877);const ae=new Map,ge={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function Qe(Pe){return ae.get(Pe)||Object.assign({},ge)}function ct(){return we}const It="https://content-firebaseappcheck.googleapis.com/v1",qe="exchangeDebugToken",ut={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nt{constructor(Ie,Ce,lt,yt,ln){if(this.operation=Ie,this.retryPolicy=Ce,this.getWaitDuration=lt,this.lowerBound=yt,this.upperBound=ln,this.pending=null,this.nextErrorWaitInterval=yt,yt>ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ie){var Ce=this;return(0,ce.Z)(function*(){Ce.stop();try{Ce.pending=new de.BH,yield function ot(Pe){return new Promise(Ie=>{setTimeout(Ie,Pe)})}(Ce.getNextRun(Ie)),Ce.pending.resolve(),yield Ce.pending.promise,Ce.pending=new de.BH,yield Ce.operation(),Ce.pending.resolve(),yield Ce.pending.promise,Ce.process(!0).catch(()=>{})}catch(lt){Ce.retryPolicy(lt)?Ce.process(!1).catch(()=>{}):Ce.stop()}})()}getNextRun(Ie){if(Ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ce=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ce}}}const ve=new de.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function At(Pe){if(!Qe(Pe).activated)throw ve.create("use-before-activation",{appName:Pe.name})}function Et(Pe,Ie){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ce.Z)(function*({url:Pe,body:Ie},Ce){const lt={"Content-Type":"application/json"},yt=Ce.getImmediate({optional:!0});if(yt){const Xr=yield yt.getHeartbeatsHeader();Xr&&(lt["X-Firebase-Client"]=Xr)}const ln={method:"POST",body:JSON.stringify(Ie),headers:lt};let En,fn;try{En=yield fetch(Pe,ln)}catch(Xr){throw ve.create("fetch-network-error",{originalErrorMessage:Xr?.message})}if(200!==En.status)throw ve.create("fetch-status-error",{httpStatus:En.status});try{fn=yield En.json()}catch(Xr){throw ve.create("fetch-parse-error",{originalErrorMessage:Xr?.message})}const Fn=fn.ttl.match(/^([\d.]+)(s)$/);if(!Fn||!Fn[2]||isNaN(Number(Fn[1])))throw ve.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fn.ttl}`});const ai=1e3*Number(Fn[1]),Kr=Date.now();return{token:fn.token,expireTimeMillis:Kr+ai,issuedAtTimeMillis:Kr}})).apply(this,arguments)}function Re(Pe,Ie){const{projectId:Ce,appId:lt,apiKey:yt}=Pe.options;return{url:`${It}/projects/${Ce}/apps/${lt}:${qe}?key=${yt}`,body:{debug_token:Ie}}}const Ve="firebase-app-check-database",Ye=1,at="firebase-app-check-store";let tt=null;function _n(Pe,Ie){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,ce.Z)(function*(Pe,Ie){const lt=(yield function Dt(){return tt||(tt=new Promise((Pe,Ie)=>{try{const Ce=indexedDB.open(Ve,Ye);Ce.onsuccess=lt=>{Pe(lt.target.result)},Ce.onerror=lt=>{var yt;Ie(ve.create("storage-open",{originalErrorMessage:null===(yt=lt.target.error)||void 0===yt?void 0:yt.message}))},Ce.onupgradeneeded=lt=>{0===lt.oldVersion&&lt.target.result.createObjectStore(at,{keyPath:"compositeKey"})}}catch(Ce){Ie(ve.create("storage-open",{originalErrorMessage:Ce?.message}))}}),tt)}()).transaction(at,"readwrite"),ln=lt.objectStore(at).put({compositeKey:Pe,value:Ie});return new Promise((En,fn)=>{ln.onsuccess=Fn=>{En()},lt.onerror=Fn=>{var ai;fn(ve.create("storage-set",{originalErrorMessage:null===(ai=Fn.target.error)||void 0===ai?void 0:ai.message}))}})})).apply(this,arguments)}const Pt=new ke.Yd("@firebase/app-check");function xn(Pe,Ie){return(0,de.hl)()?function _t(Pe,Ie){return _n(function kt(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),Ie)}(Pe,Ie).catch(Ce=>{Pt.warn(`Failed to write token to IndexedDB. Error: ${Ce}`)}):Promise.resolve()}function sn(){return ct().enabled}function Gn(){return nr.apply(this,arguments)}function nr(){return(nr=(0,ce.Z)(function*(){const Pe=ct();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Wr={error:"UNKNOWN_ERROR"};function pn(Pe){return de.US.encodeString(JSON.stringify(Pe),!1)}function hn(Pe){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,ce.Z)(function*(Pe,Ie=!1){const Ce=Pe.app;At(Ce);const lt=Qe(Ce);let ln,yt=lt.token;if(yt&&!In(yt)&&(lt.token=void 0,yt=void 0),!yt){const Fn=yield lt.cachedTokenPromise;Fn&&(In(Fn)?yt=Fn:yield xn(Ce,void 0))}if(!Ie&&yt&&In(yt))return{token:yt.token};let fn,En=!1;if(sn()){lt.exchangeTokenPromise||(lt.exchangeTokenPromise=Et(Re(Ce,yield Gn()),Pe.heartbeatServiceProvider).finally(()=>{lt.exchangeTokenPromise=void 0}),En=!0);const Fn=yield lt.exchangeTokenPromise;return yield xn(Ce,Fn),lt.token=Fn,{token:Fn.token}}try{lt.exchangeTokenPromise||(lt.exchangeTokenPromise=lt.provider.getToken().finally(()=>{lt.exchangeTokenPromise=void 0}),En=!0),yt=yield Qe(Ce).exchangeTokenPromise}catch(Fn){"appCheck/throttled"===Fn.code?Pt.warn(Fn.message):Pt.error(Fn),ln=Fn}return yt?ln?fn=In(yt)?{token:yt.token,internalError:ln}:Fr(ln):(fn={token:yt.token},lt.token=yt,yield xn(Ce,yt)):fn=Fr(ln),En&&function pr(Pe,Ie){const Ce=Qe(Pe).tokenObservers;for(const lt of Ce)try{"EXTERNAL"===lt.type&&null!=Ie.error?lt.error(Ie.error):lt.next(Ie)}catch{}}(Ce,fn),fn})).apply(this,arguments)}function Ct(Pe){return sr.apply(this,arguments)}function sr(){return(sr=(0,ce.Z)(function*(Pe){const Ie=Pe.app;At(Ie);const{provider:Ce}=Qe(Ie);if(sn()){const lt=yield Gn(),{token:yt}=yield Et(Re(Ie,lt),Pe.heartbeatServiceProvider);return{token:yt}}{const{token:lt}=yield Ce.getToken();return{token:lt}}})).apply(this,arguments)}function Xn(Pe,Ie){const Ce=Qe(Pe),lt=Ce.tokenObservers.filter(yt=>yt.next!==Ie);0===lt.length&&Ce.tokenRefresher&&Ce.tokenRefresher.isRunning()&&Ce.tokenRefresher.stop(),Ce.tokenObservers=lt}function kr(Pe){const{app:Ie}=Pe,Ce=Qe(Ie);let lt=Ce.tokenRefresher;lt||(lt=function vr(Pe){const{app:Ie}=Pe;return new nt((0,ce.Z)(function*(){let lt;if(lt=Qe(Ie).token?yield hn(Pe,!0):yield hn(Pe),lt.error)throw lt.error;if(lt.internalError)throw lt.internalError}),()=>!0,()=>{const Ce=Qe(Ie);if(Ce.token){let lt=Ce.token.issuedAtTimeMillis+.5*(Ce.token.expireTimeMillis-Ce.token.issuedAtTimeMillis)+3e5;return lt=Math.min(lt,Ce.token.expireTimeMillis-3e5),Math.max(0,lt-Date.now())}return 0},ut.RETRIAL_MIN_WAIT,ut.RETRIAL_MAX_WAIT)}(Pe),Ce.tokenRefresher=lt),!lt.isRunning()&&Ce.isTokenAutoRefreshEnabled&&lt.start()}function In(Pe){return Pe.expireTimeMillis-Date.now()>0}function Fr(Pe){return{token:pn(Wr),error:Pe}}class bn{constructor(Ie,Ce){this.app=Ie,this.heartbeatServiceProvider=Ce}_delete(){const{tokenObservers:Ie}=Qe(this.app);for(const Ce of Ie)Xn(this.app,Ce.next);return Promise.resolve()}}const Ht="app-check-internal";!function an(){(0,be._registerComponent)(new Te.wA("app-check",Pe=>function qt(Pe,Ie){return new bn(Pe,Ie)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,Ie,Ce)=>{Pe.getProvider(Ht).initialize()})),(0,be._registerComponent)(new Te.wA(Ht,Pe=>function rn(Pe){return{getToken:Ie=>hn(Pe,Ie),getLimitedUseToken:()=>Ct(Pe),addTokenListener:Ie=>function or(Pe,Ie,Ce,lt){const{app:yt}=Pe,ln=Qe(yt);if(ln.tokenObservers=[...ln.tokenObservers,{next:Ce,error:lt,type:Ie}],ln.token&&In(ln.token)){const fn=ln.token;Promise.resolve().then(()=>{Ce({token:fn.token}),kr(Pe)}).catch(()=>{})}ln.cachedTokenPromise.then(()=>kr(Pe))}(Pe,"INTERNAL",Ie),removeTokenListener:Ie=>Xn(Pe.app,Ie)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)("@firebase/app-check","0.8.0")}();class On{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(Zt,Me,H)=>{"use strict";H.d(Me,{Ot:()=>_e,ZF:()=>Fe,hX:()=>Qe,z6:()=>ce});var p=H(259),B=H(4650),M=H(4976);class _e{constructor(nt){return nt}}class ce{constructor(){return(0,p.C6)()}}const de=new B.OlP("angularfire2._apps"),ke={provide:_e,useFactory:function Te(Ze){return Ze&&1===Ze.length?Ze[0]:new _e((0,p.Mq)())},deps:[[new B.FiY,de]]},ae={provide:ce,deps:[[new B.FiY,de]]};function ge(Ze){return(nt,ot)=>{const pt=nt.runOutsideAngular(()=>Ze(ot));return new _e(pt)}}let we=(()=>{class Ze{constructor(ot){(0,p.KN)("angularfire",M.q4.full,"core"),(0,p.KN)("angularfire",M.q4.full,"app"),(0,p.KN)("angular",B.q4F.full,ot.toString())}}return Ze.\u0275fac=function(ot){return new(ot||Ze)(B.LFG(B.Lbi))},Ze.\u0275mod=B.oAB({type:Ze}),Ze.\u0275inj=B.cJS({providers:[ke,ae]}),Ze})();function Qe(Ze,...nt){return{ngModule:we,providers:[{provide:de,useFactory:ge(Ze),multi:!0,deps:[B.R0b,B.zs3,M.HU,...nt]}]}}const Fe=(0,M.u3)(p.ZF,!0)},1205:(Zt,Me,H)=>{"use strict";H.d(Me,{zQ:()=>Un,ww:()=>je,rT:()=>Wt,f7:()=>Et,L6:()=>De,_Q:()=>At,lh:()=>bt,Qv:()=>ve,nw:()=>Tt});var p=H(4650),B=H(7579),M=H(9646),_e=H(9751),ce=H(8996),be=H(6451),Te=H(5363),de=H(3900),ke=H(4004),ae=H(6063);class ge extends B.x{constructor(Ve=1/0,Ye=1/0,at=ae.l){super(),this._bufferSize=Ve,this._windowTime=Ye,this._timestampProvider=at,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ye===1/0,this._bufferSize=Math.max(1,Ve),this._windowTime=Math.max(1,Ye)}next(Ve){const{isStopped:Ye,_buffer:at,_infiniteTimeWindow:et,_timestampProvider:tt,_windowTime:Dt}=this;Ye||(at.push(Ve),!et&&at.push(tt.now()+Dt)),this._trimBuffer(),super.next(Ve)}_subscribe(Ve){this._throwIfClosed(),this._trimBuffer();const Ye=this._innerSubscribe(Ve),{_infiniteTimeWindow:at,_buffer:et}=this,tt=et.slice();for(let Dt=0;Dt<tt.length&&!Ve.closed;Dt+=at?1:2)Ve.next(tt[Dt]);return this._checkFinalizedStatuses(Ve),Ye}_trimBuffer(){const{_bufferSize:Ve,_timestampProvider:Ye,_buffer:at,_infiniteTimeWindow:et}=this,tt=(et?1:2)*Ve;if(Ve<1/0&&tt<at.length&&at.splice(0,at.length-tt),!et){const Dt=Ye.now();let vn=0;for(let _t=1;_t<at.length&&at[_t]<=Dt;_t+=2)vn=_t;vn&&at.splice(0,vn+1)}}}var we=H(3099);function Qe(Re,Ve,Ye){let at,et=!1;return Re&&"object"==typeof Re?({bufferSize:at=1/0,windowTime:Ve=1/0,refCount:et=!1,scheduler:Ye}=Re):at=Re??1/0,(0,we.B)({connector:()=>new ge(at,Ve,Ye),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:et})}var Xe=H(590),ct=H(576);function It(Re,Ve){return(0,ct.m)(Ve)?(0,de.w)(()=>Re,Ve):(0,de.w)(()=>Re)}var Fe=H(9468),rt=H(9300),qe=H(4976),ut=H(2011),Ze=H(6895),nt=H(2313),ot=H(9260);const ve=new p.OlP("angularfire2.auth.use-emulator"),De=new p.OlP("angularfire2.auth.settings"),At=new p.OlP("angularfire2.auth.tenant-id"),Wt=new p.OlP("angularfire2.auth.langugage-code"),bt=new p.OlP("angularfire2.auth.use-device-language"),Et=new p.OlP("angularfire.auth.persistence"),Tt=(Re,Ve,Ye,at,et,tt,Dt,vn)=>(0,ut.cc)(`${Re.name}.auth`,"AngularFireAuth",Re.name,()=>{const _t=Ve.runOutsideAngular(()=>Re.auth());if(Ye&&_t.useEmulator(...Ye),at&&(_t.tenantId=at),_t.languageCode=et,tt&&_t.useDeviceLanguage(),Dt)for(const[St,Xt]of Object.entries(Dt))_t.settings[St]=Xt;return vn&&_t.setPersistence(vn),_t},[Ye,at,et,tt,Dt,vn]);let Un=(()=>{class Re{constructor(Ye,at,et,tt,Dt,vn,_t,St,Xt,_n,Bn,zn){const Ln=new B.x,kt=(0,M.of)(void 0).pipe((0,Te.Q)(Dt.outsideAngular),(0,de.w)(()=>tt.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,9568)))),(0,ke.U)(()=>(0,ut.on)(Ye,tt,at)),(0,ke.U)(Pt=>Tt(Pt,tt,vn,St,Xt,_n,_t,Bn)),Qe({bufferSize:1,refCount:!1}));if((0,Ze.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,M.of)(null);else{kt.pipe((0,Xe.P)()).subscribe();const $n=kt.pipe((0,de.w)(on=>on.getRedirectResult().then(xt=>xt,()=>null)),qe.iC,Qe({bufferSize:1,refCount:!1})),jn=kt.pipe((0,de.w)(on=>new _e.y(xt=>({unsubscribe:tt.runOutsideAngular(()=>on.onAuthStateChanged(sn=>xt.next(sn),sn=>xt.error(sn),()=>xt.complete()))})))),xn=kt.pipe((0,de.w)(on=>new _e.y(xt=>({unsubscribe:tt.runOutsideAngular(()=>on.onIdTokenChanged(sn=>xt.next(sn),sn=>xt.error(sn),()=>xt.complete()))}))));this.authState=$n.pipe(It(jn),(0,Fe.R)(Dt.outsideAngular),(0,Te.Q)(Dt.insideAngular)),this.user=$n.pipe(It(xn),(0,Fe.R)(Dt.outsideAngular),(0,Te.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,de.w)(on=>on?(0,ce.D)(on.getIdToken()):(0,M.of)(null))),this.idTokenResult=this.user.pipe((0,de.w)(on=>on?(0,ce.D)(on.getIdTokenResult()):(0,M.of)(null))),this.credential=(0,be.T)($n,Ln,this.authState.pipe((0,rt.h)(on=>!on))).pipe((0,ke.U)(on=>on?.user?on:null),(0,Fe.R)(Dt.outsideAngular),(0,Te.Q)(Dt.insideAngular))}return(0,ut.pX)(this,kt,tt,{spy:{apply:(Pt,$n,jn)=>{(Pt.startsWith("signIn")||Pt.startsWith("createUser"))&&jn.then(xn=>Ln.next(xn))}}})}}return Re.\u0275fac=function(Ye){return new(Ye||Re)(p.LFG(ut.Dh),p.LFG(ut.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(qe.HU),p.LFG(ve,8),p.LFG(De,8),p.LFG(At,8),p.LFG(Wt,8),p.LFG(bt,8),p.LFG(Et,8),p.LFG(nt.nm,8))},Re.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"any"}),Re})(),je=(()=>{class Re{constructor(){ot.Z.registerVersion("angularfire",qe.q4.full,"auth-compat")}}return Re.\u0275fac=function(Ye){return new(Ye||Re)},Re.\u0275mod=p.oAB({type:Re}),Re.\u0275inj=p.cJS({providers:[Un]}),Re})()},2011:(Zt,Me,H)=>{"use strict";H.d(Me,{Dh:()=>Te,GT:()=>ce,cc:()=>Qe,on:()=>ke,pX:()=>_e,xv:()=>de});var p=H(4650),B=H(9260);Zt=H.hmd(Zt);const M=["ngOnDestroy"],_e=(Fe,rt,qe,ut={})=>new Proxy(Fe,{get:(Ze,nt)=>qe.runOutsideAngular(()=>{var ot;if(Fe[nt])return!(null===(ot=ut?.spy)||void 0===ot)&&ot.get&&ut.spy.get(nt,Fe[nt]),Fe[nt];if(M.indexOf(nt)>-1)return()=>{};const pt=rt.toPromise().then(ve=>{const De=ve&&ve[nt];return"function"==typeof De?De.bind(ve):De&&De.then?De.then(At=>qe.run(()=>At)):qe.run(()=>De)});return new Proxy(()=>{},{get:(ve,De)=>pt[De],apply:(ve,De,At)=>pt.then(Wt=>{var bt;const Et=Wt&&Wt(...At);return!(null===(bt=ut?.spy)||void 0===bt)&&bt.apply&&ut.spy.apply(nt,At,Et),Et})})})}),ce=(Fe,rt)=>{rt.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(ut=>{Object.defineProperty(Fe.prototype,ut,Object.getOwnPropertyDescriptor(qe.prototype||qe,ut))})})};class be{constructor(rt){return rt}}const Te=new p.OlP("angularfire2.app.options"),de=new p.OlP("angularfire2.app.name");function ke(Fe,rt,qe){const Ze="object"==typeof qe&&qe||{};Ze.name=Ze.name||"string"==typeof qe&&qe||"[DEFAULT]";const ot=B.Z.apps.filter(pt=>pt&&pt.name===Ze.name)[0]||rt.runOutsideAngular(()=>B.Z.initializeApp(Fe,Ze));try{JSON.stringify(Fe)!==JSON.stringify(ot.options)&&ae("error",`${ot.name} Firebase App already initialized with different options${Zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(ot)}const ae=(Fe,...rt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Fe](...rt)};function Qe(Fe,rt,qe,ut,Ze){const[,nt,ot]=globalThis.\u0275AngularfireInstanceCache.find(pt=>pt[0]===Fe)||[];if(nt)return function Xe(Fe,rt){try{return Fe.toString()===rt.toString()}catch{return Fe===rt}}(Ze,ot)||(It("error",`${rt} was already initialized on the ${qe} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),It("warn",{is:Ze,was:ot})),nt;{const pt=ut();return globalThis.\u0275AngularfireInstanceCache.push([Fe,pt,Ze]),pt}}const ct=!!Zt.hot,It=(Fe,...rt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Fe](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Zt,Me,H)=>{"use strict";H.d(Me,{q4:()=>zo,iC:()=>ci,HU:()=>sl,vb:()=>Fl,JM:()=>yu,u3:()=>ol});var p=H(4650),B=H(259),M=H(5861),_e=H(6881),ce=H(2090),be=H(4859),Te=H(1877);const de=(I,P)=>P.some(K=>I instanceof K);let ke,ae;const Qe=new WeakMap,Xe=new WeakMap,ct=new WeakMap,It=new WeakMap,Fe=new WeakMap;let ut={get(I,P,K){if(I instanceof IDBTransaction){if("done"===P)return Xe.get(I);if("objectStoreNames"===P)return I.objectStoreNames||ct.get(I);if("store"===P)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return pt(I[P])},set:(I,P,K)=>(I[P]=K,!0),has:(I,P)=>I instanceof IDBTransaction&&("done"===P||"store"===P)||P in I};function ot(I){return"function"==typeof I?function nt(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...P){return I.apply(ve(this),P),pt(Qe.get(this))}:function(...P){return pt(I.apply(ve(this),P))}:function(P,...K){const se=I.call(ve(this),P,...K);return ct.set(se,P.sort?P.sort():[P]),pt(se)}}(I):(I instanceof IDBTransaction&&function qe(I){if(Xe.has(I))return;const P=new Promise((K,se)=>{const ye=()=>{I.removeEventListener("complete",Se),I.removeEventListener("error",it),I.removeEventListener("abort",it)},Se=()=>{K(),ye()},it=()=>{se(I.error||new DOMException("AbortError","AbortError")),ye()};I.addEventListener("complete",Se),I.addEventListener("error",it),I.addEventListener("abort",it)});Xe.set(I,P)}(I),de(I,function ge(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ut):I)}function pt(I){if(I instanceof IDBRequest)return function rt(I){const P=new Promise((K,se)=>{const ye=()=>{I.removeEventListener("success",Se),I.removeEventListener("error",it)},Se=()=>{K(pt(I.result)),ye()},it=()=>{se(I.error),ye()};I.addEventListener("success",Se),I.addEventListener("error",it)});return P.then(K=>{K instanceof IDBCursor&&Qe.set(K,I)}).catch(()=>{}),Fe.set(P,I),P}(I);if(It.has(I))return It.get(I);const P=ot(I);return P!==I&&(It.set(I,P),Fe.set(P,I)),P}const ve=I=>Fe.get(I),Wt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Et=new Map;function Tt(I,P){if(!(I instanceof IDBDatabase)||P in I||"string"!=typeof P)return;if(Et.get(P))return Et.get(P);const K=P.replace(/FromIndex$/,""),se=P!==K,ye=bt.includes(K);if(!(K in(se?IDBIndex:IDBObjectStore).prototype)||!ye&&!Wt.includes(K))return;const Se=function(){var it=(0,M.Z)(function*(Qt,...Gt){const wn=this.transaction(Qt,ye?"readwrite":"readonly");let Wn=wn.store;return se&&(Wn=Wn.index(Gt.shift())),(yield Promise.all([Wn[K](...Gt),ye&&wn.done]))[0]});return function(Gt){return it.apply(this,arguments)}}();return Et.set(P,Se),Se}!function Ze(I){ut=I(ut)}(I=>({...I,get:(P,K,se)=>Tt(P,K)||I.get(P,K,se),has:(P,K)=>!!Tt(P,K)||I.has(P,K)}));const Un="@firebase/installations",je="0.6.4",Re=1e4,Ve=`w:${je}`,Ye="FIS_v2",at="https://firebaseinstallations.googleapis.com/v1",et=36e5,_t=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function St(I){return I instanceof ce.ZR&&I.code.includes("request-failed")}function Xt({projectId:I}){return`${at}/projects/${I}/installations`}function _n(I){return{token:I.token,requestStatus:2,expiresIn:jn(I.expiresIn),creationTime:Date.now()}}function Bn(I,P){return zn.apply(this,arguments)}function zn(){return(zn=(0,M.Z)(function*(I,P){const se=(yield P.json()).error;return _t.create("request-failed",{requestName:I,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function Ln({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Pt(I){return $n.apply(this,arguments)}function $n(){return($n=(0,M.Z)(function*(I){const P=yield I();return P.status>=500&&P.status<600?I():P})).apply(this,arguments)}function jn(I){return Number(I.replace("s","000"))}function xt(){return(xt=(0,M.Z)(function*({appConfig:I,heartbeatServiceProvider:P},{fid:K}){const se=Xt(I),ye=Ln(I),Se=P.getImmediate({optional:!0});if(Se){const wn=yield Se.getHeartbeatsHeader();wn&&ye.append("x-firebase-client",wn)}const Qt={method:"POST",headers:ye,body:JSON.stringify({fid:K,authVersion:Ye,appId:I.appId,sdkVersion:Ve})},Gt=yield Pt(()=>fetch(se,Qt));if(Gt.ok){const wn=yield Gt.json();return{fid:wn.fid||K,registrationStatus:2,refreshToken:wn.refreshToken,authToken:_n(wn.authToken)}}throw yield Bn("Create Installation",Gt)})).apply(this,arguments)}function sn(I){return new Promise(P=>{setTimeout(P,I)})}const nr=/^[cdef][\w-]{21}$/,rr="";function Wr(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const K=function pn(I){return function Gn(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return nr.test(K)?K:rr}catch{return rr}}function hn(I){return`${I.appName}!${I.appId}`}const Lt=new Map;function Ct(I,P){const K=hn(I);Xn(K,P),function kr(I,P){const K=function pr(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=I=>{Xn(I.data.key,I.data.fid)}),vr}();K&&K.postMessage({key:I,fid:P}),function In(){0===Lt.size&&vr&&(vr.close(),vr=null)}()}(K,P)}function Xn(I,P){const K=Lt.get(I);if(K)for(const se of K)se(P)}let vr=null;const Fr="firebase-installations-database",bn=1,qt="firebase-installations-store";let rn=null;function ar(){return rn||(rn=function De(I,P,{blocked:K,upgrade:se,blocking:ye,terminated:Se}={}){const it=indexedDB.open(I,P),Qt=pt(it);return se&&it.addEventListener("upgradeneeded",Gt=>{se(pt(it.result),Gt.oldVersion,Gt.newVersion,pt(it.transaction))}),K&&it.addEventListener("blocked",()=>K()),Qt.then(Gt=>{Se&&Gt.addEventListener("close",()=>Se()),ye&&Gt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Qt}(Fr,bn,{upgrade:(I,P)=>{0===P&&I.createObjectStore(qt)}})),rn}function Yn(I,P){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,M.Z)(function*(I,P){const K=hn(I),ye=(yield ar()).transaction(qt,"readwrite"),Se=ye.objectStore(qt),it=yield Se.get(K);return yield Se.put(P,K),yield ye.done,(!it||it.fid!==P.fid)&&Ct(I,P.fid),P})).apply(this,arguments)}function er(I){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,M.Z)(function*(I){const P=hn(I),se=(yield ar()).transaction(qt,"readwrite");yield se.objectStore(qt).delete(P),yield se.done})).apply(this,arguments)}function Pr(I,P){return _r.apply(this,arguments)}function _r(){return(_r=(0,M.Z)(function*(I,P){const K=hn(I),ye=(yield ar()).transaction(qt,"readwrite"),Se=ye.objectStore(qt),it=yield Se.get(K),Qt=P(it);return void 0===Qt?yield Se.delete(K):yield Se.put(Qt,K),yield ye.done,Qt&&(!it||it.fid!==Qt.fid)&&Ct(I,Qt.fid),Qt})).apply(this,arguments)}function ee(I){return L.apply(this,arguments)}function L(){return L=(0,M.Z)(function*(I){let P;const K=yield Pr(I.appConfig,se=>{const ye=function N(I){return Ee(I||{fid:Wr(),registrationStatus:0})}(se),Se=function $(I,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(_t.create("app-offline"))};const K={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},se=function j(I,P){return he.apply(this,arguments)}(I,K);return{installationEntry:K,registrationPromise:se}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:oe(I)}:{installationEntry:P}}(I,ye);return P=Se.registrationPromise,Se.installationEntry});return K.fid===rr?{installationEntry:yield P}:{installationEntry:K,registrationPromise:P}}),L.apply(this,arguments)}function he(){return he=(0,M.Z)(function*(I,P){try{const K=yield function on(I,P){return xt.apply(this,arguments)}(I,P);return Yn(I.appConfig,K)}catch(K){throw St(K)&&409===K.customData.serverCode?yield er(I.appConfig):yield Yn(I.appConfig,{fid:P.fid,registrationStatus:0}),K}}),he.apply(this,arguments)}function oe(I){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(I){let P=yield ie(I.appConfig);for(;1===P.registrationStatus;)yield sn(100),P=yield ie(I.appConfig);if(0===P.registrationStatus){const{installationEntry:K,registrationPromise:se}=yield ee(I);return se||K}return P})).apply(this,arguments)}function ie(I){return Pr(I,P=>{if(!P)throw _t.create("installation-not-found");return Ee(P)})}function Ee(I){return function Ue(I){return 1===I.registrationStatus&&I.registrationTime+Re<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Jt(){return(Jt=(0,M.Z)(function*({appConfig:I,heartbeatServiceProvider:P},K){const se=function en(I,{fid:P}){return`${Xt(I)}/${P}/authTokens:generate`}(I,K),ye=function kt(I,{refreshToken:P}){const K=Ln(I);return K.append("Authorization",function xn(I){return`${Ye} ${I}`}(P)),K}(I,K),Se=P.getImmediate({optional:!0});if(Se){const wn=yield Se.getHeartbeatsHeader();wn&&ye.append("x-firebase-client",wn)}const Qt={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:Ve,appId:I.appId}})},Gt=yield Pt(()=>fetch(se,Qt));if(Gt.ok)return _n(yield Gt.json());throw yield Bn("Generate Auth Token",Gt)})).apply(this,arguments)}function Vn(I){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,M.Z)(function*(I,P=!1){let K;const se=yield Pr(I.appConfig,Se=>{if(!Dn(Se))throw _t.create("not-registered");const it=Se.authToken;if(!P&&function Yt(I){return 2===I.requestStatus&&!function On(I){const P=Date.now();return P<I.creationTime||I.creationTime+I.expiresIn<P+et}(I)}(it))return Se;if(1===it.requestStatus)return K=function We(I,P){return Oe.apply(this,arguments)}(I,P),Se;{if(!navigator.onLine)throw _t.create("app-offline");const Qt=function kn(I){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:P})}(Se);return K=function Ht(I,P){return an.apply(this,arguments)}(I,Qt),Qt}});return K?yield K:se.authToken}),Ar.apply(this,arguments)}function Oe(){return(Oe=(0,M.Z)(function*(I,P){let K=yield wt(I.appConfig);for(;1===K.authToken.requestStatus;)yield sn(100),K=yield wt(I.appConfig);const se=K.authToken;return 0===se.requestStatus?Vn(I,P):se})).apply(this,arguments)}function wt(I){return Pr(I,P=>{if(!Dn(P))throw _t.create("not-registered");return function Br(I){return 1===I.requestStatus&&I.requestTime+Re<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function an(){return an=(0,M.Z)(function*(I,P){try{const K=yield function ht(I,P){return Jt.apply(this,arguments)}(I,P),se=Object.assign(Object.assign({},P),{authToken:K});return yield Yn(I.appConfig,se),K}catch(K){if(!St(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const se=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Yn(I.appConfig,se)}else yield er(I.appConfig);throw K}}),an.apply(this,arguments)}function Dn(I){return void 0!==I&&2===I.registrationStatus}function mi(){return(mi=(0,M.Z)(function*(I){const P=I,{installationEntry:K,registrationPromise:se}=yield ee(P);return se?se.catch(console.error):Vn(P).catch(console.error),K.fid})).apply(this,arguments)}function Oi(){return Oi=(0,M.Z)(function*(I,P=!1){const K=I;return yield function Rr(I){return Bt.apply(this,arguments)}(K),(yield Vn(K,P)).token}),Oi.apply(this,arguments)}function Bt(){return(Bt=(0,M.Z)(function*(I){const{registrationPromise:P}=yield ee(I);P&&(yield P)})).apply(this,arguments)}function Ie(I){return _t.create("missing-app-config-values",{valueName:I})}const Ce="installations",yt=I=>{const P=I.getProvider("app").getImmediate(),K=function Pe(I){if(!I||!I.options)throw Ie("App Configuration");if(!I.name)throw Ie("App Name");const P=["projectId","apiKey","appId"];for(const K of P)if(!I.options[K])throw Ie(K);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(P);return{app:P,appConfig:K,heartbeatServiceProvider:(0,_e._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},ln=I=>{const P=I.getProvider("app").getImmediate(),K=(0,_e._getProvider)(P,Ce).getImmediate();return{getId:()=>function Ir(I){return mi.apply(this,arguments)}(K),getToken:ye=>function $r(I){return Oi.apply(this,arguments)}(K,ye)}};(function En(){(0,_e._registerComponent)(new be.wA(Ce,yt,"PUBLIC")),(0,_e._registerComponent)(new be.wA("installations-internal",ln,"PRIVATE"))})(),(0,_e.registerVersion)(Un,je),(0,_e.registerVersion)(Un,je,"esm2017");const fn="@firebase/remote-config",Yr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hs{constructor(P,K,se,ye){this.client=P,this.storage=K,this.storageCache=se,this.logger=ye}isCachedDataFresh(P,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-K,ye=se<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${ye}.`),ye}fetch(P){var K=this;return(0,M.Z)(function*(){const[se,ye]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(ye&&K.isCachedDataFresh(P.cacheMaxAgeMillis,se))return ye;P.eTag=ye&&ye.eTag;const Se=yield K.client.fetch(P),it=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Se.status&&it.push(K.storage.setLastSuccessfulFetchResponse(Se)),yield Promise.all(it),Se})()}}function Fi(I=navigator){return I.languages&&I.languages[0]||I.language}class oo{constructor(P,K,se,ye,Se,it){this.firebaseInstallations=P,this.sdkVersion=K,this.namespace=se,this.projectId=ye,this.apiKey=Se,this.appId=it}fetch(P){var K=this;return(0,M.Z)(function*(){const[se,ye]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Gt={sdk_version:K.sdkVersion,app_instance_id:se,app_instance_id_token:ye,app_id:K.appId,language_code:Fi()},wn={method:"POST",headers:Qt,body:JSON.stringify(Gt)},Wn=fetch(it,wn),qn=new Promise((So,Ao)=>{P.signal.addEventListener(()=>{const fc=new Error("The operation was aborted.");fc.name="AbortError",Ao(fc)})});let js;try{yield Promise.race([Wn,qn]),js=yield Wn}catch(So){let Ao="fetch-client-network";throw"AbortError"===So?.name&&(Ao="fetch-timeout"),Yr.create(Ao,{originalErrorMessage:So?.message})}let Ms=js.status;const Ya=js.headers.get("ETag")||void 0;let Vl,Qa;if(200===js.status){let So;try{So=yield js.json()}catch(Ao){throw Yr.create("fetch-client-parse",{originalErrorMessage:Ao?.message})}Vl=So.entries,Qa=So.state}if("INSTANCE_STATE_UNSPECIFIED"===Qa?Ms=500:"NO_CHANGE"===Qa?Ms=304:("NO_TEMPLATE"===Qa||"EMPTY_CONFIG"===Qa)&&(Vl={}),304!==Ms&&200!==Ms)throw Yr.create("fetch-status",{httpStatus:Ms});return{status:Ms,eTag:Ya,config:Vl}})()}}class Es{constructor(P,K){this.client=P,this.storage=K}fetch(P){var K=this;return(0,M.Z)(function*(){const se=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(P,se)})()}attemptFetch(P,{throttleEndTimeMillis:K,backoffCount:se}){var ye=this;return(0,M.Z)(function*(){yield function Oo(I,P){return new Promise((K,se)=>{const ye=Math.max(P-Date.now(),0),Se=setTimeout(K,ye);I.addEventListener(()=>{clearTimeout(Se),se(Yr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,K);try{const Se=yield ye.client.fetch(P);return yield ye.storage.deleteThrottleMetadata(),Se}catch(Se){if(!function Ko(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const P=Number(I.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Se))throw Se;const it={throttleEndTimeMillis:Date.now()+(0,ce.$s)(se),backoffCount:se+1};return yield ye.storage.setThrottleMetadata(it),ye.attemptFetch(P,it)}})()}}class ao{constructor(P,K,se,ye,Se){this.app=P,this._client=K,this._storageCache=se,this._storage=ye,this._logger=Se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Li(I,P){const K=I.target.error||void 0;return Yr.create(P,{originalErrorMessage:K&&K?.message})}const fs="app_namespace_store";class Cs{constructor(P,K,se,ye=function uo(){return new Promise((I,P)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=se=>{P(Li(se,"storage-open"))},K.onsuccess=se=>{I(se.target.result)},K.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(fs,{keyPath:"compositeKey"})}}catch(K){P(Yr.create("storage-open",{originalErrorMessage:K?.message}))}})}()){this.appId=P,this.appName=K,this.namespace=se,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var K=this;return(0,M.Z)(function*(){const se=yield K.openDbPromise;return new Promise((ye,Se)=>{const Qt=se.transaction([fs],"readonly").objectStore(fs),Gt=K.createCompositeKey(P);try{const wn=Qt.get(Gt);wn.onerror=Wn=>{Se(Li(Wn,"storage-get"))},wn.onsuccess=Wn=>{const qn=Wn.target.result;ye(qn?qn.value:void 0)}}catch(wn){Se(Yr.create("storage-get",{originalErrorMessage:wn?.message}))}})})()}set(P,K){var se=this;return(0,M.Z)(function*(){const ye=yield se.openDbPromise;return new Promise((Se,it)=>{const Gt=ye.transaction([fs],"readwrite").objectStore(fs),wn=se.createCompositeKey(P);try{const Wn=Gt.put({compositeKey:wn,value:K});Wn.onerror=qn=>{it(Li(qn,"storage-set"))},Wn.onsuccess=()=>{Se()}}catch(Wn){it(Yr.create("storage-set",{originalErrorMessage:Wn?.message}))}})})()}delete(P){var K=this;return(0,M.Z)(function*(){const se=yield K.openDbPromise;return new Promise((ye,Se)=>{const Qt=se.transaction([fs],"readwrite").objectStore(fs),Gt=K.createCompositeKey(P);try{const wn=Qt.delete(Gt);wn.onerror=Wn=>{Se(Li(Wn,"storage-delete"))},wn.onsuccess=()=>{ye()}}catch(wn){Se(Yr.create("storage-delete",{originalErrorMessage:wn?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Zi{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,M.Z)(function*(){const K=P.storage.getLastFetchStatus(),se=P.storage.getLastSuccessfulFetchTimestampMillis(),ye=P.storage.getActiveConfig(),Se=yield K;Se&&(P.lastFetchStatus=Se);const it=yield se;it&&(P.lastSuccessfulFetchTimestampMillis=it);const Qt=yield ye;Qt&&(P.activeConfig=Qt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Ds(){return ps.apply(this,arguments)}function ps(){return(ps=(0,M.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Os(){(0,_e._registerComponent)(new be.wA("remote-config",function I(P,{instanceIdentifier:K}){const se=P.getProvider("app").getImmediate(),ye=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yr.create("registration-window");if(!(0,ce.hl)())throw Yr.create("indexed-db-unavailable");const{projectId:Se,apiKey:it,appId:Qt}=se.options;if(!Se)throw Yr.create("registration-project-id");if(!it)throw Yr.create("registration-api-key");if(!Qt)throw Yr.create("registration-app-id");const Gt=new Cs(Qt,se.name,K=K||"firebase"),wn=new Zi(Gt),Wn=new Te.Yd(fn);Wn.logLevel=Te.in.ERROR;const qn=new oo(ye,_e.SDK_VERSION,K,Se,it,Qt),js=new Es(qn,Gt),Ms=new hs(js,Gt,wn,Wn),Ya=new ao(se,Ms,wn,Gt,Wn);return function ui(I){const P=(0,ce.m9)(I);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(fn,"0.4.4"),(0,_e.registerVersion)(fn,"0.4.4","esm2017")}();const lo=(I,P)=>P.some(K=>I instanceof K);let Yi,mt;const Pn=new WeakMap,xr=new WeakMap,wr=new WeakMap,hi=new WeakMap,Qi=new WeakMap;let zs={get(I,P,K){if(I instanceof IDBTransaction){if("done"===P)return xr.get(I);if("objectStoreNames"===P)return I.objectStoreNames||wr.get(I);if("store"===P)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return yi(I[P])},set:(I,P,K)=>(I[P]=K,!0),has:(I,P)=>I instanceof IDBTransaction&&("done"===P||"store"===P)||P in I};function No(I){return"function"==typeof I?function yo(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mt(){return mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...P){return I.apply(li(this),P),yi(Pn.get(this))}:function(...P){return yi(I.apply(li(this),P))}:function(P,...K){const se=I.call(li(this),P,...K);return wr.set(se,P.sort?P.sort():[P]),yi(se)}}(I):(I instanceof IDBTransaction&&function Ci(I){if(xr.has(I))return;const P=new Promise((K,se)=>{const ye=()=>{I.removeEventListener("complete",Se),I.removeEventListener("error",it),I.removeEventListener("abort",it)},Se=()=>{K(),ye()},it=()=>{se(I.error||new DOMException("AbortError","AbortError")),ye()};I.addEventListener("complete",Se),I.addEventListener("error",it),I.addEventListener("abort",it)});xr.set(I,P)}(I),lo(I,function yn(){return Yi||(Yi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,zs):I)}function yi(I){if(I instanceof IDBRequest)return function jr(I){const P=new Promise((K,se)=>{const ye=()=>{I.removeEventListener("success",Se),I.removeEventListener("error",it)},Se=()=>{K(yi(I.result)),ye()},it=()=>{se(I.error),ye()};I.addEventListener("success",Se),I.addEventListener("error",it)});return P.then(K=>{K instanceof IDBCursor&&Pn.set(K,I)}).catch(()=>{}),Qi.set(P,I),P}(I);if(hi.has(I))return hi.get(I);const P=No(I);return P!==I&&(hi.set(I,P),Qi.set(P,I)),P}const li=I=>Qi.get(I);function Ts(I,P,{blocked:K,upgrade:se,blocking:ye,terminated:Se}={}){const it=indexedDB.open(I,P),Qt=yi(it);return se&&it.addEventListener("upgradeneeded",Gt=>{se(yi(it.result),Gt.oldVersion,Gt.newVersion,yi(it.transaction))}),K&&it.addEventListener("blocked",()=>K()),Qt.then(Gt=>{Se&&Gt.addEventListener("close",()=>Se()),ye&&Gt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Qt}function ni(I,{blocked:P}={}){const K=indexedDB.deleteDatabase(I);return P&&K.addEventListener("blocked",()=>P()),yi(K).then(()=>{})}const Zo=["get","getKey","getAll","getAllKeys","count"],fi=["put","add","delete","clear"],Ns=new Map;function vi(I,P){if(!(I instanceof IDBDatabase)||P in I||"string"!=typeof P)return;if(Ns.get(P))return Ns.get(P);const K=P.replace(/FromIndex$/,""),se=P!==K,ye=fi.includes(K);if(!(K in(se?IDBIndex:IDBObjectStore).prototype)||!ye&&!Zo.includes(K))return;const Se=function(){var it=(0,M.Z)(function*(Qt,...Gt){const wn=this.transaction(Qt,ye?"readwrite":"readonly");let Wn=wn.store;return se&&(Wn=Wn.index(Gt.shift())),(yield Promise.all([Wn[K](...Gt),ye&&wn.done]))[0]});return function(Gt){return it.apply(this,arguments)}}();return Ns.set(P,Se),Se}!function Qn(I){zs=I(zs)}(I=>({...I,get:(P,K,se)=>vi(P,K)||I.get(P,K,se),has:(P,K)=>!!vi(P,K)||I.has(P,K)}));const Mn="/firebase-messaging-sw.js",co="/firebase-cloud-messaging-push-scope",ko="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vo="https://fcmregistrations.googleapis.com/v1",Vi="google.c.a.c_id",ks="google.c.a.c_l",Fo="google.c.a.ts",Gs="google.c.a.e";var x=(()=>{return(I=x||(x={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",x;var I})();function k(I){const P=new Uint8Array(I);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(I){const K=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(K),ye=new Uint8Array(se.length);for(let Se=0;Se<se.length;++Se)ye[Se]=se.charCodeAt(Se);return ye}const J="fcm_token_details_db",Le=5,tn="fcm_token_object_Store";function Or(){return Or=(0,M.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Se=>Se.name).includes(J))return null;let P=null;return(yield Ts(J,Le,{upgrade:(se=(0,M.Z)(function*(ye,Se,it,Qt){var Gt;if(Se<2||!ye.objectStoreNames.contains(tn))return;const wn=Qt.objectStore(tn),Wn=yield wn.index("fcmSenderId").get(I);if(yield wn.clear(),Wn)if(2===Se){const qn=Wn;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;P={token:qn.fcmToken,createTime:null!==(Gt=qn.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:k(qn.vapidKey)}}}else if(3===Se){const qn=Wn;P={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:k(qn.auth),p256dh:k(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:k(qn.vapidKey)}}}else if(4===Se){const qn=Wn;P={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:k(qn.auth),p256dh:k(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:k(qn.vapidKey)}}}}),function(Se,it,Qt,Gt){return se.apply(this,arguments)})})).close(),yield ni(J),yield ni("fcm_vapid_details_db"),yield ni("undefined"),function is(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:P}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var se}),Or.apply(this,arguments)}const Ji="firebase-messaging-database",Ss=1,_i="firebase-messaging-store";let Ui=null;function pi(){return Ui||(Ui=Ts(Ji,Ss,{upgrade:(I,P)=>{0===P&&I.createObjectStore(_i)}})),Ui}function Bi(I){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,M.Z)(function*(I){const P=ga(I),se=yield(yield pi()).transaction(_i).objectStore(_i).get(P);if(se)return se;{const ye=yield function hr(I){return Or.apply(this,arguments)}(I.appConfig.senderId);if(ye)return yield Fs(I,ye),ye}}),Ws.apply(this,arguments)}function Fs(I,P){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,M.Z)(function*(I,P){const K=ga(I),ye=(yield pi()).transaction(_i,"readwrite");return yield ye.objectStore(_i).put(P,K),yield ye.done,P})).apply(this,arguments)}function ho(){return(ho=(0,M.Z)(function*(I){const P=ga(I),se=(yield pi()).transaction(_i,"readwrite");yield se.objectStore(_i).delete(P),yield se.done})).apply(this,arguments)}function ga({appConfig:I}){return I.appId}const ri=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Di(I,P){return fo.apply(this,arguments)}function fo(){return(fo=(0,M.Z)(function*(I,P){const K=yield Eo(I),se=Io(P),ye={method:"POST",headers:K,body:JSON.stringify(se)};let Se;try{Se=yield(yield fetch(na(I.appConfig),ye)).json()}catch(it){throw ri.create("token-subscribe-failed",{errorInfo:it?.toString()})}if(Se.error)throw ri.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw ri.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function wo(){return(wo=(0,M.Z)(function*(I,P){const K=yield Eo(I),se=Io(P.subscriptionOptions),ye={method:"PATCH",headers:K,body:JSON.stringify(se)};let Se;try{Se=yield(yield fetch(`${na(I.appConfig)}/${P.token}`,ye)).json()}catch(it){throw ri.create("token-update-failed",{errorInfo:it?.toString()})}if(Se.error)throw ri.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw ri.create("token-update-no-token");return Se.token})).apply(this,arguments)}function ta(I,P){return $i.apply(this,arguments)}function $i(){return($i=(0,M.Z)(function*(I,P){const se={method:"DELETE",headers:yield Eo(I)};try{const Se=yield(yield fetch(`${na(I.appConfig)}/${P}`,se)).json();if(Se.error)throw ri.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(ye){throw ri.create("token-unsubscribe-failed",{errorInfo:ye?.toString()})}})).apply(this,arguments)}function na({projectId:I}){return`${vo}/projects/${I}/registrations`}function Eo(I){return As.apply(this,arguments)}function As(){return(As=(0,M.Z)(function*({appConfig:I,installations:P}){const K=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Io({p256dh:I,auth:P,endpoint:K,vapidKey:se}){const ye={web:{endpoint:K,auth:P,p256dh:I}};return se!==ko&&(ye.web.applicationPubKey=se),ye}const Ls=6048e5;function Pi(){return Pi=(0,M.Z)(function*(I){const P=yield function Yo(I,P){return xa.apply(this,arguments)}(I.swRegistration,I.vapidKey),K={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:P.endpoint,auth:k(P.getKey("auth")),p256dh:k(P.getKey("p256dh"))},se=yield Bi(I.firebaseDependencies);if(se){if(function Us(I,P){return P.vapidKey===I.vapidKey&&P.endpoint===I.endpoint&&P.auth===I.auth&&P.p256dh===I.p256dh}(se.subscriptionOptions,K))return Date.now()>=se.createTime+Ls?function Nr(I,P){return Vo.apply(this,arguments)}(I,{token:se.token,createTime:Date.now(),subscriptionOptions:K}):se.token;try{yield ta(I.firebaseDependencies,se.token)}catch(ye){console.warn(ye)}return Vs(I.firebaseDependencies,K)}return Vs(I.firebaseDependencies,K)}),Pi.apply(this,arguments)}function Ti(){return Ti=(0,M.Z)(function*(I){const P=yield Bi(I.firebaseDependencies);P&&(yield ta(I.firebaseDependencies,P.token),yield function Mi(I){return ho.apply(this,arguments)}(I.firebaseDependencies));const K=yield I.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()}),Ti.apply(this,arguments)}function Vo(){return Vo=(0,M.Z)(function*(I,P){try{const K=yield function Er(I,P){return wo.apply(this,arguments)}(I.firebaseDependencies,P),se=Object.assign(Object.assign({},P),{token:K,createTime:Date.now()});return yield Fs(I.firebaseDependencies,se),K}catch(K){throw yield function fr(I){return Ti.apply(this,arguments)}(I),K}}),Vo.apply(this,arguments)}function Vs(I,P){return ra.apply(this,arguments)}function ra(){return(ra=(0,M.Z)(function*(I,P){const se={token:yield Di(I,P),createTime:Date.now(),subscriptionOptions:P};return yield Fs(I,se),se.token})).apply(this,arguments)}function xa(){return(xa=(0,M.Z)(function*(I,P){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(P)})})).apply(this,arguments)}function xs(I){const P={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ma(I,P){if(!P.notification)return;I.notification={};const K=P.notification.title;K&&(I.notification.title=K);const se=P.notification.body;se&&(I.notification.body=se);const ye=P.notification.image;ye&&(I.notification.image=ye);const Se=P.notification.icon;Se&&(I.notification.icon=Se)}(P,I),function Ma(I,P){P.data&&(I.data=P.data)}(P,I),function A(I,P){var K,se,ye,Se,it;if(!(P.fcmOptions||null!==(K=P.notification)&&void 0!==K&&K.click_action))return;I.fcmOptions={};const Qt=null!==(ye=null===(se=P.fcmOptions)||void 0===se?void 0:se.link)&&void 0!==ye?ye:null===(Se=P.notification)||void 0===Se?void 0:Se.click_action;Qt&&(I.fcmOptions.link=Qt);const Gt=null===(it=P.fcmOptions)||void 0===it?void 0:it.analytics_label;Gt&&(I.fcmOptions.analyticsLabel=Gt)}(P,I),P}function F(I,P){const K=[];for(let se=0;se<I.length;se++)K.push(I.charAt(se)),se<P.length&&K.push(P.charAt(se));return K.join("")}function pe(I){return ri.create("missing-app-config-values",{valueName:I})}F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),F("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ke{constructor(P,K,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function Q(I){if(!I||!I.options)throw pe("App Configuration Object");if(!I.name)throw pe("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:K}=I;for(const se of P)if(!K[se])throw pe(se);return{appName:I.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:ye,installations:K,analyticsProvider:se}}_delete(){return Promise.resolve()}}function E(I){return C.apply(this,arguments)}function C(){return(C=(0,M.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Mn,{scope:co}),I.swRegistration.update().catch(()=>{})}catch(P){throw ri.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function ue(){return(ue=(0,M.Z)(function*(I,P){if(!P&&!I.swRegistration&&(yield E(I)),P||!I.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");I.swRegistration=P}})).apply(this,arguments)}function Rt(){return(Rt=(0,M.Z)(function*(I,P){P?I.vapidKey=P:I.vapidKey||(I.vapidKey=ko)})).apply(this,arguments)}function gn(){return gn=(0,M.Z)(function*(I,P){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield function Be(I,P){return Rt.apply(this,arguments)}(I,P?.vapidKey),yield function q(I,P){return ue.apply(this,arguments)}(I,P?.serviceWorkerRegistration),function ji(I){return Pi.apply(this,arguments)}(I)}),gn.apply(this,arguments)}function wi(){return(wi=(0,M.Z)(function*(I,P,K){const se=function Vt(I){switch(I){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:K[Vi],message_name:K[ks],message_time:K[Fo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ri(){return Ri=(0,M.Z)(function*(I,P){const K=P.data;if(!K.isFirebaseMessaging)return;I.onMessageHandler&&K.messageType===x.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(xs(K)):I.onMessageHandler.next(xs(K)));const se=K.data;(function G(I){return"object"==typeof I&&!!I&&Vi in I})(se)&&"1"===se[Gs]&&(yield function Hn(I,P,K){return wi.apply(this,arguments)}(I,K.messageType,se))}),Ri.apply(this,arguments)}const Nt="@firebase/messaging",gt=I=>{const P=new Ke(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function un(I,P){return Ri.apply(this,arguments)}(P,K)),P},Si=I=>{const P=I.getProvider("messaging").getImmediate();return{getToken:se=>function Je(I,P){return gn.apply(this,arguments)}(P,se)}};function uu(){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,M.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pa(){(0,_e._registerComponent)(new be.wA("messaging",gt,"PUBLIC")),(0,_e._registerComponent)(new be.wA("messaging-internal",Si,"PRIVATE")),(0,_e.registerVersion)(Nt,"0.12.4"),(0,_e.registerVersion)(Nt,"0.12.4","esm2017")}();const Nn="analytics",sa="firebase_id",Ba="origin",Zr=6e4,Cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oa="https://www.googletagmanager.com/gtag/js",Rn=new Te.Yd("@firebase/analytics"),Zn=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zt(I){if(!I.startsWith(oa)){const P=Zn.create("invalid-gtag-resource",{gtagURL:I});return Rn.warn(P.message),""}return I}function Uo(I){return Promise.all(I.map(P=>P.catch(K=>K)))}function va(){return(va=(0,M.Z)(function*(I,P,K,se,ye,Se){const it=se[ye];try{if(it)yield P[it];else{const Gt=(yield Uo(K)).find(wn=>wn.measurementId===ye);Gt&&(yield P[Gt.appId])}}catch(Qt){Rn.error(Qt)}I("config",ye,Se)})).apply(this,arguments)}function aa(){return(aa=(0,M.Z)(function*(I,P,K,se,ye){try{let Se=[];if(ye&&ye.send_to){let it=ye.send_to;Array.isArray(it)||(it=[it]);const Qt=yield Uo(K);for(const Gt of it){const wn=Qt.find(qn=>qn.measurementId===Gt),Wn=wn&&P[wn.appId];if(!Wn){Se=[];break}Se.push(Wn)}}0===Se.length&&(Se=Object.values(P)),yield Promise.all(Se),I("event",se,ye||{})}catch(Se){Rn.error(Se)}})).apply(this,arguments)}const ja=30,bo=new class as{constructor(P={},K=1e3){this.throttleMetadata=P,this.intervalMillis=K}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,K){this.throttleMetadata[P]=K}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function ze(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function gr(){return(gr=(0,M.Z)(function*(I){var P;const{appId:K,apiKey:se}=I,ye={method:"GET",headers:ze(se)},Se=Cn.replace("{app-id}",K),it=yield fetch(Se,ye);if(200!==it.status&&304!==it.status){let Qt="";try{const Gt=yield it.json();null!==(P=Gt.error)&&void 0!==P&&P.message&&(Qt=Gt.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Qt})}return it.json()})).apply(this,arguments)}function wa(){return(wa=(0,M.Z)(function*(I,P=bo,K){const{appId:se,apiKey:ye,measurementId:Se}=I.options;if(!se)throw Zn.create("no-app-id");if(!ye){if(Se)return{measurementId:Se,appId:se};throw Zn.create("no-api-key")}const it=P.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new Ru;return setTimeout((0,M.Z)(function*(){Qt.abort()}),void 0!==K?K:Zr),Bo({appId:se,apiKey:ye,measurementId:Se},it,Qt,P)})).apply(this,arguments)}function Bo(I,P,K){return el.apply(this,arguments)}function el(){return el=(0,M.Z)(function*(I,{throttleEndTimeMillis:P,backoffCount:K},se,ye=bo){var Se;const{appId:it,measurementId:Qt}=I;try{yield function ua(I,P){return new Promise((K,se)=>{const ye=Math.max(P-Date.now(),0),Se=setTimeout(K,ye);I.addEventListener(()=>{clearTimeout(Se),se(Zn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(se,P)}catch(Gt){if(Qt)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:it,measurementId:Qt};throw Gt}try{const Gt=yield function Pu(I){return gr.apply(this,arguments)}(I);return ye.deleteThrottleMetadata(it),Gt}catch(Gt){const wn=Gt;if(!function Nl(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const P=Number(I.customData.httpStatus);return 429===P||500===P||503===P||504===P}(wn)){if(ye.deleteThrottleMetadata(it),Qt)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${wn?.message}]`),{appId:it,measurementId:Qt};throw Gt}const Wn=503===Number(null===(Se=wn?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,ce.$s)(K,ye.intervalMillis,ja):(0,ce.$s)(K,ye.intervalMillis),qn={throttleEndTimeMillis:Date.now()+Wn,backoffCount:K+1};return ye.setThrottleMetadata(it,qn),Rn.debug(`Calling attemptFetch again in ${Wn} millis`),Bo(I,qn,se,ye)}}),el.apply(this,arguments)}class Ru{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Ea,hu;function Zs(){return(Zs=(0,M.Z)(function*(I,P,K,se,ye){if(ye&&ye.global)I("event",K,se);else{const Se=yield P;I("event",K,Object.assign(Object.assign({},se),{send_to:Se}))}})).apply(this,arguments)}function Oa(){return(Oa=(0,M.Z)(function*(){if(!(0,ce.hl)())return Rn.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(I){return Rn.warn(Zn.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function _(){return _=(0,M.Z)(function*(I,P,K,se,ye,Se,it){var Qt;const Gt=function cu(I){return wa.apply(this,arguments)}(I);Gt.then(Ms=>{K[Ms.measurementId]=Ms.appId,I.options.measurementId&&Ms.measurementId!==I.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Ms.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ms=>Rn.error(Ms)),P.push(Gt);const wn=function Js(){return Oa.apply(this,arguments)}().then(Ms=>{if(Ms)return se.getId()}),[Wn,qn]=yield Promise.all([Gt,wn]);(function Ks(I){const P=window.document.getElementsByTagName("script");for(const K of Object.values(P))if(K.src&&K.src.includes(oa)&&K.src.includes(I))return K;return null})(Se)||function qs(I,P){const K=function ya(I,P){let K;return window.trustedTypes&&(K=window.trustedTypes.createPolicy(I,P)),K}("firebase-js-sdk-policy",{createScriptURL:zt}),se=document.createElement("script"),ye=`${oa}?l=${I}&id=${P}`;se.src=K?K?.createScriptURL(ye):ye,se.async=!0,document.head.appendChild(se)}(Se,Wn.measurementId),hu&&(ye("consent","default",hu),function Ga(I){hu=I}(void 0)),ye("js",new Date);const js=null!==(Qt=it?.config)&&void 0!==Qt?Qt:{};return js[Ba]="firebase",js.update=!0,null!=qn&&(js[sa]=qn),ye("config",Wn.measurementId,js),Ea&&(ye("set",Ea),function fu(I){Ea=I}(void 0)),Wn.measurementId}),_.apply(this,arguments)}class m{constructor(P){this.app=P}_delete(){return delete S[this.app.options.appId],Promise.resolve()}}let S={},U=[];const Y={};let ft,$t,ne="dataLayer",Ne="gtag",Kt=!1;function Ho(I,P,K){!function si(){const I=[];if((0,ce.ru)()&&I.push("This is a browser extension environment."),(0,ce.zI)()||I.push("Cookies are not available."),I.length>0){const P=I.map((se,ye)=>`(${ye+1}) ${se}`).join(" "),K=Zn.create("invalid-analytics-context",{errorInfo:P});Rn.warn(K.message)}}();const se=I.options.appId;if(!se)throw Zn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Zn.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=S[se])throw Zn.create("already-exists",{id:se});if(!Kt){!function Xu(I){let P=[];Array.isArray(window[I])?P=window[I]:window[I]=P}(ne);const{wrappedGtag:Se,gtagCore:it}=function es(I,P,K,se,ye){let Se=function(...it){window[se].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(Se=window[ye]),window[ye]=function os(I,P,K,se){function Se(){return Se=(0,M.Z)(function*(it,...Qt){try{if("event"===it){const[Gt,wn]=Qt;yield function _a(I,P,K,se,ye){return aa.apply(this,arguments)}(I,P,K,Gt,wn)}else if("config"===it){const[Gt,wn]=Qt;yield function $a(I,P,K,se,ye,Se){return va.apply(this,arguments)}(I,P,K,se,Gt,wn)}else if("consent"===it){const[Gt]=Qt;I("consent","update",Gt)}else if("get"===it){const[Gt,wn,Wn]=Qt;I("get",Gt,wn,Wn)}else if("set"===it){const[Gt]=Qt;I("set",Gt)}else I(it,...Qt)}catch(Gt){Rn.error(Gt)}}),Se.apply(this,arguments)}return function ye(it){return Se.apply(this,arguments)}}(Se,I,P,K),{gtagCore:Se,wrappedGtag:window[ye]}}(S,U,Y,ne,Ne);$t=Se,ft=it,Kt=!0}return S[se]=function v(I,P,K,se,ye,Se,it){return _.apply(this,arguments)}(I,U,Y,P,ft,ne,K),new m(I)}function Hr(){return Do.apply(this,arguments)}function Do(){return(Do=(0,M.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const kl="@firebase/analytics";!function zi(){(0,_e._registerComponent)(new be.wA(Nn,(P,{options:K})=>Ho(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,_e._registerComponent)(new be.wA("analytics-internal",function I(P){try{const K=P.getProvider(Nn).getImmediate();return{logEvent:(se,ye,Se)=>function pu(I,P,K,se){I=(0,ce.m9)(I),function sd(I,P,K,se,ye){return Zs.apply(this,arguments)}($t,S[I.app.options.appId],P,K,se).catch(ye=>Rn.error(ye))}(K,se,ye,Se)}}catch(K){throw Zn.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,_e.registerVersion)(kl,"0.10.0"),(0,_e.registerVersion)(kl,"0.10.0","esm2017")}();var ad=H(4408),oi=H(7565);const nl=new class la extends oi.v{}(class Na extends ad.o{constructor(P,K){super(P,K),this.scheduler=P,this.work=K}schedule(P,K=0){return K>0?super.schedule(P,K):(this.delay=K,this.state=P,this.scheduler.flush(this),this)}execute(P,K){return K>0||this.closed?super.execute(P,K):this._execute(P,K)}requestAsyncId(P,K,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(P,K,se):(P.flush(this),0)}});var rl=H(4986),Nu=H(9751),ba=H(8505),Qo=H(9468),mu=H(5363);const zo=new p.GfV("7.6.1"),Jo="__angularfire_symbol__analyticsIsSupportedValue",Wa="__angularfire_symbol__analyticsIsSupported",To="__angularfire_symbol__remoteConfigIsSupportedValue",il="__angularfire_symbol__remoteConfigIsSupported",qa="__angularfire_symbol__messagingIsSupportedValue",ku="__angularfire_symbol__messagingIsSupported";function yu(I,P,K){if(P){if(1===P.length)return P[0];const Se=P.filter(it=>it.app===K);if(1===Se.length)return Se[0]}return K.container.getProvider(I).getImmediate({optional:!0})}globalThis[Wa]||(globalThis[Wa]=Hr().then(I=>globalThis[Jo]=I).catch(()=>globalThis[Jo]=!1)),globalThis[ku]||(globalThis[ku]=uu().then(I=>globalThis[qa]=I).catch(()=>globalThis[qa]=!1)),globalThis[il]||(globalThis[il]=Ds().then(I=>globalThis[To]=I).catch(()=>globalThis[To]=!1));const Fl=(I,P)=>{const K=P?[P]:(0,B.C6)(),se=[];return K.forEach(ye=>{ye.container.getProvider(I).instances.forEach(it=>{se.includes(it)||se.push(it)})}),se};function ca(){}class ka{constructor(P,K=nl){this.zone=P,this.delegate=K}now(){return this.delegate.now()}schedule(P,K,se){const ye=this.zone;return this.delegate.schedule(function(it){ye.runGuarded(()=>{P.apply(this,[it])})},K,se)}}class Xo{constructor(P){this.zone=P,this.task=null}call(P,K){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),K.pipe((0,ba.b)({next:se,complete:se,error:se})).subscribe(P).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sl=(()=>{class I{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new ka(Zone.current)),this.insideAngular=K.run(()=>new ka(Zone.current,rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(K){return new(K||I)(p.LFG(p.R0b))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Za(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ca(I){return Za().ngZone.run(()=>I())}function ci(I){return Za(),function Fa(I){return function(K){return(K=K.lift(new Xo(I.ngZone))).pipe((0,Qo.R)(I.outsideAngular),(0,mu.Q)(I.insideAngular))}}(Za())(I)}const Ll=(I,P)=>function(){const se=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),Ca(()=>I.apply(void 0,se))},ol=(I,P)=>function(){let K;const se=arguments;for(let Se=0;Se<arguments.length;Se++)"function"==typeof se[Se]&&(P&&(K||(K=Ca(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)))),se[Se]=Ll(se[Se],K));const ye=function hc(I){return Za().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,se));if(!P){if(ye instanceof Nu.y){const Se=Za();return ye.pipe((0,Qo.R)(Se.outsideAngular),(0,mu.Q)(Se.insideAngular))}return Ca(()=>ye)}return ye instanceof Nu.y?ye.pipe(ci):ye instanceof Promise?Ca(()=>new Promise((Se,it)=>ye.then(Qt=>Ca(()=>Se(Qt)),Qt=>Ca(()=>it(Qt))))):"function"==typeof ye&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),ye.apply(this,arguments)}:Ca(()=>ye)}},1389:(Zt,Me,H)=>{"use strict";H.d(Me,{$:()=>Mn,A:()=>ge,D:()=>Xe,I:()=>lr,J:()=>yt,L:()=>di,N:()=>Pr,P:()=>v,Q:()=>Cs,R:()=>za,U:()=>Hs,V:()=>Ds,W:()=>ps,X:()=>rs,Y:()=>yn,Z:()=>Mt,_:()=>Qi,a:()=>po,a0:()=>ko,a1:()=>Vi,a2:()=>_o,a3:()=>tn,a4:()=>Or,a5:()=>Ji,a6:()=>_i,a7:()=>pi,a8:()=>Ws,a9:()=>Xi,aA:()=>De,aB:()=>Wa,aC:()=>er,aD:()=>_r,aE:()=>ba,aF:()=>cc,aG:()=>Jr,aH:()=>ur,aL:()=>ia,aO:()=>Yi,aa:()=>Mi,ab:()=>ga,ac:()=>Lo,ad:()=>Er,ae:()=>ta,af:()=>na,ai:()=>Ls,aj:()=>Pi,ak:()=>fr,an:()=>yo,ao:()=>ma,aq:()=>Rt,ar:()=>Nt,as:()=>Wt,at:()=>Ee,au:()=>oe,av:()=>Ze,aw:()=>qn,ax:()=>ku,ay:()=>Ue,az:()=>nt,b:()=>lu,c:()=>$t,d:()=>Ho,e:()=>Cr,f:()=>kl,g:()=>la,h:()=>ad,i:()=>Ha,j:()=>rl,k:()=>Qa,l:()=>Ia,m:()=>fc,o:()=>dd,p:()=>de,r:()=>du,s:()=>$o,u:()=>Js});var p=H(5861),B=H(2090),M=H(6881),_e=H(7582),ce=H(1877),be=H(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xe=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ct=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new ce.Yd("@firebase/auth");function ut(w,...d){rt.logLevel<=ce.in.ERROR&&rt.error(`Auth (${M.SDK_VERSION}): ${w}`,...d)}function Ze(w,...d){throw ve(w,...d)}function nt(w,...d){return ve(w,...d)}function ot(w,d,g){const b=Object.assign(Object.assign({},ct()),{[d]:g});return new B.LL("auth","Firebase",b).create(d,{appName:w.name})}function pt(w,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Ze(w,"argument-error"),ot(w,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ve(w,...d){if("string"!=typeof w){const g=d[0],b=[...d.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(g,...b)}return It.create(w,...d)}function De(w,d,...g){if(!w)throw ve(d,...g)}function At(w){const d="INTERNAL ASSERTION FAILED: "+w;throw ut(d),new Error(d)}function Wt(w,d){w||At(d)}function bt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Et(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Re{constructor(d,g){this.shortDelay=d,this.longDelay=g,Wt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ve(w,d){Wt(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class Ye{static initialize(d,g,b){this.fetchImpl=d,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const at={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new Re(3e4,6e4);function tt(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function Dt(w,d,g,b){return vn.apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(w,d,g,b,Z={}){return _t(w,Z,(0,p.Z)(function*(){let re={},Ae={};b&&("GET"===d?Ae=b:re={body:JSON.stringify(b)});const st=(0,B.xO)(Object.assign({key:w.config.apiKey},Ae)).slice(1),Ut=yield w._getAdditionalHeaders();return Ut["Content-Type"]="application/json",w.languageCode&&(Ut["X-Firebase-Locale"]=w.languageCode),Ye.fetch()(Bn(w,w.config.apiHost,g,st),Object.assign({method:d,headers:Ut,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function _t(w,d,g){return St.apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(w,d,g){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},at),d);try{const Z=new zn(w),re=yield Promise.race([g(),Z.promise]);Z.clearNetworkTimeout();const Ae=yield re.json();if("needConfirmation"in Ae)throw Ln(w,"account-exists-with-different-credential",Ae);if(re.ok&&!("errorMessage"in Ae))return Ae;{const st=re.ok?Ae.errorMessage:Ae.error.message,[Ut,nn]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw Ln(w,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===Ut)throw Ln(w,"email-already-in-use",Ae);if("USER_DISABLED"===Ut)throw Ln(w,"user-disabled",Ae);const Sn=b[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-");if(nn)throw ot(w,Sn,nn);Ze(w,Sn)}}catch(Z){if(Z instanceof B.ZR)throw Z;Ze(w,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Xt(w,d,g,b){return _n.apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(w,d,g,b,Z={}){const re=yield Dt(w,d,g,b,Z);return"mfaPendingCredential"in re&&Ze(w,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function Bn(w,d,g,b){const Z=`${d}${g}?${b}`;return w.config.emulator?Ve(w.config,Z):`${w.config.apiScheme}://${Z}`}class zn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(nt(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(w,d,g){const b={appName:w.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const Z=nt(w,d,b);return Z.customData._tokenResponse=g,Z}function Pt(){return(Pt=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function on(){return(on=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function xt(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function nr(){return(nr=(0,p.Z)(function*(w,d=!1){const g=(0,B.m9)(w),b=yield g.getIdToken(d),Z=Wr(b);De(Z&&Z.exp&&Z.auth_time&&Z.iat,g.auth,"internal-error");const re="object"==typeof Z.firebase?Z.firebase:void 0,Ae=re?.sign_in_provider;return{claims:Z,token:b,authTime:xt(rr(Z.auth_time)),issuedAtTime:xt(rr(Z.iat)),expirationTime:xt(rr(Z.exp)),signInProvider:Ae||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function rr(w){return 1e3*Number(w)}function Wr(w){const[d,g,b]=w.split(".");if(void 0===d||void 0===g||void 0===b)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,B.tV)(g);return Z?JSON.parse(Z):(ut("Failed to decode base64 JWT payload"),null)}catch(Z){return ut("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function hn(w,d){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,p.Z)(function*(w,d,g=!1){if(g)return d;try{return yield d}catch(b){throw b instanceof B.ZR&&function Ct({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}class sr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const Z=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),b)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class or{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xt(this.lastLoginAt),this.creationTime=xt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(w){return kr.apply(this,arguments)}function kr(){return kr=(0,p.Z)(function*(w){var d;const g=w.auth,b=yield w.getIdToken(),Z=yield hn(w,function xn(w,d){return on.apply(this,arguments)}(g,{idToken:b}));De(Z?.users.length,g,"internal-error");const re=Z.users[0];w._notifyReloadListener(re);const Ae=null!==(d=re.providerUserInfo)&&void 0!==d&&d.length?function Fr(w){return w.map(d=>{var{providerId:g}=d,b=(0,_e._T)(d,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(re.providerUserInfo):[],st=function In(w,d){return[...w.filter(b=>!d.some(Z=>Z.providerId===b.providerId)),...d]}(w.providerData,Ae),Sn=!!w.isAnonymous&&!(w.email&&re.passwordHash||st?.length),ir={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:st,metadata:new or(re.createdAt,re.lastLoginAt),isAnonymous:Sn};Object.assign(w,ir)}),kr.apply(this,arguments)}function pr(){return(pr=(0,p.Z)(function*(w){const d=(0,B.m9)(w);yield Xn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function qt(){return(qt=(0,p.Z)(function*(w,d){const g=yield _t(w,{},(0,p.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Z,apiKey:re}=w.config,Ae=Bn(w,Z,"/v1/token",`key=${re}`),st=yield w._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(Ae,{method:"POST",headers:st,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){De(d.idToken,"internal-error"),De(typeof d.idToken<"u","internal-error"),De(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function pn(w){const d=Wr(w);return De(d,"internal-error"),De(typeof d.exp<"u","internal-error"),De(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var b=this;return(0,p.Z)(function*(){return De(!b.accessToken||b.refreshToken,d,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(d,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var b=this;return(0,p.Z)(function*(){const{accessToken:Z,refreshToken:re,expiresIn:Ae}=yield function bn(w,d){return qt.apply(this,arguments)}(d,g);b.updateTokensAndExpiration(Z,re,Number(Ae))})()}updateTokensAndExpiration(d,g,b){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(d,g){const{refreshToken:b,accessToken:Z,expirationTime:re}=g,Ae=new rn;return b&&(De("string"==typeof b,"internal-error",{appName:d}),Ae.refreshToken=b),Z&&(De("string"==typeof Z,"internal-error",{appName:d}),Ae.accessToken=Z),re&&(De("number"==typeof re,"internal-error",{appName:d}),Ae.expirationTime=re),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new rn,this.toJSON())}_performRefresh(){return At("not implemented")}}function ar(w,d){De("string"==typeof w||typeof w>"u","internal-error",{appName:d})}class Yn{constructor(d){var{uid:g,auth:b,stsTokenManager:Z}=d,re=(0,_e._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new or(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const b=yield hn(g,g.stsTokenManager.getToken(g.auth,d));return De(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(d){return function Gn(w){return nr.apply(this,arguments)}(this,d)}reload(){return function vr(w){return pr.apply(this,arguments)}(this)}_assign(d){this!==d&&(De(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Yn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var b=this;return(0,p.Z)(function*(){let Z=!1;d.idToken&&d.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(d),Z=!0),g&&(yield Xn(b)),yield b.auth._persistUserIfCurrent(b),Z&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield hn(d,function kt(w,d){return Pt.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var b,Z,re,Ae,st,Ut,nn,Sn;const ir=null!==(b=g.displayName)&&void 0!==b?b:void 0,xo=null!==(Z=g.email)&&void 0!==Z?Z:void 0,eo=null!==(re=g.phoneNumber)&&void 0!==re?re:void 0,vc=null!==(Ae=g.photoURL)&&void 0!==Ae?Ae:void 0,Go=null!==(st=g.tenantId)&&void 0!==st?st:void 0,Uu=null!==(Ut=g._redirectEventId)&&void 0!==Ut?Ut:void 0,ul=null!==(nn=g.createdAt)&&void 0!==nn?nn:void 0,_c=null!==(Sn=g.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:ea,emailVerified:wc,isAnonymous:_u,providerData:Ec,stsTokenManager:Ul}=g;De(ea&&Ul,d,"internal-error");const tr=rn.fromJSON(this.name,Ul);De("string"==typeof ea,d,"internal-error"),ar(ir,d.name),ar(xo,d.name),De("boolean"==typeof wc,d,"internal-error"),De("boolean"==typeof _u,d,"internal-error"),ar(eo,d.name),ar(vc,d.name),ar(Go,d.name),ar(Uu,d.name),ar(ul,d.name),ar(_c,d.name);const Ic=new Yn({uid:ea,auth:d,email:xo,emailVerified:wc,displayName:ir,isAnonymous:_u,photoURL:vc,phoneNumber:eo,tenantId:Go,stsTokenManager:tr,createdAt:ul,lastLoginAt:_c});return Ec&&Array.isArray(Ec)&&(Ic.providerData=Ec.map(Bl=>Object.assign({},Bl))),Uu&&(Ic._redirectEventId=Uu),Ic}static _fromIdTokenResponse(d,g,b=!1){return(0,p.Z)(function*(){const Z=new rn;Z.updateFromServerResponse(g);const re=new Yn({uid:g.localId,auth:d,stsTokenManager:Z,isAnonymous:b});return yield Xn(re),re})()}}const Ur=new Map;function er(w){Wt(w instanceof Function,"Expected a class definition");let d=Ur.get(w);return d?(Wt(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,Ur.set(w,d),d)}const Pr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,b){var Z=this;return(0,p.Z)(function*(){Z.storage[g]=b})()}_get(g){var b=this;return(0,p.Z)(function*(){const Z=b.storage[g];return void 0===Z?null:Z})()}_remove(g){var b=this;return(0,p.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return w.type="NONE",w})();function _r(w,d,g){return`firebase:${w}:${d}:${g}`}class ee{constructor(d,g,b){this.persistence=d,this.auth=g,this.userKey=b;const{config:Z,name:re}=this.auth;this.fullUserKey=_r(this.userKey,Z.apiKey,re),this.fullPersistenceKey=_r("persistence",Z.apiKey,re),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Yn._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,b="authUser"){return(0,p.Z)(function*(){if(!g.length)return new ee(er(Pr),d,b);const Z=(yield Promise.all(g.map(function(){var nn=(0,p.Z)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let re=Z[0]||er(Pr);const Ae=_r(b,d.config.apiKey,d.name);let st=null;for(const nn of g)try{const Sn=yield nn._get(Ae);if(Sn){const ir=Yn._fromJSON(d,Sn);nn!==re&&(st=ir),re=nn;break}}catch{}const Ut=Z.filter(nn=>nn._shouldAllowMigration);return re._shouldAllowMigration&&Ut.length?(re=Ut[0],st&&(yield re._set(Ae,st.toJSON())),yield Promise.all(g.map(function(){var nn=(0,p.Z)(function*(Sn){if(Sn!==re)try{yield Sn._remove(Ae)}catch{}});return function(Sn){return nn.apply(this,arguments)}}())),new ee(re,d,b)):new ee(re,d,b)})()}}function L(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(he(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(N(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(le(d))return"Blackberry";if(ie(d))return"Webos";if($(d))return"Safari";if((d.includes("chrome/")||j(d))&&!d.includes("edge/"))return"Chrome";if(oe(d))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function N(w=(0,B.z$)()){return/firefox\//i.test(w)}function $(w=(0,B.z$)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function j(w=(0,B.z$)()){return/crios\//i.test(w)}function he(w=(0,B.z$)()){return/iemobile/i.test(w)}function oe(w=(0,B.z$)()){return/android/i.test(w)}function le(w=(0,B.z$)()){return/blackberry/i.test(w)}function ie(w=(0,B.z$)()){return/webos/i.test(w)}function Ee(w=(0,B.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Ue(w=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function en(w=(0,B.z$)()){return Ee(w)||oe(w)||ie(w)||le(w)||/windows phone/i.test(w)||he(w)}function Ar(w,d=[]){let g;switch(w){case"Browser":g=L((0,B.z$)());break;case"Worker":g=`${L((0,B.z$)())}-${w}`;break;default:g=w}const b=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${M.SDK_VERSION}/${b}`}function Oe(){return(Oe=(0,p.Z)(function*(w){return(yield Dt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wt(w,d){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(w,d){return Dt(w,"GET","/v2/recaptchaConfig",tt(w,d))})).apply(this,arguments)}function an(w){return void 0!==w&&void 0!==w.getResponse}function Dn(w){return void 0!==w&&void 0!==w.enterprise}class Yt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function kn(w){return new Promise((d,g)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=d,b.onerror=Z=>{const re=nt("internal-error");re.customData=Z,g(re)},b.type="text/javascript",b.charset="UTF-8",function On(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(b)})}function Br(w){return`__${w}${Math.floor(1e6*Math.random())}`}const $r="NO_RECAPTCHA";class Oi{constructor(d){this.type="recaptcha-enterprise",this.auth=ur(d)}verify(d="verify",g=!1){var b=this;return(0,p.Z)(function*(){function re(){return re=(0,p.Z)(function*(st){if(!g){if(null==st.tenantId&&null!=st._agentRecaptchaConfig)return st._agentRecaptchaConfig.siteKey;if(null!=st.tenantId&&void 0!==st._tenantRecaptchaConfigs[st.tenantId])return st._tenantRecaptchaConfigs[st.tenantId].siteKey}return new Promise(function(){var Ut=(0,p.Z)(function*(nn,Sn){wt(st,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ir=>{if(void 0!==ir.recaptchaKey){const xo=new Yt(ir);return null==st.tenantId?st._agentRecaptchaConfig=xo:st._tenantRecaptchaConfigs[st.tenantId]=xo,nn(xo.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(ir=>{Sn(ir)})});return function(nn,Sn){return Ut.apply(this,arguments)}}())}),re.apply(this,arguments)}function Ae(st,Ut,nn){const Sn=window.grecaptcha;Dn(Sn)?Sn.enterprise.ready(()=>{Sn.enterprise.execute(st,{action:d}).then(ir=>{Ut(ir)}).catch(()=>{Ut($r)})}):nn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((st,Ut)=>{(function Z(st){return re.apply(this,arguments)})(b.auth).then(nn=>{if(!g&&Dn(window.grecaptcha))Ae(nn,st,Ut);else{if(typeof window>"u")return void Ut(new Error("RecaptchaVerifier is only supported in browser"));kn("https://www.google.com/recaptcha/enterprise.js?render="+nn).then(()=>{Ae(nn,st,Ut)}).catch(Sn=>{Ut(Sn)})}}).catch(nn=>{Ut(nn)})})})()}}function Rr(w,d,g){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(w,d,g,b=!1){const Z=new Oi(w);let re;try{re=yield Z.verify(g)}catch{re=yield Z.verify(g,!0)}const Ae=Object.assign({},d);return Object.assign(Ae,b?{captchaResp:re}:{captchaResponse:re}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}class Tn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const b=re=>new Promise((Ae,st)=>{try{Ae(d(re))}catch(Ut){st(Ut)}});b.onAbort=g,this.queue.push(b);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const b=[];try{for(const Z of g.queue)yield Z(d),Z.onAbort&&b.push(Z.onAbort)}catch(Z){b.reverse();for(const re of b)try{re()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class br{constructor(d,g,b,Z){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=b,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new Tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(d,g){var b=this;return g&&(this._popupRedirectResolver=er(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var Z,re;if(!b._deleted&&(b.persistenceManager=yield ee.create(b,d),!b._deleted)){if(null!==(Z=b._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(re=b.currentUser)||void 0===re?void 0:re.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var b;const Z=yield g.assertedPersistence.getCurrentUser();let re=Z,Ae=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const st=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Ut=re?._redirectEventId,nn=yield g.tryRedirectSignIn(d);(!st||st===Ut)&&nn?.user&&(re=nn.user,Ae=!0)}if(!re)return g.directlySetCurrentUser(null);if(!re._redirectEventId){if(Ae)try{yield g.beforeStateQueue.runMiddleware(re)}catch(st){re=Z,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(st))}return re?g.reloadAndSetCurrentUserOrClear(re):g.directlySetCurrentUser(null)}return De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===re._redirectEventId?g.directlySetCurrentUser(re):g.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield Xn(d)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const b=d?(0,B.m9)(d):null;return b&&De(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(d,g=!1){var b=this;return(0,p.Z)(function*(){if(!b._deleted)return d&&De(b.tenantId===d.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(d)),b.queue((0,p.Z)(function*(){yield b.directlySetCurrentUser(d),b.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(er(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield wt(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Yt(g);null==d.tenantId?d._agentRecaptchaConfig=b:d._tenantRecaptchaConfigs[d.tenantId]=b,b.emailPasswordEnabled&&new Oi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new B.LL("auth","Firebase",d())}onAuthStateChanged(d,g,b){return this.registerStateListener(this.authStateSubscription,d,g,b)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,b){return this.registerStateListener(this.idTokenSubscription,d,g,b)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var b=this;return(0,p.Z)(function*(){const Z=yield b.getOrInitRedirectPersistenceManager(g);return null===d?Z.removeCurrentUser():Z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const b=d&&er(d)||g._popupRedirectResolver;De(b,g,"argument-error"),g.redirectPersistenceManager=yield ee.create(g,[er(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var b,Z;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===d?g._currentUser:(null===(Z=g.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,b,Z){if(this._deleted)return()=>{};const re="function"==typeof g?g:g.next.bind(g),Ae=this._isInitialized?Promise.resolve():this._initializationPromise;return De(Ae,this,"internal-error"),Ae.then(()=>re(this.currentUser)),"function"==typeof g?d.addObserver(g,b,Z):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const b={"X-Client-Version":d.clientVersion};d.app.options.appId&&(b["X-Firebase-gmpid"]=d.app.options.appId);const Z=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();Z&&(b["X-Firebase-Client"]=Z);const re=yield d._getAppCheckToken();return re&&(b["X-Firebase-AppCheck"]=re),b})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const b=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return b?.error&&function qe(w,...d){rt.logLevel<=ce.in.WARN&&rt.warn(`Auth (${M.SDK_VERSION}): ${w}`,...d)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function ur(w){return(0,B.m9)(w)}class Ei{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lr(w,d,g){const b=ur(w);De(b._canInitEmulator,b,"emulator-config-failed"),De(/^https?:\/\//.test(d),b,"invalid-emulator-scheme");const Z=!!g?.disableWarnings,re=Pe(d),{host:Ae,port:st}=function Ie(w){const d=Pe(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(d.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(b);if(Z){const re=Z[1];return{host:re,port:Ce(b.substr(re.length+1))}}{const[re,Ae]=b.split(":");return{host:re,port:Ce(Ae)}}}(d);b.config.emulator={url:`${re}//${Ae}${null===st?"":`:${st}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Ae,port:st,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function lt(){function w(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Pe(w){const d=w.indexOf(":");return d<0?"":w.substr(0,d+1)}function Ce(w){if(!w)return null;const d=Number(w);return isNaN(d)?null:d}class yt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return At("not implemented")}_getIdTokenResponse(d){return At("not implemented")}_linkToIdToken(d,g){return At("not implemented")}_getReauthenticationResolver(d){return At("not implemented")}}function ln(w,d){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:resetPassword",tt(w,d))})).apply(this,arguments)}function fn(w,d){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:update",tt(w,d))})).apply(this,arguments)}function Xr(w,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithPassword",tt(w,d))})).apply(this,arguments)}function Tr(w,d){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:sendOobCode",tt(w,d))})).apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(w,d){return Tr(w,d)})).apply(this,arguments)}function cs(w,d){return ds.apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(w,d){return Tr(w,d)})).apply(this,arguments)}function ys(w,d){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(w,d){return Tr(w,d)})).apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(w,d){return Tr(w,d)})).apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithEmailLink",tt(w,d))})).apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithEmailLink",tt(w,d))})).apply(this,arguments)}class ti extends yt{constructor(d,g,b,Z=null){super("password",b),this._email=d,this._password=g,this._tenantId=Z}static _fromEmailAndPassword(d,g){return new ti(d,g,"password")}static _fromEmailAndCode(d,g,b=null){return new ti(d,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var b;switch(g.signInMethod){case"password":const Z={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=d._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const re=yield Rr(d,Z,"signInWithPassword");return Xr(d,re)}return Xr(d,Z).catch(function(){var re=(0,p.Z)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const st=yield Rr(d,Z,"signInWithPassword");return Xr(d,st)}return Promise.reject(Ae)});return function(Ae){return re.apply(this,arguments)}}());case"emailLink":return function ei(w,d){return bi.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Ze(d,"internal-error")}})()}_linkToIdToken(d,g){var b=this;return(0,p.Z)(function*(){switch(b.signInMethod){case"password":return fn(d,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function vs(w,d){return _s.apply(this,arguments)}(d,{idToken:g,email:b._email,oobCode:b._password});default:Ze(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function cr(w,d){return xi.apply(this,arguments)}function xi(){return(xi=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithIdp",tt(w,d))})).apply(this,arguments)}class di extends yt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new di(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Ze("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:Z}=g,re=(0,_e._T)(g,["providerId","signInMethod"]);if(!b||!Z)return null;const Ae=new di(b,Z);return Ae.idToken=re.idToken||void 0,Ae.accessToken=re.accessToken||void 0,Ae.secret=re.secret,Ae.nonce=re.nonce,Ae.pendingToken=re.pendingToken||null,Ae}_getIdTokenResponse(d){return cr(d,this.buildRequest())}_linkToIdToken(d,g){const b=this.buildRequest();return b.idToken=g,cr(d,b)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,cr(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,B.xO)(g)}return d}}function Fi(){return(Fi=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:sendVerificationCode",tt(w,d))})).apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithPhoneNumber",tt(w,d))})).apply(this,arguments)}function Es(){return(Es=(0,p.Z)(function*(w,d){const g=yield Xt(w,"POST","/v1/accounts:signInWithPhoneNumber",tt(w,d));if(g.temporaryProof)throw Ln(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ns={USER_NOT_FOUND:"user-not-found"};function ao(){return(ao=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithPhoneNumber",tt(w,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ns)})).apply(this,arguments)}class Li extends yt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new Li({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new Li({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function oo(w,d){return Oo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Ko(w,d){return Es.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ki(w,d){return ao.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:b,verificationCode:Z}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:b,code:Z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:b,phoneNumber:Z,temporaryProof:re}=d;return b||g||Z||re?new Li({verificationId:g,verificationCode:b,phoneNumber:Z,temporaryProof:re}):null}}class bs{constructor(d){var g,b,Z,re,Ae,st;const Ut=(0,B.zd)((0,B.pd)(d)),nn=null!==(g=Ut.apiKey)&&void 0!==g?g:null,Sn=null!==(b=Ut.oobCode)&&void 0!==b?b:null,ir=function fs(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Ut.mode)&&void 0!==Z?Z:null);De(nn&&Sn&&ir,"argument-error"),this.apiKey=nn,this.operation=ir,this.code=Sn,this.continueUrl=null!==(re=Ut.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Ae=Ut.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(st=Ut.tenantId)&&void 0!==st?st:null}static parseLink(d){const g=function Is(w){const d=(0,B.zd)((0,B.pd)(w)).link,g=d?(0,B.zd)((0,B.pd)(d)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(w)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||g||d||w}(d);try{return new bs(g)}catch{return null}}}let Cs=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,b){return ti._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const Z=bs.parseLink(b);return De(Z,"argument-error"),ti._fromEmailAndCode(g,Z.code,Z.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Zi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Os extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class rs extends Os{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return De("providerId"in g&&"signInMethod"in g,"argument-error"),di._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return De(d.idToken||d.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return rs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return rs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:Z,pendingToken:re,nonce:Ae,providerId:st}=d;if(!b&&!Z&&!g&&!re||!st)return null;try{return new rs(st)._credential({idToken:g,accessToken:b,nonce:Ae,pendingToken:re})}catch{return null}}}let Hs=(()=>{class w extends Os{constructor(){super("facebook.com")}static credential(g){return di._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ds=(()=>{class w extends Os{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return di._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:Z}=g;if(!b&&!Z)return null;try{return w.credential(b,Z)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ps=(()=>{class w extends Os{constructor(){super("github.com")}static credential(g){return di._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Yi extends yt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return cr(d,this.buildRequest())}_linkToIdToken(d,g){const b=this.buildRequest();return b.idToken=g,cr(d,b)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,cr(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:Z,pendingToken:re}=g;return b&&Z&&re&&b===Z?new Yi(b,re):null}static _create(d,g){return new Yi(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yn extends Zi{constructor(d){De(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return yn.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return yn.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Yi.fromJSON(d);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:b}=d;if(!g||!b)return null;try{return Yi._create(b,g)}catch{return null}}}let Mt=(()=>{class w extends Os{constructor(){super("twitter.com")}static credential(g,b){return di._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:Z}=g;if(!b||!Z)return null;try{return w.credential(b,Z)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Pn(w,d){return xr.apply(this,arguments)}function xr(){return(xr=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signUp",tt(w,d))})).apply(this,arguments)}class wr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,b,Z=!1){return(0,p.Z)(function*(){const re=yield Yn._fromIdTokenResponse(d,b,Z),Ae=hi(b);return new wr({user:re,providerId:Ae,_tokenResponse:b,operationType:g})})()}static _forOperation(d,g,b){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(b,!0);const Z=hi(b);return new wr({user:d,providerId:Z,_tokenResponse:b,operationType:g})})()}}function hi(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Qi(w){return jr.apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(w){var d;const g=ur(w);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new wr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Pn(g,{returnSecureToken:!0}),Z=yield wr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Ci extends B.ZR{constructor(d,g,b,Z){var re;super(g.code,g.message),this.operationType=b,this.user=Z,Object.setPrototypeOf(this,Ci.prototype),this.customData={appName:d.name,tenantId:null!==(re=d.tenantId)&&void 0!==re?re:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(d,g,b,Z){return new Ci(d,g,b,Z)}}function zs(w,d,g,b){return("reauthenticate"===d?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Ci._fromErrorAndOperation(w,re,d,b):re})}function Qn(w){return new Set(w.map(({providerId:d})=>d).filter(d=>!!d))}function yo(w,d){return No.apply(this,arguments)}function No(){return No=(0,p.Z)(function*(w,d){const g=(0,B.m9)(w);yield Ts(!0,g,d);const{providerUserInfo:b}=yield function $n(w,d){return jn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),Z=Qn(b||[]);return g.providerData=g.providerData.filter(re=>Z.has(re.providerId)),Z.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),No.apply(this,arguments)}function yi(w,d){return li.apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(w,d,g=!1){const b=yield hn(w,d._linkToIdToken(w.auth,yield w.getIdToken()),g);return wr._forOperation(w,"link",b)})).apply(this,arguments)}function Ts(w,d,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,p.Z)(function*(w,d,g){yield Xn(d);const Z=!1===w?"provider-already-linked":"no-such-provider";De(Qn(d.providerData).has(g)===w,d.auth,Z)})).apply(this,arguments)}function Zo(w,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(w,d,g=!1){const{auth:b}=w,Z="reauthenticate";try{const re=yield hn(w,zs(b,Z,d,w),g);De(re.idToken,b,"internal-error");const Ae=Wr(re.idToken);De(Ae,b,"internal-error");const{sub:st}=Ae;return De(w.uid===st,b,"user-mismatch"),wr._forOperation(w,Z,re)}catch(re){throw"auth/user-not-found"===re?.code&&Ze(b,"user-mismatch"),re}})).apply(this,arguments)}function Ns(w,d){return vi.apply(this,arguments)}function vi(){return(vi=(0,p.Z)(function*(w,d,g=!1){const b="signIn",Z=yield zs(w,b,d),re=yield wr._fromIdTokenResponse(w,b,Z);return g||(yield w._updateCurrentUser(re.user)),re})).apply(this,arguments)}function Mn(w,d){return co.apply(this,arguments)}function co(){return(co=(0,p.Z)(function*(w,d){return Ns(ur(w),d)})).apply(this,arguments)}function ko(w,d){return vo.apply(this,arguments)}function vo(){return(vo=(0,p.Z)(function*(w,d){const g=(0,B.m9)(w);return yield Ts(!1,g,d.providerId),yi(g,d)})).apply(this,arguments)}function Vi(w,d){return ks.apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(w,d){return Zo((0,B.m9)(w),d)})).apply(this,arguments)}function Gs(){return(Gs=(0,p.Z)(function*(w,d){return Xt(w,"POST","/v1/accounts:signInWithCustomToken",tt(w,d))})).apply(this,arguments)}function _o(w,d){return x.apply(this,arguments)}function x(){return x=(0,p.Z)(function*(w,d){const g=ur(w),b=yield function Fo(w,d){return Gs.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),Z=yield wr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(Z.user),Z}),x.apply(this,arguments)}class k{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?R._fromServerResponse(d,g):"totpInfo"in g?J._fromServerResponse(d,g):Ze(d,"internal-error")}}class R extends k{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new R(g)}}class J extends k{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new J(g)}}function Le(w,d,g){var b;De((null===(b=g.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),De(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,w,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function tn(w,d,g){return hr.apply(this,arguments)}function hr(){return hr=(0,p.Z)(function*(w,d,g){var b;const Z=ur(w),re={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=Z._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Ae=yield Rr(Z,re,"getOobCode",!0);g&&Le(Z,Ae,g),yield cs(Z,Ae)}else g&&Le(Z,re,g),yield cs(Z,re).catch(function(){var Ae=(0,p.Z)(function*(st){if("auth/missing-recaptcha-token"!==st.code)return Promise.reject(st);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ut=yield Rr(Z,re,"getOobCode",!0);g&&Le(Z,Ut,g),yield cs(Z,Ut)}});return function(st){return Ae.apply(this,arguments)}}())}),hr.apply(this,arguments)}function Or(w,d,g){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(w,d,g){yield ln((0,B.m9)(w),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Ji(w,d){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,p.Z)(function*(w,d){yield function ai(w,d){return Kr.apply(this,arguments)}((0,B.m9)(w),{oobCode:d})}),Ss.apply(this,arguments)}function _i(w,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(w,d){const g=(0,B.m9)(w),b=yield ln(g,{oobCode:d}),Z=b.requestType;switch(De(Z,g,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(b.mfaInfo,g,"internal-error");default:De(b.email,g,"internal-error")}let re=null;return b.mfaInfo&&(re=k._fromServerResponse(ur(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:re},operation:Z}})).apply(this,arguments)}function pi(w,d){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,p.Z)(function*(w,d){const{data:g}=yield _i((0,B.m9)(w),d);return g.email})).apply(this,arguments)}function Ws(w,d,g){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,p.Z)(function*(w,d,g){var b;const Z=ur(w),re={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Ae;if(null!==(b=Z._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const nn=yield Rr(Z,re,"signUpPassword");Ae=Pn(Z,nn)}else Ae=Pn(Z,re).catch(function(){var nn=(0,p.Z)(function*(Sn){if("auth/missing-recaptcha-token"===Sn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ir=yield Rr(Z,re,"signUpPassword");return Pn(Z,ir)}return Promise.reject(Sn)});return function(Sn){return nn.apply(this,arguments)}}());const st=yield Ae.catch(nn=>Promise.reject(nn)),Ut=yield wr._fromIdTokenResponse(Z,"signIn",st);return yield Z._updateCurrentUser(Ut.user),Ut}),Fs.apply(this,arguments)}function Xi(w,d,g){return Mn((0,B.m9)(w),Cs.credential(d,g))}function Mi(w,d,g){return ho.apply(this,arguments)}function ho(){return ho=(0,p.Z)(function*(w,d,g){var b;const Z=ur(w),re={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Ae(st,Ut){De(Ut.handleCodeInApp,Z,"argument-error"),Ut&&Le(Z,st,Ut)}if(null!==(b=Z._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const st=yield Rr(Z,re,"getOobCode",!0);Ae(st,g),yield ys(Z,st)}else Ae(re,g),yield ys(Z,re).catch(function(){var st=(0,p.Z)(function*(Ut){if("auth/missing-recaptcha-token"!==Ut.code)return Promise.reject(Ut);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nn=yield Rr(Z,re,"getOobCode",!0);Ae(nn,g),yield ys(Z,nn)}});return function(Ut){return st.apply(this,arguments)}}())}),ho.apply(this,arguments)}function ga(w,d){return"EMAIL_SIGNIN"===bs.parseLink(d)?.operation}function Lo(w,d,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w),Z=Cs.credentialWithLink(d,g||bt());return De(Z._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Mn(b,Z)})).apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:createAuthUri",tt(w,d))})).apply(this,arguments)}function Er(w,d){return wo.apply(this,arguments)}function wo(){return wo=(0,p.Z)(function*(w,d){const b={identifier:d,continueUri:Et()?bt():"http://localhost"},{signinMethods:Z}=yield function Di(w,d){return fo.apply(this,arguments)}((0,B.m9)(w),b);return Z||[]}),wo.apply(this,arguments)}function ta(w,d){return $i.apply(this,arguments)}function $i(){return $i=(0,p.Z)(function*(w,d){const g=(0,B.m9)(w),Z={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};d&&Le(g.auth,Z,d);const{email:re}=yield function qi(w,d){return ki.apply(this,arguments)}(g.auth,Z);re!==w.email&&(yield w.reload())}),$i.apply(this,arguments)}function na(w,d,g){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:d};g&&Le(b.auth,re,g);const{email:Ae}=yield function Ro(w,d){return ui.apply(this,arguments)}(b.auth,re);Ae!==w.email&&(yield w.reload())}),Eo.apply(this,arguments)}function Io(){return(Io=(0,p.Z)(function*(w,d){return Dt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ls(w,d){return ji.apply(this,arguments)}function ji(){return ji=(0,p.Z)(function*(w,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const b=(0,B.m9)(w),re={idToken:yield b.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Ae=yield hn(b,function As(w,d){return Io.apply(this,arguments)}(b.auth,re));b.displayName=Ae.displayName||null,b.photoURL=Ae.photoUrl||null;const st=b.providerData.find(({providerId:Ut})=>"password"===Ut);st&&(st.displayName=b.displayName,st.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Ae)}),ji.apply(this,arguments)}function Pi(w,d){return Ti((0,B.m9)(w),d,null)}function fr(w,d){return Ti((0,B.m9)(w),null,d)}function Ti(w,d,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(function*(w,d,g){const{auth:b}=w,re={idToken:yield w.getIdToken(),returnSecureToken:!0};d&&(re.email=d),g&&(re.password=g);const Ae=yield hn(w,fn(b,re));yield w._updateTokensIfNecessary(Ae,!0)})).apply(this,arguments)}class Vs{constructor(d,g,b={}){this.isNewUser=d,this.providerId=g,this.profile=b}}class ra extends Vs{constructor(d,g,b,Z){super(d,g,b),this.username=Z}}class Yo extends Vs{constructor(d,g){super(d,"facebook.com",g)}}class xa extends ra{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Us extends Vs{constructor(d,g){super(d,"google.com",g)}}class xs extends ra{constructor(d,g,b){super(d,"twitter.com",g,b)}}function ma(w){const{user:d,_tokenResponse:g}=w;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Vo(w){var d,g;if(!w)return null;const{providerId:b}=w,Z=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},re=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!b&&w?.idToken){const Ae=null===(g=null===(d=Wr(w.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ae)return new Vs(re,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!b)return null;switch(b){case"facebook.com":return new Yo(re,Z);case"github.com":return new xa(re,Z);case"google.com":return new Us(re,Z);case"twitter.com":return new xs(re,Z,w.screenName||null);case"custom":case"anonymous":return new Vs(re,null);default:return new Vs(re,b,Z)}}(g)}class ue{constructor(d,g,b){this.type=d,this.credential=g,this.auth=b}static _fromIdtoken(d,g){return new ue("enroll",d,g)}static _fromMfaPendingCredential(d){return new ue("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,b;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ue._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(b=d.multiFactorSession)&&void 0!==b&&b.idToken)return ue._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Be{constructor(d,g,b){this.session=d,this.hints=g,this.signInResolver=b}static _fromError(d,g){const b=ur(d),Z=g.customData._serverResponse,re=(Z.mfaInfo||[]).map(st=>k._fromServerResponse(b,st));De(Z.mfaPendingCredential,b,"internal-error");const Ae=ue._fromMfaPendingCredential(Z.mfaPendingCredential);return new Be(Ae,re,function(){var st=(0,p.Z)(function*(Ut){const nn=yield Ut._process(b,Ae);delete Z.mfaInfo,delete Z.mfaPendingCredential;const Sn=Object.assign(Object.assign({},Z),{idToken:nn.idToken,refreshToken:nn.refreshToken});switch(g.operationType){case"signIn":const ir=yield wr._fromIdTokenResponse(b,g.operationType,Sn);return yield b._updateCurrentUser(ir.user),ir;case"reauthenticate":return De(g.user,b,"internal-error"),wr._forOperation(g.user,g.operationType,Sn);default:Ze(b,"internal-error")}});return function(Ut){return st.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function Rt(w,d){var g;const b=(0,B.m9)(w),Z=d;return De(d.customData.operationType,b,"argument-error"),De(null===(g=Z.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Be._fromError(b,Z)}class un{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>k._fromServerResponse(d.auth,b)))})}static _fromUser(d){return new un(d)}getSession(){var d=this;return(0,p.Z)(function*(){return ue._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var b=this;return(0,p.Z)(function*(){const Z=d,re=yield b.getSession(),Ae=yield hn(b.user,Z._process(b.user.auth,re,g));return yield b.user._updateTokensIfNecessary(Ae),b.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const b="string"==typeof d?d:d.uid,Z=yield g.user.getIdToken();try{const re=yield hn(g.user,function Vt(w,d){return Dt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(w,d))}(g.user.auth,{idToken:Z,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ae})=>Ae!==b),yield g.user._updateTokensIfNecessary(re),yield g.user.reload()}catch(re){throw re}})()}}const Ri=new WeakMap;function Nt(w){const d=(0,B.m9)(w);return Ri.has(d)||Ri.set(d,un._fromUser(d)),Ri.get(d)}const $e="__sak";class gt{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem($e,"1"),this.storage.removeItem($e),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const lu=(()=>{class w extends gt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Si(){const w=(0,B.z$)();return $(w)||Ee(w)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const Z=this.storage.getItem(b),re=this.localCache[b];Z!==re&&g(b,re,Z)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((st,Ut,nn)=>{this.notifyListeners(st,nn)});const Z=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(Z);if(g.newValue!==st)null!==g.newValue?this.storage.setItem(Z,g.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===g.newValue&&!b)return}const re=()=>{const st=this.storage.getItem(Z);!b&&this.localCache[Z]===st||this.notifyListeners(Z,st)},Ae=this.storage.getItem(Z);!function Jt(){return(0,B.w1)()&&10===document.documentMode}()||Ae===g.newValue||g.newValue===g.oldValue?re():setTimeout(re,10)}notifyListeners(g,b){this.localCache[g]=b;const Z=this.listeners[g];if(Z)for(const re of Array.from(Z))re(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var Z=()=>super._set,re=this;return(0,p.Z)(function*(){yield Z().call(re,g,b),re.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,Z=this;return(0,p.Z)(function*(){const re=yield b().call(Z,g);return Z.localCache[g]=JSON.stringify(re),re})()}_remove(g){var b=()=>super._remove,Z=this;return(0,p.Z)(function*(){yield b().call(Z,g),delete Z.localCache[g]})()}}return w.type="LOCAL",w})(),po=(()=>{class w extends gt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return w.type="SESSION",w})();let Mu=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(re=>re.isListeningto(g));if(b)return b;const Z=new w(g);return this.receivers.push(Z),Z}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,p.Z)(function*(){const Z=g,{eventId:re,eventType:Ae,data:st}=Z.data,Ut=b.handlersMap[Ae];if(!Ut?.size)return;Z.ports[0].postMessage({status:"ack",eventId:re,eventType:Ae});const nn=Array.from(Ut).map(function(){var ir=(0,p.Z)(function*(xo){return xo(Z.origin,st)});return function(xo){return ir.apply(this,arguments)}}()),Sn=yield function Rl(w){return Promise.all(w.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return d.apply(this,arguments)}}()))}(nn);Z.ports[0].postMessage({status:"done",eventId:re,eventType:Ae,response:Sn})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ia(w="",d=10){let g="";for(let b=0;b<d;b++)g+=Math.floor(10*Math.random());return w+g}class Ol{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,b=50){var Z=this;return(0,p.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Ae,st;return new Promise((Ut,nn)=>{const Sn=ia("",20);re.port1.start();const ir=setTimeout(()=>{nn(new Error("unsupported_event"))},b);st={messageChannel:re,onMessage(xo){const eo=xo;if(eo.data.eventId===Sn)switch(eo.data.status){case"ack":clearTimeout(ir),Ae=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),Ut(eo.data.response);break;default:clearTimeout(ir),clearTimeout(Ae),nn(new Error("invalid_response"))}}},Z.handlers.add(st),re.port1.addEventListener("message",st.onMessage),Z.target.postMessage({eventType:d,eventId:Sn,data:g},[re.port2])}).finally(()=>{st&&Z.removeMessageHandler(st)})})()}}function ii(){return window}function sa(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function Zr(){return(Zr=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",ss=1,Zn="firebaseLocalStorage",zt="fbase_key";class Uo{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ya(w,d){return w.transaction([Zn],d?"readwrite":"readonly").objectStore(Zn)}function Xu(){const w=indexedDB.open(Rn,ss);return new Promise((d,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(Zn,{keyPath:zt})}catch(Z){g(Z)}}),w.addEventListener("success",(0,p.Z)(function*(){const b=w.result;b.objectStoreNames.contains(Zn)?d(b):(b.close(),yield function qs(){const w=indexedDB.deleteDatabase(Rn);return new Uo(w).toPromise()}(),d(yield Xu()))}))})}function $a(w,d,g){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(w,d,g){const b=ya(w,!0).put({[zt]:d,value:g});return new Uo(b).toPromise()})).apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(w,d){const g=ya(w,!1).get(d),b=yield new Uo(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function os(w,d){const g=ya(w,!0).delete(d);return new Uo(g).toPromise()}const Ha=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Xu()),g.db})()}_withRetries(g){var b=this;return(0,p.Z)(function*(){let Z=0;for(;;)try{const re=yield b._openDb();return yield g(re)}catch(re){if(Z++>3)throw re;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return sa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Mu._getInstance(function oa(){return sa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,p.Z)(function*(Z,re){return{keyProcessed:(yield g._poll()).includes(re.key)}});return function(Z,re){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,p.Z)(function*(Z,re){return["keyChanged"]});return function(Z,re){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var b,Z;if(g.activeServiceWorker=yield function Ba(){return Zr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ol(g.activeServiceWorker);const re=yield g.sender._send("ping",{},800);re&&null!==(b=re[0])&&void 0!==b&&b.fulfilled&&null!==(Z=re[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,p.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Cn(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Xu();return yield $a(g,$e,"1"),yield os(g,$e),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,p.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var Z=this;return(0,p.Z)(function*(){return Z._withPendingWrite((0,p.Z)(function*(){return yield Z._withRetries(re=>$a(re,g,b)),Z.localCache[g]=b,Z.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,p.Z)(function*(){const Z=yield b._withRetries(re=>function _a(w,d){return aa.apply(this,arguments)}(re,g));return b.localCache[g]=Z,Z})()}_remove(g){var b=this;return(0,p.Z)(function*(){return b._withPendingWrite((0,p.Z)(function*(){return yield b._withRetries(Z=>os(Z,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const b=yield g._withRetries(Ae=>{const st=ya(Ae,!1).getAll();return new Uo(st).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const Z=[],re=new Set;for(const{fbase_key:Ae,value:st}of b)re.add(Ae),JSON.stringify(g.localCache[Ae])!==JSON.stringify(st)&&(g.notifyListeners(Ae,st),Z.push(Ae));for(const Ae of Object.keys(g.localCache))g.localCache[Ae]&&!re.has(Ae)&&(g.notifyListeners(Ae,null),Z.push(Ae));return Z})()}notifyListeners(g,b){this.localCache[g]=b;const Z=this.listeners[g];if(Z)for(const re of Array.from(Z))re(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),cu=1e12;class wa{constructor(d){this.auth=d,this.counter=cu,this._widgets=new Map}render(d,g){const b=this.counter;return this._widgets.set(b,new Bo(d,this.auth.name,g||{})),this.counter++,b}reset(d){var g;const b=d||cu;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(d){var g;return(null===(g=this._widgets.get(d||cu))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var b;return null===(b=g._widgets.get(d||cu))||void 0===b||b.execute(),""})()}}class Bo{constructor(d,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof d?document.getElementById(d):d;De(Z,"argument-error",{appName:g}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function el(w){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<w;b++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ua=Br("rcb"),Nl=new Re(3e4,6e4);class Ea{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=ii().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return De(function sd(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&an(ii().grecaptcha)?Promise.resolve(ii().grecaptcha):new Promise((b,Z)=>{const re=ii().setTimeout(()=>{Z(nt(d,"network-request-failed"))},Nl.get());ii()[ua]=()=>{ii().clearTimeout(re),delete ii()[ua];const st=ii().grecaptcha;if(!st||!an(st))return void Z(nt(d,"internal-error"));const Ut=st.render;st.render=(nn,Sn)=>{const ir=Ut(nn,Sn);return this.counter++,ir},this.hostLanguage=g,b(st)},kn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ua,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(re),Z(nt(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=ii().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zs{load(d){return(0,p.Z)(function*(){return new wa(d)})()}clearedOneInstance(){}}const gi="recaptcha",Ys={theme:"light",type:"image"};class za{constructor(d,g=Object.assign({},Ys),b){this.parameters=g,this.type=gi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(b),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof d?document.getElementById(d):d;De(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zs:new Ea,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),b=d.getAssertedRecaptcha();return b.getResponse(g)||new Promise(re=>{const Ae=st=>{st&&(d.tokenChangeListeners.delete(Ae),re(st))};d.tokenChangeListeners.add(Ae),d.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof d)d(g);else if("string"==typeof d){const b=ii()[d];"function"==typeof b&&b(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){De(Et()&&!sa(),d.auth,"internal-error"),yield function Hi(){let w=null;return new Promise(d=>{"complete"!==document.readyState?(w=()=>d(),window.addEventListener("load",w)):d()}).catch(d=>{throw w&&window.removeEventListener("load",w),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function We(w){return Oe.apply(this,arguments)}(d.auth);De(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bs{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=Li._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function $o(w,d,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(w,d,g){const b=ur(w),Z=yield Ga(b,d,(0,B.m9)(g));return new Bs(Z,re=>Mn(b,re))})).apply(this,arguments)}function Ia(w,d,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w);yield Ts(!1,b,"phone");const Z=yield Ga(b.auth,d,(0,B.m9)(g));return new Bs(Z,re=>ko(b,re))})).apply(this,arguments)}function du(w,d,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w),Z=yield Ga(b.auth,d,(0,B.m9)(g));return new Bs(Z,re=>Vi(b,re))})).apply(this,arguments)}function Ga(w,d,g){return fu.apply(this,arguments)}function fu(){return fu=(0,p.Z)(function*(w,d,g){var b;const Z=yield g.verify();try{let re;if(De("string"==typeof Z,w,"argument-error"),De(g.type===gi,w,"argument-error"),re="string"==typeof d?{phoneNumber:d}:d,"session"in re){const Ae=re.session;if("phoneNumber"in re)return De("enroll"===Ae.type,w,"internal-error"),(yield function Je(w,d){return Dt(w,"POST","/v2/accounts/mfaEnrollment:start",tt(w,d))}(w,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{De("signin"===Ae.type,w,"internal-error");const st=(null===(b=re.multiFactorHint)||void 0===b?void 0:b.uid)||re.multiFactorUid;return De(st,w,"missing-multi-factor-info"),(yield function as(w,d){return Dt(w,"POST","/v2/accounts/mfaSignIn:start",tt(w,d))}(w,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:st,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield function hs(w,d){return Fi.apply(this,arguments)}(w,{phoneNumber:re.phoneNumber,recaptchaToken:Z});return Ae}}finally{g._reset()}}),fu.apply(this,arguments)}function Js(w,d){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,p.Z)(function*(w,d){yield yi((0,B.m9)(w),d)})).apply(this,arguments)}let v=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=ur(g)}verifyPhoneNumber(g,b){return Ga(this.auth,g,(0,B.m9)(b))}static credential(g,b){return Li._fromVerification(g,b)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:Z}=g;return b&&Z?Li._fromTokenResponse(b,Z):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function _(w,d){return d?er(d):(De(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class m extends yt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return cr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return cr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return cr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function S(w){return Ns(w.auth,new m(w),w.bypassAuthState)}function U(w){const{auth:d,user:g}=w;return De(g,d,"internal-error"),Zo(g,new m(w),w.bypassAuthState)}function Y(w){return ne.apply(this,arguments)}function ne(){return(ne=(0,p.Z)(function*(w){const{auth:d,user:g}=w;return De(g,d,"internal-error"),yi(g,new m(w),w.bypassAuthState)})).apply(this,arguments)}class Ne{constructor(d,g,b,Z,re=!1){this.auth=d,this.resolver=b,this.user=Z,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(b,Z){d.pendingPromise={resolve:b,reject:Z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(re){d.reject(re)}});return function(b,Z){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:b,sessionId:Z,postBody:re,tenantId:Ae,error:st,type:Ut}=d;if(st)return void g.reject(st);const nn={auth:g.auth,requestUri:b,sessionId:Z,tenantId:Ae||void 0,postBody:re||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ut)(nn))}catch(Sn){g.reject(Sn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return S;case"linkViaPopup":case"linkViaRedirect":return Y;case"reauthViaPopup":case"reauthViaRedirect":return U;default:Ze(this.auth,"internal-error")}}resolve(d){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ft=new Re(2e3,1e4);function $t(w,d,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,p.Z)(function*(w,d,g){const b=ur(w);pt(w,d,Zi);const Z=_(b,g);return new Co(b,"signInViaPopup",d,Z).executeNotNull()})).apply(this,arguments)}function Cr(w,d,g){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w);pt(b.auth,d,Zi);const Z=_(b.auth,g);return new Co(b.auth,"reauthViaPopup",d,Z,b).executeNotNull()})).apply(this,arguments)}function Ho(w,d,g){return $s.apply(this,arguments)}function $s(){return($s=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w);pt(b.auth,d,Zi);const Z=_(b.auth,g);return new Co(b.auth,"linkViaPopup",d,Z,b).executeNotNull()})).apply(this,arguments)}let Co=(()=>{class w extends Ne{constructor(g,b,Z,re,Ae){super(g,b,re,Ae),this.provider=Z,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const b=yield g.execute();return De(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,p.Z)(function*(){Wt(1===g.filter.length,"Popup operations only handle one event");const b=ia();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(Z=>{g.reject(Z)}),g.resolver._isIframeWebStorageSupported(g.auth,Z=>{Z||g.reject(nt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,Z;this.pollId=null!==(Z=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,ft.get())};g()}}return w.currentPopupAction=null,w})();const Hr="pendingRedirect",Do=new Map;class go extends Ne{constructor(d,g,b=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let b=Do.get(g.auth._key());if(!b){try{const re=(yield function tl(w,d){return qr.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;b=()=>Promise.resolve(re)}catch(Z){b=()=>Promise.reject(Z)}Do.set(g.auth._key(),b)}return g.bypassAuthState||Do.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,b=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(b,d);if("unknown"!==d.type){if(d.eventId){const Z=yield b.auth._redirectUserForId(d.eventId);if(Z)return b.user=Z,g().call(b,d);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function qr(){return(qr=(0,p.Z)(function*(w,d){const g=Xs(d),b=pu(w);if(!(yield b._isAvailable()))return!1;const Z="true"===(yield b._get(g));return yield b._remove(g),Z})).apply(this,arguments)}function Ou(w,d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(w,d){return pu(w)._set(Xs(d),"true")})).apply(this,arguments)}function Jr(){Do.clear()}function cc(w,d){Do.set(w._key(),d)}function pu(w){return er(w._redirectPersistence)}function Xs(w){return _r(Hr,w.config.apiKey,w.name)}function kl(w,d,g){return function od(w,d,g){return zi.apply(this,arguments)}(w,d,g)}function zi(){return(zi=(0,p.Z)(function*(w,d,g){const b=ur(w);pt(w,d,Zi),yield b._initializationPromise;const Z=_(b,g);return yield Ou(Z,b),Z._openRedirect(b,d,"signInViaRedirect")})).apply(this,arguments)}function ad(w,d,g){return function Na(w,d,g){return oi.apply(this,arguments)}(w,d,g)}function oi(){return(oi=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w);pt(b.auth,d,Zi),yield b.auth._initializationPromise;const Z=_(b.auth,g);yield Ou(Z,b.auth);const re=yield mu(b);return Z._openRedirect(b.auth,d,"reauthViaRedirect",re)})).apply(this,arguments)}function la(w,d,g){return function nl(w,d,g){return gu.apply(this,arguments)}(w,d,g)}function gu(){return(gu=(0,p.Z)(function*(w,d,g){const b=(0,B.m9)(w);pt(b.auth,d,Zi),yield b.auth._initializationPromise;const Z=_(b.auth,g);yield Ts(!1,b,d.providerId),yield Ou(Z,b.auth);const re=yield mu(b);return Z._openRedirect(b.auth,d,"linkViaRedirect",re)})).apply(this,arguments)}function rl(w,d){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,p.Z)(function*(w,d){return yield ur(w)._initializationPromise,ba(w,d,!1)})).apply(this,arguments)}function ba(w,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.Z)(function*(w,d,g=!1){const b=ur(w),Z=_(b,d),Ae=yield new go(b,Z,g).execute();return Ae&&!g&&(delete Ae.user._redirectEventId,yield b._persistUserIfCurrent(Ae.user),yield b._setRedirectUser(null,d)),Ae})).apply(this,arguments)}function mu(w){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.Z)(function*(w){const d=ia(`${w.uid}:::`);return w._redirectEventId=d,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),d})).apply(this,arguments)}class Wa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(d,b)&&(g=!0,this.sendToConsumer(d,b),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function qa(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return il(w);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var b;if(d.error&&!il(d)){const Z=(null===(b=d.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(nt(this.auth,Z))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const b=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&b}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(d))}saveEventToCache(d){this.cachedEventUids.add(To(d)),this.lastProcessedEventTime=Date.now()}}function To(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(d=>d).join("-")}function il({type:w,error:d}){return"unknown"===w&&"auth/no-auth-event"===d?.code}function ku(w){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(w,d={}){return Dt(w,"GET","/v1/projects",d)})).apply(this,arguments)}const Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dc=/^https?/;function yu(){return(yu=(0,p.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:d}=yield ku(w);for(const g of d)try{if(Fl(g))return}catch{}Ze(w,"unauthorized-domain")})).apply(this,arguments)}function Fl(w){const d=bt(),{protocol:g,hostname:b}=new URL(d);if(w.startsWith("chrome-extension://")){const Ae=new URL(w);return""===Ae.hostname&&""===b?"chrome-extension:"===g&&w.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ae.hostname===b}if(!dc.test(g))return!1;if(Fu.test(w))return b===w;const Z=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(b)}const ca=new Re(3e4,6e4);function ka(){const w=ii().___jsl;if(w?.H)for(const d of Object.keys(w.H))if(w.H[d].r=w.H[d].r||[],w.H[d].L=w.H[d].L||[],w.H[d].r=[...w.H[d].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let sl=null;const hc=new Re(5e3,15e3),Ca="__/auth/iframe",gs="emulator/auth/iframe",ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ci=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(w){const d=w.config;De(d.authDomain,w,"auth-domain-config-required");const g=d.emulator?Ve(d,gs):`https://${w.config.authDomain}/${Ca}`,b={apiKey:d.apiKey,appName:w.name,v:M.SDK_VERSION},Z=ci.get(w.config.apiHost);Z&&(b.eid=Z);const re=w._getFrameworks();return re.length&&(b.fw=re.join(",")),`${g}?${(0,B.xO)(b).slice(1)}`}function ol(){return ol=(0,p.Z)(function*(w){const d=yield function Za(w){return sl=sl||function Xo(w){return new Promise((d,g)=>{var b,Z,re;function Ae(){ka(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ka(),g(nt(w,"network-request-failed"))},timeout:ca.get()})}if(null!==(Z=null===(b=ii().gapi)||void 0===b?void 0:b.iframes)&&void 0!==Z&&Z.Iframe)d(gapi.iframes.getContext());else{if(null===(re=ii().gapi)||void 0===re||!re.load){const st=Br("iframefcb");return ii()[st]=()=>{gapi.load?Ae():g(nt(w,"network-request-failed"))},kn(`https://apis.google.com/js/api.js?onload=${st}`).catch(Ut=>g(Ut))}Ae()}}).catch(d=>{throw sl=null,d})}(w),sl}(w),g=ii().gapi;return De(g,w,"internal-error"),d.open({where:document.body,url:Fa(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ud,dontclear:!0},b=>new Promise(function(){var Z=(0,p.Z)(function*(re,Ae){yield b.restyle({setHideOnLeave:!1});const st=nt(w,"network-request-failed"),Ut=ii().setTimeout(()=>{Ae(st)},hc.get());function nn(){ii().clearTimeout(Ut),re(b)}b.ping(nn).then(nn,()=>{Ae(st)})});return function(re,Ae){return Z.apply(this,arguments)}}()))}),ol.apply(this,arguments)}const I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P=500,K=600,se="_blank",ye="http://localhost";class Se{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gt="__/auth/handler",wn="emulator/auth/handler",Wn=encodeURIComponent("fac");function qn(w,d,g,b,Z,re){return js.apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(w,d,g,b,Z,re){De(w.config.authDomain,w,"auth-domain-config-required"),De(w.config.apiKey,w,"invalid-api-key");const Ae={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:b,v:M.SDK_VERSION,eventId:Z};if(d instanceof Zi){d.setDefaultLanguage(w.languageCode),Ae.providerId=d.providerId||"",(0,B.xb)(d.getCustomParameters())||(Ae.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Sn,ir]of Object.entries(re||{}))Ae[Sn]=ir}if(d instanceof Os){const Sn=d.getScopes().filter(ir=>""!==ir);Sn.length>0&&(Ae.scopes=Sn.join(","))}w.tenantId&&(Ae.tid=w.tenantId);const st=Ae;for(const Sn of Object.keys(st))void 0===st[Sn]&&delete st[Sn];const Ut=yield w._getAppCheckToken(),nn=Ut?`#${Wn}=${encodeURIComponent(Ut)}`:"";return`${function Ms({config:w}){return w.emulator?Ve(w,wn):`https://${w.authDomain}/${Gt}`}(w)}?${(0,B.xO)(st).slice(1)}${nn}`})).apply(this,arguments)}const Ya="webStorageSupport",Qa=class Vl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=ba,this._overrideRedirectResult=cc}_openPopup(d,g,b,Z){var re=this;return(0,p.Z)(function*(){var Ae;Wt(null===(Ae=re.eventManagers[d._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const st=yield qn(d,g,b,bt(),Z);return function it(w,d,g,b=P,Z=K){const re=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ae=Math.max((window.screen.availWidth-b)/2,0).toString();let st="";const Ut=Object.assign(Object.assign({},I),{width:b.toString(),height:Z.toString(),top:re,left:Ae}),nn=(0,B.z$)().toLowerCase();g&&(st=j(nn)?se:g),N(nn)&&(d=d||ye,Ut.scrollbars="yes");const Sn=Object.entries(Ut).reduce((xo,[eo,vc])=>`${xo}${eo}=${vc},`,"");if(function ht(w=(0,B.z$)()){var d;return Ee(w)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(nn)&&"_self"!==st)return function Qt(w,d){const g=document.createElement("a");g.href=w,g.target=d;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(d||"",st),new Se(null);const ir=window.open(d||"",st,Sn);De(ir,w,"popup-blocked");try{ir.focus()}catch{}return new Se(ir)}(d,st,ia())})()}_openRedirect(d,g,b,Z){var re=this;return(0,p.Z)(function*(){return yield re._originValidation(d),function Nn(w){ii().location.href=w}(yield qn(d,g,b,bt(),Z)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:Z,promise:re}=this.eventManagers[g];return Z?Promise.resolve(Z):(Wt(re,"If manager is not set, promise should be"),re)}const b=this.initAndGetManager(d);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const b=yield function Ll(w){return ol.apply(this,arguments)}(d),Z=new Wa(d);return b.register("authEvent",re=>(De(re?.authEvent,d,"invalid-auth-event"),{status:Z.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:Z},g.iframes[d._key()]=b,Z})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Ya,{type:Ya},Z=>{var re;const Ae=null===(re=Z?.[0])||void 0===re?void 0:re[Ya];void 0!==Ae&&g(!!Ae),Ze(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Lu(w){return yu.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return en()||$()||Ee()}};class So{constructor(d){this.factorId=d}_process(d,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,b);case"signin":return this._finalizeSignIn(d,g.credential);default:return At("unexpected MultiFactorSessionType")}}}class Ao extends So{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ao(d)}_finalizeEnroll(d,g,b){return function gn(w,d){return Dt(w,"POST","/v2/accounts/mfaEnrollment:finalize",tt(w,d))}(d,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function bo(w,d){return Dt(w,"POST","/v2/accounts/mfaSignIn:finalize",tt(w,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fc=(()=>{class w{constructor(){}static assertion(g){return Ao._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var vu="@firebase/auth";class Ja{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(b=>{d(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const yc=(0,B.Pz)("authIdTokenMaxAge")||300;let Vu=null;const ih=w=>function(){var d=(0,p.Z)(function*(g){const b=g&&(yield g.getIdTokenResult()),Z=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(Z&&Z>yc)return;const re=b?.token;Vu!==re&&(Vu=re,yield fetch(w,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function dd(w=(0,M.getApp)()){const d=(0,M._getProvider)(w,"auth");if(d.isInitialized())return d.getImmediate();const g=function Vr(w,d){const g=(0,M._getProvider)(w,"auth");if(g.isInitialized()){const Z=g.getImmediate(),re=g.getOptions();if((0,B.vZ)(re,d??{}))return Z;Ze(Z,"already-initialized")}return g.initialize({options:d})}(w,{popupRedirectResolver:Qa,persistence:[Ha,lu,po]}),b=(0,B.Pz)("authTokenSyncURL");if(b){const re=ih(b);(function F(w,d,g){(0,B.m9)(w).beforeAuthStateChanged(d,g)})(g,re,()=>re(g.currentUser)),function G(w,d,g,b){(0,B.m9)(w).onIdTokenChanged(d,g,b)}(g,Ae=>re(Ae))}const Z=(0,B.q4)("auth");return Z&&lr(g,`http://${Z}`),g}!function cd(w){(0,M._registerComponent)(new be.wA("auth",(d,{options:g})=>{const b=d.getProvider("app").getImmediate(),Z=d.getProvider("heartbeat"),re=d.getProvider("app-check-internal"),{apiKey:Ae,authDomain:st}=b.options;De(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:b.name});const Ut={apiKey:Ae,authDomain:st,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ar(w)},nn=new br(b,Z,re,Ut);return function Ni(w,d){const g=d?.persistence||[],b=(Array.isArray(g)?g:[g]).map(er);d?.errorMap&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(b,d?.popupRedirectResolver)}(nn,g),nn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,b)=>{d.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new be.wA("auth-internal",d=>{const g=ur(d.getProvider("auth").getImmediate());return new Ja(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(vu,"0.23.2",function mc(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,M.registerVersion)(vu,"0.23.2","esm2017")}("Browser")},2810:(Zt,Me,H)=>{"use strict";H.d(Me,{u7:()=>_f,Jj:()=>Zu,IX:()=>Nm,my:()=>us,xU:()=>ac,Lz:()=>Yu,WA:()=>gt,F8:()=>zd,$q:()=>Xd,W:()=>Su,EK:()=>Zr,PU:()=>sg,l7:()=>ba,Ky:()=>zt,Xb:()=>Zn,Cf:()=>Dr,K9:()=>Ri,Me:()=>od,yq:()=>Hn,Wi:()=>Hp,ET:()=>qv,Ab:()=>uy,vr:()=>r_,Fc:()=>xv,hJ:()=>Gp,B$:()=>Tu,at:()=>Pm,oe:()=>ry,AK:()=>n_,TF:()=>Fm,JU:()=>Rm,ST:()=>Hd,fH:()=>Av,Ix:()=>km,Wu:()=>vf,Lx:()=>Bv,qY:()=>Ps,GL:()=>rd,QT:()=>ey,kl:()=>eh,Xk:()=>th,PL:()=>zv,UQ:()=>Gv,zN:()=>Wv,ad:()=>Sv,nP:()=>i_,b9:()=>Z_,vh:()=>Kn,Pb:()=>Pv,L$:()=>Lm,cf:()=>iy,sc:()=>Kv,Xo:()=>Zm,IO:()=>sc,iE:()=>Ua,Eo:()=>Tv,i3:()=>nh,Bt:()=>ay,pl:()=>ty,Ub:()=>Rt,qK:()=>Xm,TQ:()=>Uv,e0:()=>Vv,r7:()=>ny,Mx:()=>Mv,ar:()=>Lv});var de,p=H(5861),B=H(6881),M=H(4859),_e=H(1877),ce=H(2090),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},ke=ke||{},ae=be||self;function ge(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function we(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Xe="closure_uid_"+(1e9*Math.random()>>>0),ct=0;function It(r,e,t){return r.call.apply(r.bind,arguments)}function Fe(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function rt(r,e,t){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:Fe).apply(null,arguments)}function qe(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function ut(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[a].apply(s,f)}}function Ze(){this.s=this.s,this.o=this.o}Ze.prototype.s=!1,Ze.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Qe(r){Object.prototype.hasOwnProperty.call(r,Xe)&&r[Xe]||(r[Xe]=++ct)}(this)},Ze.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ot=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function pt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function ve(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ge(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function De(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return r}();function Wt(r){return/^[\s\xa0]*$/.test(r)}function bt(){var r=ae.navigator;return r&&(r=r.userAgent)?r:""}function Et(r){return-1!=bt().indexOf(r)}function Tt(r){return Tt[" "](r),r}Tt[" "]=function(){};var Dt,r,je=Et("Opera"),Re=Et("Trident")||Et("MSIE"),Ve=Et("Edge"),Ye=Ve||Re,at=Et("Gecko")&&!(-1!=bt().toLowerCase().indexOf("webkit")&&!Et("Edge"))&&!(Et("Trident")||Et("MSIE"))&&!Et("Edge"),et=-1!=bt().toLowerCase().indexOf("webkit")&&!Et("Edge");function tt(){var r=ae.document;return r?r.documentMode:void 0}e:{var vn="",_t=(r=bt(),at?/rv:([^\);]+)(\)|;)/.exec(r):Ve?/Edge\/([\d\.]+)/.exec(r):Re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):et?/WebKit\/(\S+)/.exec(r):je?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(_t&&(vn=_t?_t[1]:""),Re){var St=tt();if(null!=St&&St>parseFloat(vn)){Dt=String(St);break e}}Dt=vn}var Bn=ae.document&&Re&&(tt()||parseInt(Dt,10))||void 0;function zn(r,e){if(De.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(at){e:{try{Tt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ln[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&zn.$.h.call(this)}}ut(zn,De);var Ln={2:"touch",3:"pen",4:"mouse"};zn.prototype.h=function(){zn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function $n(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Pt,this.fa=this.ia=!1}function jn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function xn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function xt(r){const e={};for(const t in r)e[t]=r[t];return e}const sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<sn.length;c++)t=sn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function nr(r){this.src=r,this.g={},this.h=0}function rr(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=ot(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(jn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Wr(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}nr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Wr(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new $n(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var pn="closure_lm_"+(1e6*Math.random()|0),hn={};function Lt(r,e,t,s,a){if(s&&s.once)return or(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Lt(r,e[c],t,s,a);return null}return t=bn(t),r&&r[kt]?r.O(e,t,we(s)?!!s.capture:!!s,a):Ct(r,e,t,!1,s,a)}function Ct(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=we(a)?!!a.capture:!!a,D=In(r);if(D||(r[pn]=D=new nr(r)),(t=D.add(e,t,s,f,c)).proxy)return t;if(s=function sr(){const e=pr;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)At||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(vr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function or(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)or(r,e[c],t,s,a);return null}return t=bn(t),r&&r[kt]?r.P(e,t,we(s)?!!s.capture:!!s,a):Ct(r,e,t,!0,s,a)}function Xn(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Xn(r,e[c],t,s,a);else s=we(s)?!!s.capture:!!s,t=bn(t),r&&r[kt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Wr(c=r.g[e],t,s,a))&&(jn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=In(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Wr(e,t,s,a)),(t=-1<r?e[r]:null)&&kr(t))}function kr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[kt])rr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(vr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=In(e))?(rr(t,r),0==t.h&&(t.src=null,e[pn]=null)):jn(r)}}}function vr(r){return r in hn?hn[r]:hn[r]="on"+r}function pr(r,e){if(r.fa)r=!0;else{e=new zn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&kr(r),r=t.call(s,e)}return r}function In(r){return(r=r[pn])instanceof nr?r:null}var Fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(r){return"function"==typeof r?r:(r[Fr]||(r[Fr]=function(e){return r.handleEvent(e)}),r[Fr])}function qt(){Ze.call(this),this.i=new nr(this),this.S=this,this.J=null}function rn(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new De(e,r);else if(e instanceof De)e.target=e.target||r;else{var a=e;Gn(e=new De(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=ar(f,s,!0,e)&&a}if(a=ar(f=e.g=r,s,!0,e)&&a,a=ar(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ar(f=e.g=t[c],s,!1,e)&&a}function ar(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var D=f.listener,V=f.la||f.src;f.ia&&rr(r.i,f),a=!1!==D.call(V,s)&&a}}return a&&!s.defaultPrevented}ut(qt,Ze),qt.prototype[kt]=!0,qt.prototype.removeEventListener=function(r,e,t,s){Xn(this,r,e,t,s)},qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)jn(t[s]);delete r.g[e],r.h--}}this.J=null},qt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},qt.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Yn=ae.JSON.stringify;function er(){var r=j;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Pr=new class Ur{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _r,r=>r.reset());class _r{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ee(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function L(r){ae.setTimeout(()=>{throw r},0)}let N,$=!1,j=new class Lr{constructor(){this.h=this.g=null}add(e,t){const s=Pr.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},he=()=>{const r=ae.Promise.resolve(void 0);N=()=>{r.then(oe)}};var oe=()=>{for(var r;r=er();){try{r.h.call(r.g)}catch(t){L(t)}var e=Pr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}$=!1};function le(r,e){qt.call(this),this.h=r||1,this.g=e||ae,this.j=rt(this.qb,this),this.l=Date.now()}function ie(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ee(r,e,t){if("function"==typeof r)t&&(r=rt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=rt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ae.setTimeout(r,e||0)}function Ue(r){r.g=Ee(()=>{r.g=null,r.i&&(r.i=!1,Ue(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ut(le,qt),(de=le.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rn(this,"tick"),this.ga&&(ie(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){le.$.N.call(this),ie(this),delete this.g};class ht extends Ze{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(r){Ze.call(this),this.h=r,this.g={}}ut(Jt,Ze);var en=[];function Vn(r,e,t,s){Array.isArray(t)||(t&&(en[0]=t.toString()),t=en);for(var a=0;a<t.length;a++){var c=Lt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Ar(r){xn(r.g,function(e,t){this.g.hasOwnProperty(t)&&kr(e)},r),r.g={}}function We(){this.g=!0}function Ht(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Dn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Yn(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Jt.prototype.N=function(){Jt.$.N.call(this),Ar(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Ea=function(){this.g=!1},We.prototype.info=function(){};var Yt={},On=null;function kn(){return On=On||new qt}function Br(r){De.call(this,Yt.Ta,r)}function Ir(r){const e=kn();rn(e,new Br(e))}function mi(r,e){De.call(this,Yt.STAT_EVENT,r),this.stat=e}function $r(r){const e=kn();rn(e,new mi(e,r))}function Oi(r,e){De.call(this,Yt.Ua,r),this.size=e}function Rr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){r()},e)}Yt.Ta="serverreachability",ut(Br,De),Yt.STAT_EVENT="statevent",ut(mi,De),Yt.Ua="timingevent",ut(Oi,De);var Bt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function br(){}function Ei(){}br.prototype.h=null;var Pe,Vr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ni(){De.call(this,"d")}function lr(){De.call(this,"c")}function Ie(){}function Ce(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Jt(this),this.P=yt,this.V=new le(r=Ye?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}ut(Ni,De),ut(lr,De),ut(Ie,br),Ie.prototype.g=function(){return new XMLHttpRequest},Ie.prototype.i=function(){return{}},Pe=new Ie;var yt=45e3,ln={},En={};function fn(r,e,t){r.L=1,r.v=xi(bi(e)),r.s=t,r.S=!0,Fn(r,null)}function Fn(r,e){r.G=Date.now(),Yr(r),r.A=bi(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),fs(t.i,"t",s),r.C=0,t=r.l.J,r.h=new lt,r.g=Ws(r.l,t?e:null,!r.s),0<r.O&&(r.M=new ht(rt(r.Pa,r,r.g),r.O)),Vn(r.U,r.g,"readystatechange",r.nb),e=r.I?xt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ir(),function Oe(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",D=c.split("&"),V=0;V<D.length;V++){var W=D[V].split("=");if(1<W.length){var te=W[0];W=W[1];var me=te.split("_");f=2<=me.length&&"type"==me[1]?f+(te+"=")+W+"&":f+(te+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ai(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Kr(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Xr(r,t),a==En){4==e&&(r.o=4,$r(14),s=!1),Ht(r.j,r.m,null,"[Incomplete Response]");break}if(a==ln){r.o=4,$r(15),Ht(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ht(r.j,r.m,a,null),cs(r,a)}ai(r)&&a!=En&&a!=ln&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,$r(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Or(e),e.M=!0,$r(11))):(Ht(r.j,r.m,t,"[Invalid Chunked Response]"),ki(r),qi(r))}function Xr(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?En:(t=Number(e.substring(t,s)),isNaN(t)?ln:(s+=1)+t>e.length?En:(e=e.slice(s,s+t),r.C=s+t,e))}function Yr(r){r.Y=Date.now()+r.P,Tr(r,r.P)}function Tr(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Rr(rt(r.lb,r),e)}function Ii(r){r.B&&(ae.clearTimeout(r.B),r.B=null)}function qi(r){0==r.l.H||r.J||Ss(r.l,r)}function ki(r){Ii(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,ie(r.V),Ar(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function cs(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Hs(t.i,r)))if(!r.K&&Hs(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ji(t),Gs(t)}hr(t),$r(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Rr(rt(t.ib,t),6e3));if(1>=rs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ui(t,11)}else if((r.K||t.g==r)&&Ji(t),!Wt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let W=a[e];if(t.V=W[0],W=W[1],2==t.H)if("c"==W[0]){t.K=W[1],t.pa=W[2];const te=W[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const me=W[4];null!=me&&(t.Ga=me,t.l.info("SVER="+t.Ga));const He=W[5];null!=He&&"number"==typeof He&&0<He&&(t.L=s=1.5*He,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const dt=r.g;if(dt){const Ft=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var c=s.i;c.g||-1==Ft.indexOf("spdy")&&-1==Ft.indexOf("quic")&&-1==Ft.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ds(c,c.h),c.h=null))}if(s.F){const cn=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;cn&&(s.Da=cn,cr(s.I,s.F,cn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Bi(s,s.J?s.pa:null,s.Y),f.K){ps(s.i,f);var D=f,V=s.L;V&&D.setTimeout(V),D.B&&(Ii(D),Yr(D)),s.g=f}else tn(s);0<t.j.length&&x(t)}else"stop"!=W[0]&&"close"!=W[0]||Ui(t,7);else 3==t.H&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?Ui(t,7):Fo(t):"noop"!=W[0]&&t.h&&t.h.Aa(W),t.A=0)}Ir()}catch{}}function Qr(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ge(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ys(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ge(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ds(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ge(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(de=Ce.prototype).setTimeout=function(r){this.P=r},de.nb=function(r){r=r.target;const e=this.M;e&&3==vi(r)?e.l():this.Pa(r)},de.Pa=function(r){try{if(r==this.g)e:{const te=vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Ye||this.g&&(this.h.h||this.g.ja()||Mn(this.g)))){this.J||4!=te||7==e||Ir(),Ii(this);var t=this.g.da();this.ca=t;t:if(ai(this)){var s=Mn(this.g);r="";var a=s.length,c=4==vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),qi(this);var f="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function wt(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,V=this.g;if((D=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wt(D)){var W=D;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,$r(12),ki(this),qi(this);break e}Ht(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,t)}this.S?(Kr(this,te,f),Ye&&this.i&&3==te&&(Vn(this.U,this.V,"tick",this.mb),this.V.start())):(Ht(this.j,this.m,f,null),cs(this,f)),4==te&&ki(this),this.i&&!this.J&&(4==te?Ss(this.l,this):(this.i=!1,Yr(this)))}else(function co(r){const e={};r=(r.g&&2<=vi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Wt(r[s]))continue;var t=ee(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function on(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,$r(12)):(this.o=0,$r(13)),ki(this),qi(this)}}}catch{}},de.mb=function(){if(this.g){var r=vi(this.g),e=this.g.ja();this.C<e.length&&(Ii(this),Kr(this,r,e),this.i&&4!=r&&Yr(this))}},de.cancel=function(){this.J=!0,ki(this)},de.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function an(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ir(),$r(17)),ki(this),this.o=2,qi(this)):Tr(this,this.Y-r)};var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ei(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ei){this.h=r.h,vs(this,r.j),this.s=r.s,this.g=r.g,_s(this,r.m),this.l=r.l;var e=r.i,t=new ns;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ti(this,t),this.o=r.o}else r&&(e=String(r).match(Ro))?(this.h=!1,vs(this,e[1]||"",!0),this.s=ws(e[2]||""),this.g=ws(e[3]||"",!0),_s(this,e[4]),this.l=ws(e[5]||"",!0),ti(this,e[6]||"",!0),this.o=ws(e[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}function bi(r){return new ei(r)}function vs(r,e,t){r.j=t?ws(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function _s(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ti(r,e,t){e instanceof ns?(r.i=e,function bs(r,e){e&&!r.j&&(Ki(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(ao(this,s),fs(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=di(e,Ko)),r.i=new ns(e,r.h))}function cr(r,e,t){r.i.set(e,t)}function xi(r){return cr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ws(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function di(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,hs),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function hs(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ei.prototype.toString=function(){var r=[],e=this.j;e&&r.push(di(e,Fi,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(di(e,Fi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(di(t,"/"==t.charAt(0)?Oo:oo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",di(t,Es)),r.join("")};var Fi=/[#\/\?@]/g,oo=/[#\?:]/g,Oo=/[#\?]/g,Ko=/[#\?@]/g,Es=/#/g;function ns(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ki(r){r.g||(r.g=new Map,r.h=0,r.i&&function ui(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ao(r,e){Ki(r),e=Is(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Li(r,e){return Ki(r),e=Is(r,e),r.g.has(e)}function fs(r,e,t){ao(r,e),0<t.length&&(r.i=null,r.g.set(Is(r,e),pt(t)),r.h+=t.length)}function Is(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Cs(r){this.l=r||Zi,r=ae.PerformanceNavigationTiming?0<(r=ae.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(de=ns.prototype).add=function(r,e){Ki(this),this.i=null,r=Is(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},de.forEach=function(r,e){Ki(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},de.ta=function(){Ki(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},de.Z=function(r){Ki(this);let e=[];if("string"==typeof r)Li(this,r)&&(e=e.concat(this.g.get(Is(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},de.set=function(r,e){return Ki(this),this.i=null,Li(this,r=Is(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},de.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Zi=10;function Os(r){return!!r.h||!!r.g&&r.g.size>=r.j}function rs(r){return r.h?1:r.g?r.g.size:0}function Hs(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ds(r,e){r.g?r.g.add(e):r.h=e}function ps(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function lo(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return pt(r.i)}Cs.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Yi=class{stringify(r){return ae.JSON.stringify(r,void 0)}parse(r){return ae.JSON.parse(r,void 0)}};function mt(){this.g=new Yi}function yn(r,e,t){const s=t||"";try{Qr(r,function(a,c){let f=a;we(a)&&(f=Yn(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Pn(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function xr(r){this.l=r.fc||null,this.j=r.ob||!1}function wr(r,e){qt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=hi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(xr,br),xr.prototype.g=function(){return new wr(this.l,this.j)},xr.prototype.i=function(r){return function(){return r}}({}),ut(wr,qt);var hi=0;function Qi(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function jr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ci(r)}function Ci(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(de=wr.prototype).open=function(r,e){if(this.readyState!=hi)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ci(this)},de.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jr(this)),this.readyState=hi},de.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qi(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?jr(this):Ci(this),3==this.readyState&&Qi(this)}},de.Za=function(r){this.g&&(this.response=this.responseText=r,jr(this))},de.Ya=function(r){this.g&&(this.response=r,jr(this))},de.ka=function(){this.g&&jr(this)},de.setRequestHeader=function(r,e){this.v.append(r,e)},de.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var zs=ae.JSON.parse;function Qn(r){qt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yo,this.L=this.M=!1}ut(Qn,qt);var yo="",No=/^https?$/i,yi=["POST","PUT"];function Ts(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ni(r),fi(r)}function ni(r){r.F||(r.F=!0,rn(r,"complete"),rn(r,"error"))}function Zo(r){if(r.h&&typeof ke<"u"&&(!r.C[1]||4!=vi(r)||2!=r.da()))if(r.v&&4==vi(r))Ee(r.La,0,r);else if(rn(r,"readystatechange"),4==vi(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(Ro)[1]||null;!a&&ae.self&&ae.self.location&&(a=ae.self.location.protocol.slice(0,-1)),s=!No.test(a?a.toLowerCase():"")}t=s}if(t)rn(r,"complete"),rn(r,"success");else{r.m=6;try{var c=2<vi(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",ni(r)}}finally{fi(r)}}}function fi(r,e){if(r.g){Ns(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||rn(r,"ready");try{t.onreadystatechange=s}catch{}}}function Ns(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ae.clearTimeout(r.A),r.A=null)}function vi(r){return r.g?r.g.readyState:0}function Mn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case yo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ko(r){let e="";return xn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function vo(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ko(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):cr(r,e,t))}function Vi(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function ks(r){this.Ga=0,this.j=[],this.l=new We,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vi("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vi("baseRetryDelayMs",5e3,r),this.hb=Vi("retryDelaySeedMs",1e4,r),this.eb=Vi("forwardChannelMaxRetries",2,r),this.xa=Vi("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Cs(r&&r.concurrentRequestLimit),this.Ja=new mt,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Fo(r){if(_o(r),3==r.H){var e=r.W++,t=bi(r.I);if(cr(t,"SID",r.K),cr(t,"RID",e),cr(t,"TYPE","terminate"),J(r,t),(e=new Ce(r,r.l,e)).L=2,e.v=xi(bi(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon)try{t=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ws(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yr(e)}pi(r)}function Gs(r){r.g&&(Or(r),r.g.cancel(),r.g=null)}function _o(r){Gs(r),r.u&&(ae.clearTimeout(r.u),r.u=null),Ji(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ae.clearTimeout(r.m),r.m=null)}function x(r){if(!Os(r.i)&&!r.m){r.m=!0;var e=r.Na;N||he(),$||(N(),$=!0),j.add(e,r),r.C=0}}function R(r,e){var t;t=e?e.m:r.W++;const s=bi(r.I);cr(s,"SID",r.K),cr(s,"RID",t),cr(s,"AID",r.V),J(r,s),r.o&&r.s&&vo(s,r.o,r.s),t=new Ce(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Le(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ds(r.i,t),fn(t,s,e)}function J(r,e){r.na&&xn(r.na,function(t,s){cr(e,s,t)}),r.h&&Qr({},function(t,s){cr(e,s,t)})}function Le(r,e,t){t=Math.min(r.j.length,t);var s=r.h?rt(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let D=!0;for(let V=0;V<t;V++){let W=a[V].g;const te=a[V].map;if(W-=c,0>W)c=Math.max(0,a[V].g-100),D=!1;else try{yn(te,f,"req"+W+"_")}catch{s&&s(te)}}if(D){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function tn(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;N||he(),$||(N(),$=!0),j.add(e,r),r.A=0}}function hr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Rr(rt(r.Ma,r),_i(r,r.A)),r.A++,0))}function Or(r){null!=r.B&&(ae.clearTimeout(r.B),r.B=null)}function is(r){r.g=new Ce(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=bi(r.wa);cr(e,"RID","rpc"),cr(e,"SID",r.K),cr(e,"AID",r.V),cr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&cr(e,"TO",r.qa),cr(e,"TYPE","xmlhttp"),J(r,e),r.o&&r.s&&vo(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=xi(bi(e)),t.s=null,t.S=!0,Fn(t,r)}function Ji(r){null!=r.v&&(ae.clearTimeout(r.v),r.v=null)}function Ss(r,e){var t=null;if(r.g==e){Ji(r),Or(r),r.g=null;var s=2}else{if(!Hs(r.i,e))return;t=e.F,ps(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;rn(s=kn(),new Oi(s,t)),x(r)}else tn(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function k(r,e){return!(rs(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Rr(rt(r.Na,r,e),_i(r,r.C)),r.C++,0)))}(r,e)||2==s&&hr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ui(r,5);break;case 4:Ui(r,10);break;case 3:Ui(r,6);break;default:Ui(r,2)}}function _i(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Ui(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=rt(r.pb,r);t||(t=new ei("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||vs(t,"https"),xi(t)),function Mt(r,e){const t=new We;if(ae.Image){const s=new Image;s.onload=qe(Pn,t,s,"TestLoadImage: loaded",!0,e),s.onerror=qe(Pn,t,s,"TestLoadImage: error",!1,e),s.onabort=qe(Pn,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=qe(Pn,t,s,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else $r(2);r.H=0,r.h&&r.h.za(e),pi(r),_o(r)}function pi(r){if(r.H=0,r.ma=[],r.h){const e=lo(r.i);(0!=e.length||0!=r.j.length)&&(ve(r.ma,e),ve(r.ma,r.j),r.i.i.length=0,pt(r.j),r.j.length=0),r.h.ya()}}function Bi(r,e,t){var s=t instanceof ei?bi(t):new ei(t);if(""!=s.g)e&&(s.g=e+"."+s.g),_s(s,s.m);else{var a=ae.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ei(null);s&&vs(c,s),e&&(c.g=e),a&&_s(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&cr(s,t,e),cr(s,"VER",r.ra),J(r,s),s}function Ws(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&r.Ha&&!r.va?new xr({ob:!0}):r.va)).Oa(r.J),e}function Fs(){}function Xi(){if(Re&&!(10<=Number(Bn)))throw Error("Environmental error: no available transport.")}function Mi(r,e){qt.call(this),this.g=new ks(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Wt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Lo(this)}function ho(r){Ni.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ga(){lr.call(this),this.status=1}function Lo(r){this.g=r}function Di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fo(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Er(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(de=Qn.prototype).Oa=function(r){this.M=r},de.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pe.g(),this.C=function ur(r){return r.h||(r.h=r.i())}(this.u?this.u:Pe),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Ts(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ae.FormData&&r instanceof ae.FormData,!(0<=ot(yi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ns(this),0<this.B&&((this.L=function li(r){return Re&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=Ee(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Ts(this,c)}},de.ua=function(){typeof ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},de.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,rn(this,"complete"),rn(this,"abort"),fi(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fi(this,!0)),Qn.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?Zo(this):this.kb())},de.kb=function(){Zo(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),zs(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=ks.prototype).ra=8,de.H=1,de.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Ce(this,this.l,r);let c=this.s;if(this.U&&(c?(c=xt(c),Gn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Le(this,a,e),cr(t=bi(this.I),"RID",r),cr(t,"CVER",22),this.F&&cr(t,"X-HTTP-Session-Id",this.F),J(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(ko(c)))+"&"+e:this.o&&vo(t,this.o,c)),Ds(this.i,a),this.bb&&cr(t,"TYPE","init"),this.P?(cr(t,"$req",e),cr(t,"SID","null"),a.aa=!0,fn(a,t,null)):fn(a,t,e),this.H=2}}else 3==this.H&&(r?R(this,r):0==this.j.length||Os(this.i)||R(this))},de.Ma=function(){if(this.u=null,is(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Rr(rt(this.jb,this),r)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$r(10),Gs(this),is(this))},de.ib=function(){null!=this.v&&(this.v=null,Gs(this),hr(this),$r(19))},de.pb=function(r){r?(this.l.info("Successfully pinged google.com"),$r(2)):(this.l.info("Failed to ping google.com"),$r(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=Fs.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},Xi.prototype.g=function(r,e){return new Mi(r,e)},ut(Mi,qt),Mi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;$r(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Bi(r,null,r.Y),x(r)},Mi.prototype.close=function(){Fo(this.g)},Mi.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Yn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&x(e)},Mi.prototype.N=function(){this.g.h=null,delete this.j,Fo(this.g),delete this.g,Mi.$.N.call(this)},ut(ho,Ni),ut(ga,lr),ut(Lo,Fs),Lo.prototype.Ba=function(){rn(this.g,"a")},Lo.prototype.Aa=function(r){rn(this.g,new ho(r))},Lo.prototype.za=function(r){rn(this.g,new ga)},Lo.prototype.ya=function(){rn(this.g,"b")},ut(Di,function ri(){this.blockSize=-1}),Di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Di.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)fo(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){fo(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){fo(this,s),a=0;break}}this.h=a,this.i+=e},Di.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var wo={};function ta(r){return-128<=r&&128>r?function Un(r,e){var t=wo;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Er([0|e],0>e?-1:0)}):new Er([0|r],0>r?-1:0)}function $i(r){if(isNaN(r)||!isFinite(r))return As;if(0>r)return fr($i(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Eo;return new Er(e,0)}var Eo=4294967296,As=ta(0),Io=ta(1),Ls=ta(16777216);function ji(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Pi(r){return-1==r.h}function fr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Er(t,~r.h).add(Io)}function Ti(r,e){return r.add(fr(e))}function Nr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Vo(r,e){this.g=r,this.h=e}function Vs(r,e){if(ji(e))throw Error("division by zero");if(ji(r))return new Vo(As,As);if(Pi(r))return e=Vs(fr(r),e),new Vo(fr(e.g),fr(e.h));if(Pi(e))return e=Vs(r,fr(e)),new Vo(fr(e.g),e.h);if(30<r.g.length){if(Pi(r)||Pi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Io,s=e;0>=s.X(r);)t=ra(t),s=ra(s);var a=Yo(t,1),c=Yo(s,1);for(s=Yo(s,2),t=Yo(t,2);!ji(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=Yo(s,1),t=Yo(t,1)}return e=Ti(r,a.R(e)),new Vo(a,e)}for(a=As;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=$i(t)).R(e);Pi(f)||0<f.X(r);)f=(c=$i(t-=s)).R(e);ji(c)&&(c=Io),a=a.add(c),r=Ti(r,f)}return new Vo(a,r)}function ra(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Er(t,r.h)}function Yo(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Er(a,r.h)}(de=Er.prototype).ea=function(){if(Pi(this))return-fr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Eo+s)*e,e*=Eo}return r},de.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ji(this))return"0";if(Pi(this))return"-"+fr(this).toString(r);for(var e=$i(Math.pow(r,6)),t=this,s="";;){var a=Vs(t,e).g,c=((0<(t=Ti(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ji(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},de.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},de.X=function(r){return Pi(r=Ti(this,r))?-1:ji(r)?0:1},de.abs=function(){return Pi(this)?fr(this):this},de.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Er(t,-2147483648&t[t.length-1]?-1:0)},de.R=function(r){if(ji(this)||ji(r))return As;if(Pi(this))return Pi(r)?fr(this).R(fr(r)):fr(fr(this).R(r));if(Pi(r))return fr(this.R(fr(r)));if(0>this.X(Ls)&&0>r.X(Ls))return $i(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),D=r.D(a)>>>16,V=65535&r.D(a);t[2*s+2*a]+=f*V,Nr(t,2*s+2*a),t[2*s+2*a+1]+=c*V,Nr(t,2*s+2*a+1),t[2*s+2*a+1]+=f*D,Nr(t,2*s+2*a+1),t[2*s+2*a+2]+=c*D,Nr(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Er(t,0)},de.gb=function(r){return Vs(this,r).h},de.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Er(t,this.h&r.h)},de.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Er(t,this.h|r.h)},de.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Er(t,this.h^r.h)},Xi.prototype.createWebChannel=Xi.prototype.g,Mi.prototype.send=Mi.prototype.u,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,Tn.COMPLETE="complete",Ei.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",qt.prototype.listen=qt.prototype.O,Qn.prototype.listenOnce=Qn.prototype.P,Qn.prototype.getLastError=Qn.prototype.Sa,Qn.prototype.getLastErrorCode=Qn.prototype.Ia,Qn.prototype.getStatus=Qn.prototype.da,Qn.prototype.getResponseJson=Qn.prototype.Wa,Qn.prototype.getResponseText=Qn.prototype.ja,Qn.prototype.send=Qn.prototype.ha,Qn.prototype.setWithCredentials=Qn.prototype.Oa,Di.prototype.digest=Di.prototype.l,Di.prototype.reset=Di.prototype.reset,Di.prototype.update=Di.prototype.j,Er.prototype.add=Er.prototype.add,Er.prototype.multiply=Er.prototype.R,Er.prototype.modulo=Er.prototype.gb,Er.prototype.compare=Er.prototype.X,Er.prototype.toNumber=Er.prototype.ea,Er.prototype.toString=Er.prototype.toString,Er.prototype.getBits=Er.prototype.D,Er.fromNumber=$i,Er.fromString=function na(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return fr(na(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=$i(Math.pow(e,8)),s=As,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=$i(Math.pow(e,c)),s=s.R(c).add($i(f))):s=(s=s.R(t)).add($i(f))}return s};var xa=Te.createWebChannelTransport=function(){return new Xi},Us=Te.getStatEventTarget=function(){return kn()},xs=Te.ErrorCode=Bt,ma=Te.EventType=Tn,Ma=Te.Event=Yt,A=Te.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},G=Te.FetchXmlHttpFactory=xr,F=Te.WebChannel=Ei,Q=Te.XhrIo=Qn,pe=Te.Md5=Di,Ke=Te.Integer=Er;const E="@firebase/firestore";class C{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");let q="9.22.1";const ue=new _e.Yd("@firebase/firestore");function Be(){return ue.logLevel}function Rt(r){ue.setLogLevel(r)}function Je(r,...e){if(ue.logLevel<=_e.in.DEBUG){const t=e.map(wi);ue.debug(`Firestore (${q}): ${r}`,...t)}}function gn(r,...e){if(ue.logLevel<=_e.in.ERROR){const t=e.map(wi);ue.error(`Firestore (${q}): ${r}`,...t)}}function Hn(r,...e){if(ue.logLevel<=_e.in.WARN){const t=e.map(wi);ue.warn(`Firestore (${q}): ${r}`,...t)}}function wi(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Vt(r="Unexpected state"){const e=`FIRESTORE (${q}) INTERNAL ASSERTION FAILED: `+r;throw gn(e),new Error(e)}function un(r,e){r||Vt()}function Ri(r,e){r||Vt()}function Nt(r,e){return r}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(C.UNAUTHENTICATED))}shutdown(){}}class Ra{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lu{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=W=>this.i!==a?(a=this.i,t(W)):Promise.resolve();let f=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Si,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const W=f;e.enqueueRetryable((0,p.Z)(function*(){yield W.promise,yield c(s.currentUser)}))},V=W=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(W=>V(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?V(W):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Si)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(un("string"==typeof s.accessToken),new Pa(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return un(null===e||"string"==typeof e),new C(e)}}class xu{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=C.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class po{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new xu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Je("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un("string"==typeof t.token),this.T=t.token,new Rl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ol(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class ii{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ol(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Nn(r,e){return r<e?-1:r>e?1:0}function sa(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Ba(r){return r+"\0"}class Zr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Zr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new Zr(0,0))}static max(){return new Cn(new Zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class oa{constructor(e,t,s){void 0===t?t=0:t>e.length&&Vt(),void 0===s?s=e.length-t:s>e.length-t&&Vt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends oa{construct(e,t,s){return new Rn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt($e.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const ss=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends oa{construct(e,t,s){return new Zn(e,t,s)}static isValidIdentifier(e){return ss.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new gt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new gt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[a+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new gt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,a+=2}else"`"===D?(f=!f,a++):"."!==D||f?(s+=D,a++):(c(),a++)}if(c(),f)throw new gt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(Rn.fromString(e))}static fromName(e){return new zt(Rn.fromString(e).popFirst(5))}static empty(){return new zt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new Rn(e.slice()))}}class Uo{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function ya(r){return r.fields.find(e=>2===e.kind)}function qs(r){return r.fields.filter(e=>2!==e.kind)}Uo.UNKNOWN_ID=-1;class $a{constructor(e,t){this.fieldPath=e,this.kind=t}}class _a{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _a(0,es.min())}}function aa(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Cn.fromTimestamp(1e9===s?new Zr(t+1,0):new Zr(t,s));return new es(a,zt.empty(),e)}function os(r){return new es(r.readTime,r.key,-1)}class es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new es(Cn.min(),zt.empty(),-1)}static max(){return new es(Cn.max(),zt.empty(),-1)}}function Ks(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=zt.comparator(r.documentKey,e.documentKey),0!==t?t:Nn(r.largestBatchId,e.largestBatchId))}const ja="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ha{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function as(r){return bo.apply(this,arguments)}function bo(){return bo=(0,p.Z)(function*(r){if(r.code!==$e.FAILED_PRECONDITION||r.message!==ja)throw r;Je("LocalStore","Unexpectedly lost primary lease")}),bo.apply(this,arguments)}class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,s)=>{t(e)})}static reject(e){return new ze((t,s)=>{s(e)})}static waitFor(e){return new ze((t,s)=>{let a=0,c=0,f=!1;e.forEach(D=>{++a,D.next(()=>{++c,f&&c===a&&t()},V=>s(V))}),f=!0,c===a&&t()})}static or(e){let t=ze.resolve(!1);for(const s of e)t=t.next(a=>a?ze.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new ze((s,a)=>{const c=e.length,f=new Array(c);let D=0;for(let V=0;V<c;V++){const W=V;t(e[W]).next(te=>{f[W]=te,++D,D===c&&s(f)},te=>a(te))}})}static doWhile(e,t){return new ze((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Pu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Si,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new wa(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=Ru(s.target.error);this.v.reject(new wa(e,a))}}static open(e,t,s,a){try{return new Pu(t,e.transaction(a,s))}catch(c){throw new wa(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new el(t)}}class gr{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===gr.S((0,ce.z$)())&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Je("SimpleDb","Removing database:",e),ua(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ce.hl)())return!1;if(gr.C())return!0;const e=(0,ce.z$)(),t=gr.S(e),s=0<t&&t<10,a=gr.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,p.Z)(function*(){return t.db||(Je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{a(new wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const D=f.target.error;a("VersionError"===D.name?new gt($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new gt($e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new wa(e,D))},c.onupgradeneeded=f=>{Je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,p.Z)(function*(){const f="readonly"===t;let D=0;for(;;){++D;try{c.db=yield c.$(e);const V=Pu.open(c.db,e,f?"readonly":"readwrite",s),W=a(V).next(te=>(V.P(),te)).catch(te=>(V.abort(te),ze.reject(te))).toPromise();return W.catch(()=>{}),yield V.R,W}catch(V){const W=V,te="FirebaseError"!==W.name&&D<3;if(Je("SimpleDb","Transaction failed with error:",W.message,"Retrying:",te),c.close(),!te)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ua(this.L.delete())}}class wa extends gt{constructor(e,t){super($e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bo(r){return"IndexedDbTransactionError"===r.name}class el{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Je("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Je("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ua(s)}add(e){return Je("SimpleDb","ADD",this.store.name,e,e),ua(this.store.add(e))}get(e){return ua(this.store.get(e)).next(t=>(void 0===t&&(t=null),Je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Je("SimpleDb","DELETE",this.store.name,e),ua(this.store.delete(e))}count(){return Je("SimpleDb","COUNT",this.store.name),ua(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(f,D)=>{c.push(D)}).next(()=>c)}{const a=this.store.getAll(s.range);return new ze((c,f)=>{a.onerror=D=>{f(D.target.error)},a.onsuccess=D=>{c(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new ze((a,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){Je("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,f,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new ze((s,a)=>{t.onerror=c=>{const f=Ru(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}W(e,t){const s=[];return new ze((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void a();const V=new cu(D),W=t(D.primaryKey,D.value,V);if(W instanceof ze){const te=W.catch(me=>(V.done(),ze.reject(me)));s.push(te)}V.isDone?a():null===V.K?D.continue():D.continue(V.K)}}).next(()=>ze.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ua(r){return new ze((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=Ru(s.target.error);t(a)}})}let Nl=!1;function Ru(r){const e=gr.S((0,ce.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nl||(Nl=!0,setTimeout(()=>{throw s},0)),s}}return r}class Ea{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{Je("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Bo(s)?Je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield as(s)}yield t.et(6e4)}))}}class sd{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return ze.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return Je("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(D=>{a-=D,s.add(f)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(D=>(Je("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const f=os(c);Ks(f,s)>0&&(s=f)}),new es(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zs=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function gi(r){return null==r}function Ys(r){return 0===r&&1/r==-1/0}function za(r){return"number"==typeof r&&Number.isInteger(r)&&!Ys(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Hi(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=$o(e)),e=Bs(r.get(t),e);return $o(e)}function Bs(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function $o(r){return r+"\x01\x01"}function Qs(r){const e=r.length;if(un(e>=2),2===e)return un("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Rn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&Vt(),r.charAt(f+1)){case"\x01":const D=r.substring(c,f);let V;0===a.length?V=D:(a+=D,V=a,a=""),s.push(V);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:Vt()}c=f+2}return new Rn(s)}const Ia=["userId","batchId"];function jo(r,e){return[r,Hi(e)]}function du(r,e,t){return[r,Hi(e),t]}const hu={},Ga=["prefixPath","collectionGroup","readTime","documentId"],fu=["prefixPath","collectionGroup","documentId"],Js=["collectionGroup","readTime","prefixPath","documentId"],Oa=["canonicalId","targetId"],v=["targetId","path"],_=["path","targetId"],m=["collectionId","parent"],S=["indexId","uid"],U=["uid","sequenceNumber"],Y=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ne=["indexId","uid","orderedDocumentKey"],Ne=["userId","collectionPath","documentId"],ft=["userId","collectionPath","largestBatchId"],$t=["userId","collectionGroup","largestBatchId"],Kt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cr=[...Kt,"documentOverlays"],si=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ho=si,$s=[...Ho,"indexConfiguration","indexState","indexEntries"];class Co extends Ha{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Hr(r,e){const t=Nt(r);return gr.M(t.ht,e)}function Do(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function go(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tl(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class qr{constructor(e,t){this.comparator=e,this.root=t||Ai.EMPTY}insert(e,t){return new qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ai.RED,this.left=a??Ai.EMPTY,this.right=c??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ai(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ai.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ai(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cc(this.data.getIterator())}getIteratorFrom(e){return new cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jr(this.comparator);return t.data=e,t}}class cc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pu(r){return r.hasNext()?r.getNext():void 0}class Xs{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new Xs([])}unionWith(e){let t=new Jr(Zn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class kl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function od(){return typeof atob<"u"}class zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kl("Invalid base64 string: "+a):a}}(e);return new zi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const ad=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(un(!!r),"string"==typeof r){let e=0;const t=ad.exec(r);if(un(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:oi(r.seconds),nanos:oi(r.nanos)}}function oi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function la(r){return"string"==typeof r?zi.fromBase64String(r):zi.fromUint8Array(r)}function nl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gu(r){const e=r.mapValue.fields.__previous_value__;return nl(e)?gu(e):e}function rl(r){const e=Na(r.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}class Nu{constructor(e,t,s,a,c,f,D,V,W){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=V,this.useFetchStreams=W}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mu={nullValue:"NULL_VALUE"};function zo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nl(r)?4:Xo(r)?9007199254740991:10:Vt()}function Jo(r,e){if(r===e)return!0;const t=zo(r);if(t!==zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rl(r).isEqual(rl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Na(s.timestampValue),f=Na(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,la(r.bytesValue).isEqual(la(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return oi(s.geoPointValue.latitude)===oi(a.geoPointValue.latitude)&&oi(s.geoPointValue.longitude)===oi(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return oi(s.integerValue)===oi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=oi(s.doubleValue),f=oi(a.doubleValue);return c===f?Ys(c)===Ys(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return sa(r.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Do(c)!==Do(f))return!1;for(const D in c)if(c.hasOwnProperty(D)&&(void 0===f[D]||!Jo(c[D],f[D])))return!1;return!0}(r,e);default:return Vt()}var a}function Wa(r,e){return void 0!==(r.values||[]).find(t=>Jo(t,e))}function To(r,e){if(r===e)return 0;const t=zo(r),s=zo(e);if(t!==s)return Nn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=oi(a.integerValue||a.doubleValue),D=oi(c.integerValue||c.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(r,e);case 3:return il(r.timestampValue,e.timestampValue);case 4:return il(rl(r),rl(e));case 5:return Nn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=la(a),D=la(c);return f.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),D=c.split("/");for(let V=0;V<f.length&&V<D.length;V++){const W=Nn(f[V],D[V]);if(0!==W)return W}return Nn(f.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Nn(oi(a.latitude),oi(c.latitude));return 0!==f?f:Nn(oi(a.longitude),oi(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],D=c.values||[];for(let V=0;V<f.length&&V<D.length;++V){const W=To(f[V],D[V]);if(W)return W}return Nn(f.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Qo.mapValue&&c===Qo.mapValue)return 0;if(a===Qo.mapValue)return 1;if(c===Qo.mapValue)return-1;const f=a.fields||{},D=Object.keys(f),V=c.fields||{},W=Object.keys(V);D.sort(),W.sort();for(let te=0;te<D.length&&te<W.length;++te){const me=Nn(D[te],W[te]);if(0!==me)return me;const He=To(f[D[te]],V[W[te]]);if(0!==He)return He}return Nn(D.length,W.length)}(r.mapValue,e.mapValue);default:throw Vt()}}function il(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Nn(r,e);const t=Na(r),s=Na(e),a=Nn(t.seconds,s.seconds);return 0!==a?a:Nn(t.nanos,s.nanos)}function qa(r){return ku(r)}function ku(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Na(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?la(r.bytesValue).toBase64():"referenceValue"in r?zt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=ku(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const D of a)f?f=!1:c+=",",c+=`${D}:${ku(s.fields[D])}`;return c+"}"}(r.mapValue):Vt();var e}function Fu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dc(r){return!!r&&"integerValue"in r}function Lu(r){return!!r&&"arrayValue"in r}function yu(r){return!!r&&"nullValue"in r}function Fl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ca(r){return!!r&&"mapValue"in r}function ka(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return go(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ka(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ka(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Xo(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function sl(r){return"nullValue"in r?mu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Fu(ba.empty(),zt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Vt()}function Za(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Fu(ba.empty(),zt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Qo:Vt()}function hc(r,e){const t=To(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ca(r,e){const t=To(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ca(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(t)}setAll(e){let t=Zn.emptyPath(),s={},a=[];e.forEach((f,D)=>{if(!t.isImmediateParentOf(D)){const V=this.getFieldsMap(t);this.applyChanges(V,s,a),s={},a=[],t=D.popLast()}f?s[D.lastSegment()]=ka(f):a.push(D.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ca(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ca(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){go(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new gs(ka(this.value))}}function ud(r){const e=[];return go(r.fields,(t,s)=>{const a=new Zn([t]);if(ca(s)){const c=ud(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Xs(e)}class ci{constructor(e,t,s,a,c,f,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=D}static newInvalidDocument(e){return new ci(e,0,Cn.min(),Cn.min(),Cn.min(),gs.empty(),0)}static newFoundDocument(e,t,s,a){return new ci(e,1,t,Cn.min(),s,a,0)}static newNoDocument(e,t){return new ci(e,2,t,Cn.min(),Cn.min(),gs.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,Cn.min(),Cn.min(),gs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,t){this.position=e,this.inclusive=t}}function Ll(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?zt.comparator(zt.fromName(f.referenceValue),t.key):To(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function ol(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Jo(r.position[t],e.position[t]))return!1;return!0}class I{constructor(e,t="asc"){this.field=e,this.dir=t}}function P(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class K{}class se extends K{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ms(e,t,s):"array-contains"===t?new So(e,s):"in"===t?new Ao(e,s):"not-in"===t?new fc(e,s):"array-contains-any"===t?new pc(e,s):new se(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ya(e,s):new Vl(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(To(t,this.value)):null!==t&&zo(this.value)===zo(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ye extends K{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ye(e,t)}matches(e){return Se(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Se(r){return"and"===r.op}function it(r){return"or"===r.op}function Qt(r){return Gt(r)&&Se(r)}function Gt(r){for(const e of r.filters)if(e instanceof ye)return!1;return!0}function wn(r){if(r instanceof se)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(Qt(r))return r.filters.map(e=>wn(e)).join(",");{const e=r.filters.map(t=>wn(t)).join(",");return`${r.op}(${e})`}}function Wn(r,e){return r instanceof se?(t=r,(s=e)instanceof se&&t.op===s.op&&t.field.isEqual(s.field)&&Jo(t.value,s.value)):r instanceof ye?function(t,s){return s instanceof ye&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Wn(c,s.filters[f]),!0)}(r,e):void Vt();var t,s}function qn(r,e){const t=r.filters.concat(e);return ye.create(t,r.op)}function js(r){return r instanceof se?`${(e=r).field.canonicalString()} ${e.op} ${qa(e.value)}`:r instanceof ye?function(e){return e.op.toString()+" {"+e.getFilters().map(js).join(" ,")+"}"}(r):"Filter";var e}class Ms extends se{constructor(e,t,s){super(e,t,s),this.key=zt.fromName(s.referenceValue)}matches(e){const t=zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ya extends se{constructor(e,t){super(e,"in",t),this.keys=Qa(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vl extends se{constructor(e,t){super(e,"not-in",t),this.keys=Qa(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qa(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>zt.fromName(s.referenceValue))}class So extends se{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lu(t)&&Wa(t.arrayValue,this.value)}}class Ao extends se{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wa(this.value.arrayValue,t)}}class fc extends se{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wa(this.value.arrayValue,t)}}class pc extends se{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wa(this.value.arrayValue,s))}}class ld{constructor(e,t=null,s=[],a=[],c=null,f=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=D,this.dt=null}}function gc(r,e=null,t=[],s=[],a=null,c=null,f=null){return new ld(r,e,t,s,a,c,f)}function da(r){const e=Nt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>wn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),gi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qa(s)).join(",")),e.dt=t}return e.dt}function vu(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!P(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Wn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ol(r.startAt,e.startAt)&&ol(r.endAt,e.endAt)}function al(r){return zt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Ja(r,e){return r.filters.filter(t=>t instanceof se&&t.field.isEqual(e))}function mc(r,e,t){let s=mu,a=!0;for(const c of Ja(r,e)){let f=mu,D=!0;switch(c.op){case"<":case"<=":f=sl(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,D=!1;break;case"!=":case"not-in":f=mu}hc({value:s,inclusive:a},{value:f,inclusive:D})<0&&(s=f,a=D)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];hc({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function cd(r,e,t){let s=Qo,a=!0;for(const c of Ja(r,e)){let f=Qo,D=!0;switch(c.op){case">=":case">":f=Za(c.value),D=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,D=!1;break;case"!=":case"not-in":f=Qo}Ca({value:s,inclusive:a},{value:f,inclusive:D})>0&&(s=f,a=D)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];Ca({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class Xa{constructor(e,t=null,s=[],a=[],c=null,f="F",D=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=D,this.endAt=V,this.wt=null,this._t=null}}function yc(r,e,t,s,a,c,f,D){return new Xa(r,e,t,s,a,c,f,D)}function Vu(r){return new Xa(r)}function ih(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function dd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function w(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function d(r){return null!==r.collectionGroup}function g(r){const e=Nt(r);if(null===e.wt){e.wt=[];const t=w(e),s=dd(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new I(t)),e.wt.push(new I(Zn.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new I(Zn.keyField(),c))}}}return e.wt}function b(r){const e=Nt(r);if(!e._t)if("F"===e.limitType)e._t=gc(e.path,e.collectionGroup,g(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of g(e))t.push(new I(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;e._t=gc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Z(r,e){e.getFirstInequalityField(),w(r);const t=r.filters.concat([e]);return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function re(r,e,t){return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ae(r,e){return vu(b(r),b(e))&&r.limitType===e.limitType}function st(r){return`${da(b(r))}|lt:${r.limitType}`}function Ut(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>js(s)).join(", ")}]`),gi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qa(s)).join(",")),`Target(${t})`}(b(r))}; limitType=${r.limitType})`}function nn(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):zt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of g(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const D=Ll(a,c,f);return a.inclusive?D<=0:D<0}(t.startAt,g(t),s)||t.endAt&&!function(a,c,f){const D=Ll(a,c,f);return a.inclusive?D>=0:D>0}(t.endAt,g(t),s)));var t,s}function Sn(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ir(r){return(e,t)=>{let s=!1;for(const a of g(r)){const c=xo(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function xo(r,e,t){const s=r.field.isKeyField()?zt.comparator(e.key,t.key):function(a,c,f){const D=c.data.field(a),V=f.data.field(a);return null!==D&&null!==V?To(D,V):Vt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Vt()}}class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return tl(this.inner)}size(){return this.innerSize}}const vc=new qr(zt.comparator);function Go(){return vc}const Uu=new qr(zt.comparator);function ul(...r){let e=Uu;for(const t of r)e=e.insert(t.key,t);return e}function _c(r){let e=Uu;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ea(){return _u()}function wc(){return _u()}function _u(){return new eo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ec=new qr(zt.comparator),Ul=new Jr(zt.comparator);function tr(...r){let e=Ul;for(const t of r)e=e.add(t);return e}const Ic=new Jr(Nn);function Bl(){return Ic}function sh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(e)?"-0":e}}function oh(r){return{integerValue:""+r}}function bc(r,e){return za(e)?oh(e):sh(r,e)}class ah{constructor(){this._=void 0}}function cg(r,e,t){return r instanceof Cc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&nl(a)&&(a=gu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof ll?Af(r,e):r instanceof wu?uh(r,e):function(s,a){const c=dg(s,a),f=hg(c)+hg(s.gt);return dc(c)&&dc(s.gt)?oh(f):sh(s.serializer,f)}(r,e)}function _y(r,e,t){return r instanceof ll?Af(r,e):r instanceof wu?uh(r,e):t}function dg(r,e){return r instanceof eu?dc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Cc extends ah{}class ll extends ah{constructor(e){super(),this.elements=e}}function Af(r,e){const t=fg(e);for(const s of r.elements)t.some(a=>Jo(a,s))||t.push(s);return{arrayValue:{values:t}}}class wu extends ah{constructor(e){super(),this.elements=e}}function uh(r,e){let t=fg(e);for(const s of r.elements)t=t.filter(a=>!Jo(a,s));return{arrayValue:{values:t}}}class eu extends ah{constructor(e,t){super(),this.serializer=e,this.gt=t}}function hg(r){return oi(r.integerValue||r.doubleValue)}function fg(r){return Lu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class lh{constructor(e,t){this.field=e,this.transform=t}}class xf{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class $l{}function ch(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Da(r.key,ts.none()):new Tc(r.key,r.data,ts.none());{const t=r.data,s=gs.empty();let a=new Jr(Zn.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Bu(r.key,s,new Xs(a.toArray()),ts.none())}}function pg(r,e,t){r instanceof Tc?function(s,a,c){const f=s.value.clone(),D=yg(s.fieldTransforms,a,c.transformResults);f.setAll(D),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Bu?function(s,a,c){if(!hd(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=yg(s.fieldTransforms,a,c.transformResults),D=a.data;D.setAll(mg(s)),D.setAll(f),a.convertToFoundDocument(c.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dc(r,e,t,s){return r instanceof Tc?function(a,c,f,D){if(!hd(a.precondition,c))return f;const V=a.value.clone(),W=vg(a.fieldTransforms,D,c);return V.setAll(W),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(r,e,t,s):r instanceof Bu?function(a,c,f,D){if(!hd(a.precondition,c))return f;const V=vg(a.fieldTransforms,D,c),W=c.data;return W.setAll(mg(a)),W.setAll(V),c.convertToFoundDocument(c.version,W).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(te=>te.field))}(r,e,t,s):(f=t,hd(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function gg(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=dg(s.transform,a||null);null!=c&&(null===t&&(t=gs.empty()),t.set(s.field,c))}return t||null}function Mf(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&sa(t,s,(a,c)=>function wy(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof ll&&s instanceof ll||t instanceof wu&&s instanceof wu?sa(t.elements,s.elements,Jo):t instanceof eu&&s instanceof eu?Jo(t.gt,s.gt):t instanceof Cc&&s instanceof Cc);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Tc extends $l{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bu extends $l{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function yg(r,e,t){const s=new Map;un(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,D=e.data.field(c.field);s.set(c.field,_y(f,D,t[a]))}return s}function vg(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,cg(c,f,e))}return s}class Da extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jl extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&pg(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Dc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Dc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=wc();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let D=this.applyToLocalView(f,c.mutatedFields);D=t.has(a.key)?null:D;const V=ch(f,D);null!==V&&s.set(a.key,V),f.isValidDocument()||f.convertToNoDocument(Cn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,s)=>Mf(t,s))&&sa(this.baseMutations,e.baseMutations,(t,s)=>Mf(t,s))}}class _g{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){un(e.mutations.length===s.length);let a=Ec;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new _g(e,t,s,a)}}class wg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class U_{constructor(e,t){this.count=e,this.unchangedNames=t}}var to,zr;function Eg(r){switch(r){default:return Vt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function Ig(r){if(void 0===r)return gn("GRPC error has no .code"),$e.UNKNOWN;switch(r){case to.OK:return $e.OK;case to.CANCELLED:return $e.CANCELLED;case to.UNKNOWN:return $e.UNKNOWN;case to.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case to.INTERNAL:return $e.INTERNAL;case to.UNAVAILABLE:return $e.UNAVAILABLE;case to.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case to.NOT_FOUND:return $e.NOT_FOUND;case to.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case to.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case to.ABORTED:return $e.ABORTED;case to.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case to.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case to.DATA_LOSS:return $e.DATA_LOSS;default:return Vt()}}(zr=to||(to={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";class Rf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dh}static getOrCreateInstance(){return null===dh&&(dh=new Rf),dh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let dh=null;function hh(){return new TextEncoder}const $u=new Ke([4294967295,4294967295],0);function Sc(r){const e=hh().encode(r),t=new pe;return t.update(e),new Uint8Array(t.digest())}function Of(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ke([t,s],0),new Ke([a,c],0)]}class fh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(s<0)throw new Ac(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ac(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ke.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Ke.fromNumber(s)));return 1===a.compare($u)&&(a=new Ke([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Sc(e),[s,a]=Of(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new fh(c,a,t);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const t=Sc(e),[s,a]=Of(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ph(Cn.min(),a,new qr(Nn),Go(),tr())}}class gh{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new gh(s,t,tr(),tr(),tr())}}class Nf{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class mh{constructor(e,t){this.targetId=e,this.Vt=t}}class yh{constructor(e,t,s=zi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Ey{constructor(){this.St=0,this.Dt=bg(),this.Ct=zi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=tr(),t=tr(),s=tr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Vt()}}),new gh(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=bg()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class B_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Go(),this.zt=kf(),this.Wt=new qr(Nn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(al(f))if(0===a){const D=new zt(f.path);this.Yt(s,D,ci.newNoDocument(D,Cn.min()))}else un(1===a);else{const D=this.ie(s);if(D!==a){const V=this.re(e,D);0!==V&&(this.ee(s),this.Wt=this.Wt.insert(s,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Rf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(W,te,me){var He,dt,Ft,cn,mn,mr;const Gr={localCacheCount:te,existenceFilterCount:me.count},Mr=me.unchangedNames;return Mr&&(Gr.bloomFilter={applied:0===W,hashCount:null!==(He=Mr?.hashCount)&&void 0!==He?He:0,bitmapLength:null!==(cn=null===(Ft=null===(dt=Mr?.bits)||void 0===dt?void 0:dt.bitmap)||void 0===Ft?void 0:Ft.length)&&void 0!==cn?cn:0,padding:null!==(mr=null===(mn=Mr?.bits)||void 0===mn?void 0:mn.padding)&&void 0!==mr?mr:0}),Gr}(V,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:D=0}=s;let V,W;try{V=la(c).toUint8Array()}catch(te){if(te instanceof kl)return Hn("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{W=new fh(V,f,D)}catch(te){return Hn(te instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===W.It?1:a!==t-this.oe(e.targetId,W)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(D)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const D=this.se(f);if(D){if(c.current&&al(D.target)){const V=new zt(D.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,ci.newNoDocument(V,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=tr();this.zt.forEach((c,f)=>{let D=!0;f.forEachWhile(V=>{const W=this.se(V);return!W||"TargetPurposeLimboResolution"===W.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new ph(e,t,this.Wt,this.jt,s);return this.jt=Go(),this.zt=kf(),this.Wt=new qr(Nn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ey,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Jr(Nn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Je("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ey),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function kf(){return new qr(zt.comparator)}function bg(){return new qr(zt.comparator)}const Iy={asc:"ASCENDING",desc:"DESCENDING"},by={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cy={and:"AND",or:"OR"};class Cg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xc(r,e){return r.useProto3Json||gi(e)?e:{value:e}}function Mc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vh(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Dy(r,e){return Mc(r,e.toTimestamp())}function Sr(r){return un(!!r),Cn.fromTimestamp(function(e){const t=Na(e);return new Zr(t.seconds,t.nanos)}(r))}function Ff(r,e){return(t=r,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Dg(r){const e=Rn.fromString(r);return un(hl(e)),e}function Pc(r,e){return Ff(r.databaseId,e.path)}function tu(r,e){const t=Dg(e);if(t.get(1)!==r.databaseId.projectId)throw new gt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new gt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new zt(Sg(t))}function Lf(r,e){return Ff(r.databaseId,e)}function Tg(r){const e=Dg(r);return 4===e.length?Rn.emptyPath():Sg(e)}function fd(r){return new Rn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Sg(r){return un(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Vf(r,e,t){return{name:Pc(r,e),fields:t.value.mapValue.fields}}function Ty(r,e,t){const s=tu(r,e.name),a=Sr(e.updateTime),c=e.createTime?Sr(e.createTime):Cn.min(),f=new gs({mapValue:{fields:e.fields}}),D=ci.newFoundDocument(s,a,c,f);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Hl(r,e){let t;if(e instanceof Tc)t={update:Vf(r,e.key,e.value)};else if(e instanceof Da)t={delete:Pc(r,e.key)};else if(e instanceof Bu)t={update:Vf(r,e.key,e.data),updateMask:Rg(e.fieldMask)};else{if(!(e instanceof jl))return Vt();t={verify:Pc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Cc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof eu)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Vt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Dy(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Vt()),t;var a}function _h(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ts.updateTime(Sr(a.updateTime)):void 0!==a.exists?ts.exists(a.exists):ts.none():ts.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let D=null;"setToServerValue"in f?(un("REQUEST_TIME"===f.setToServerValue),D=new Cc):"appendMissingElements"in f?D=new ll(f.appendMissingElements.values||[]):"removeAllFromArray"in f?D=new wu(f.removeAllFromArray.values||[]):"increment"in f?D=new eu(c,f.increment):Vt();const V=Zn.fromServerFormat(f.fieldPath);return new lh(V,D)}(r,a)):[];var a;if(e.update){const a=tu(r,e.update.name),c=new gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Xs((e.updateMask.fieldPaths||[]).map(W=>Zn.fromServerFormat(W)));return new Bu(a,c,f,t,s)}return new Tc(a,c,t,s)}if(e.delete){const a=tu(r,e.delete);return new Da(a,t)}if(e.verify){const a=tu(r,e.verify);return new jl(a,t)}return Vt()}function Uf(r,e){return{documents:[Lf(r,e.path)]}}function xg(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Lf(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Lf(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(V){if(0!==V.length)return Hf(ye.create(V,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(V){if(0!==V.length)return V.map(W=>{return{field:cl((te=W).field),direction:$f(te.dir)};var te})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=xc(r,e.limit);var D,V;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function Mg(r){let e=Tg(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){un(1===s);const te=t.from[0];te.allDescendants?a=te.collectionId:e=e.child(te.collectionId)}let c=[];t.where&&(c=function(te){const me=Bf(te);return me instanceof ye&&Qt(me)?me.getFilters():[me]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(te=>{return new I(dl((me=te).field),function(He){switch(He){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let D=null;t.limit&&(D=function(te){let me;return me="object"==typeof te?te.value:te,gi(me)?null:me}(t.limit));let V=null;var te;t.startAt&&(V=new Fa((te=t.startAt).values||[],!!te.before));let W=null;return t.endAt&&(W=function(te){return new Fa(te.values||[],!te.before)}(t.endAt)),yc(e,a,f,c,D,"F",V,W)}function Bf(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dl(e.unaryFilter.field);return se.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=dl(e.unaryFilter.field);return se.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dl(e.unaryFilter.field);return se.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=dl(e.unaryFilter.field);return se.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(r):void 0!==r.fieldFilter?se.create(dl((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return ye.create(e.compositeFilter.filters.map(t=>Bf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Vt()}}(e.compositeFilter.op))}(r):Vt();var e}function $f(r){return Iy[r]}function j_(r){return by[r]}function jf(r){return Cy[r]}function cl(r){return{fieldPath:r.canonicalString()}}function dl(r){return Zn.fromServerFormat(r.fieldPath)}function Hf(r){return r instanceof se?function(e){if("=="===e.op){if(Fl(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if(yu(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fl(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if(yu(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:j_(e.op),value:e.value}}}(r):r instanceof ye?function(e){const t=e.getFilters().map(s=>Hf(s));return 1===t.length?t[0]:{compositeFilter:{op:jf(e.op),filters:t}}}(r):Vt()}function Rg(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hl(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class ju{constructor(e,t,s,a,c=Cn.min(),f=Cn.min(),D=zi.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=V}withSequenceNumber(e){return new ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wh{constructor(e){this.fe=e}}function Og(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Pc(a=r.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Mc(a,c.version.toTimestamp()),createTime:Mc(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Eu(e.version)};else{if(!e.isUnknownDocument())return Vt();s.unknownDocument={path:t.path.toArray(),version:Eu(e.version)}}var a,c;return s}function Rc(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Eu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ta(r){const e=new Zr(r.seconds,r.nanoseconds);return Cn.fromTimestamp(e)}function fl(r,e){const t=(e.baseMutations||[]).map(c=>_h(r.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>_h(r.fe,c)),a=Zr.fromMillis(e.localWriteTimeMs);return new Pf(e.batchId,a,t,s)}function zl(r){const e=Ta(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Ta(r.lastLimboFreeSnapshotVersion):Cn.min();let s;var a;return void 0!==r.query.documents?(un(1===(a=r.query).documents.length),s=b(Vu(Tg(a.documents[0])))):s=b(Mg(r.query)),new ju(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,zi.fromBase64String(r.resumeToken))}function Ng(r,e){const t=Eu(e.snapshotVersion),s=Eu(e.lastLimboFreeSnapshotVersion);let a;a=al(e.target)?Uf(r.fe,e.target):xg(r.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:da(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function zf(r){const e=Mg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?re(e,e.limit,"L"):e}function Ih(r,e){return new wg(e.largestBatchId,_h(r.fe,e.overlayMutation))}function Gl(r,e){const t=e.path.lastSegment();return[r,Hi(e.path.popLast()),t]}function kg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Eu(s.readTime),documentKey:Hi(s.documentKey.path),largestBatchId:s.largestBatchId}}class Sy{getBundleMetadata(e,t){return Fg(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Ta(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Fg(e).put({bundleId:(s=t).id,createTime:Eu(Sr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return bh(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:zf(a.bundledQuery),readTime:Ta(a.readTime)};var a})}saveNamedQuery(e,t){return bh(e).put({name:(s=t).name,readTime:Eu(Sr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Fg(r){return Hr(r,"bundles")}function bh(r){return Hr(r,"namedQueries")}class Ch{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ch(e,t.uid||"")}getOverlay(e,t){return Oc(e).get(Gl(this.userId,t)).next(s=>s?Ih(this.serializer,s):null)}getOverlays(e,t){const s=ea();return ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,f)=>{const D=new wg(t,f);a.push(this.we(e,D))}),ze.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(Hi(f.getCollectionPath())));const c=[];return a.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Oc(e).J("collectionPathOverlayIndex",D))}),ze.waitFor(c)}getOverlaysForCollection(e,t,s){const a=ea(),c=Hi(t),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Oc(e).j("collectionPathOverlayIndex",f).next(D=>{for(const V of D){const W=Ih(this.serializer,V);a.set(W.getKey(),W)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=ea();let f;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Oc(e).X({index:"collectionGroupOverlayIndex",range:D},(V,W,te)=>{const me=Ih(this.serializer,W);c.size()<a||me.largestBatchId===f?(c.set(me.getKey(),me),f=me.largestBatchId):te.done()}).next(()=>c)}we(e,t){return Oc(e).put(function(s,a,c){const[f,D,V]=Gl(a,c.mutation.key);return{userId:a,collectionPath:D,documentId:V,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Hl(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Oc(r){return Hr(r,"documentOverlays")}class Wl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(oi(e.integerValue));else if("doubleValue"in e){const s=oi(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Ys(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(la(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Xo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Vt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),zt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Lg(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Ay(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Lg(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}Wl.Ve=new Wl;class xy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Ay(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Ay(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class gd{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class My{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Iu{constructor(){this.je=new xy,this.ze=new gd(this.je),this.We=new My(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class nu{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new nu(this.indexId,this.documentKey,this.arrayValue,s)}}function pl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Gf(r.arrayValue,e.arrayValue),0!==t?t:(t=Gf(r.directionalValue,e.directionalValue),0!==t?t:zt.comparator(r.documentKey,e.documentKey)))}function Gf(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Py{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){un(e.collectionGroup===this.collectionId);const t=ya(e);if(void 0!==t&&!this.en(t))return!1;const s=qs(e);let a=0,c=0;for(;a<s.length&&this.en(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Ze){const f=s[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[c++],f))return!1;++a}for(;a<s.length;++a)if(c>=this.Ye.length||!this.sn(this.Ye[c++],s[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Vg(r){var e,t;if(un(r instanceof se||r instanceof ye),r instanceof se){if(r instanceof Ao){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>se.create(r.field,"==",c)))||[];return ye.create(a,"or")}return r}const s=r.filters.map(a=>Vg(a));return ye.create(s,r.op)}function Ry(r){if(0===r.getFilters().length)return[];const e=md(Vg(r));return un(Sh(e)),Dh(e)||Th(e)?[e]:e.getFilters()}function Dh(r){return r instanceof se}function Th(r){return r instanceof ye&&Qt(r)}function Sh(r){return Dh(r)||Th(r)||function(e){if(e instanceof ye&&it(e)){for(const t of e.getFilters())if(!Dh(t)&&!Th(t))return!1;return!0}return!1}(r)}function md(r){if(un(r instanceof se||r instanceof ye),r instanceof se)return r;if(1===r.filters.length)return md(r.filters[0]);const e=r.filters.map(s=>md(s));let t=ye.create(e,r.op);return t=gl(t),Sh(t)?t:(un(t instanceof ye),un(Se(t)),un(t.filters.length>1),t.filters.reduce((s,a)=>Wf(s,a)))}function Wf(r,e){let t;return un(r instanceof se||r instanceof ye),un(e instanceof se||e instanceof ye),t=r instanceof se?e instanceof se?ye.create([r,e],"and"):Ah(r,e):e instanceof se?Ah(e,r):function(s,a){if(un(s.filters.length>0&&a.filters.length>0),Se(s)&&Se(a))return qn(s,a.getFilters());const c=it(s)?s:a,f=it(s)?a:s,D=c.filters.map(V=>Wf(V,f));return ye.create(D,"or")}(r,e),gl(t)}function Ah(r,e){if(Se(e))return qn(e,r.getFilters());{const t=e.filters.map(s=>Wf(r,s));return ye.create(t,"or")}}function gl(r){if(un(r instanceof se||r instanceof ye),r instanceof se)return r;const e=r.getFilters();if(1===e.length)return gl(e[0]);if(Gt(r))return r;const t=e.map(a=>gl(a)),s=[];return t.forEach(a=>{a instanceof se?s.push(a):a instanceof ye&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:ye.create(s,r.op)}class Oy{constructor(){this.rn=new qf}addToCollectionParentIndex(e,t){return this.rn.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getIndexType(e,t){return ze.resolve(0)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,t){return ze.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return ze.resolve(es.min())}updateCollectionGroup(e,t,s){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class qf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Jr(Rn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Jr(Rn.comparator)).toArray()}}const xh=new Uint8Array(0);class Ny{constructor(e,t){this.user=e,this.databaseId=t,this.on=new qf,this.un=new eo(s=>da(s),(s,a)=>vu(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:Hi(a)};return Ug(e).put(c)}return ze.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ba(t),""],!1,!0);return Ug(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;s.push(Qs(f.parent))}return s})}addFieldIndex(e,t){const s=Mh(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var f;delete a.indexId;const c=s.add(a);if(t.indexState){const f=bu(e);return c.next(D=>{f.put(kg(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Mh(e),a=bu(e),c=yd(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=yd(e);let a=!0;const c=new Map;return ze.forEach(this.cn(t),f=>this.an(e,f).next(D=>{a&&(a=!!D),c.set(f,D)})).next(()=>{if(a){let f=tr();const D=[];return ze.forEach(c,(V,W)=>{var te;Je("IndexedDbIndexManager",`Using index ${te=V,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(Mr=>`${Mr.fieldPath}:${Mr.kind}`).join(",")}`} to execute ${da(t)}`);const me=function(Mr,io){const Rs=ya(io);if(void 0===Rs)return null;for(const Wi of Ja(Mr,Rs.fieldPath))switch(Wi.op){case"array-contains-any":return Wi.value.arrayValue.values||[];case"array-contains":return[Wi.value]}return null}(W,V),He=function(Mr,io){const Rs=new Map;for(const Wi of qs(io))for(const pa of Ja(Mr,Wi.fieldPath))switch(pa.op){case"==":case"in":Rs.set(Wi.fieldPath.canonicalString(),pa.value);break;case"not-in":case"!=":return Rs.set(Wi.fieldPath.canonicalString(),pa.value),Array.from(Rs.values())}return null}(W,V),dt=function(Mr,io){const Rs=[];let Wi=!0;for(const pa of qs(io)){const uc=0===pa.kind?mc(Mr,pa.fieldPath,Mr.startAt):cd(Mr,pa.fieldPath,Mr.startAt);Rs.push(uc.value),Wi&&(Wi=uc.inclusive)}return new Fa(Rs,Wi)}(W,V),Ft=function(Mr,io){const Rs=[];let Wi=!0;for(const pa of qs(io)){const uc=0===pa.kind?cd(Mr,pa.fieldPath,Mr.endAt):mc(Mr,pa.fieldPath,Mr.endAt);Rs.push(uc.value),Wi&&(Wi=uc.inclusive)}return new Fa(Rs,Wi)}(W,V),cn=this.hn(V,W,dt),mn=this.hn(V,W,Ft),mr=this.ln(V,W,He),Gr=this.fn(V.indexId,me,cn,dt.inclusive,mn,Ft.inclusive,mr);return ze.forEach(Gr,Mr=>s.H(Mr,t.limit).next(io=>{io.forEach(Rs=>{const Wi=zt.fromSegments(Rs.documentKey);f.has(Wi)||(f=f.add(Wi),D.push(Wi))})}))}).next(()=>D)}return ze.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Ry(ye.create(e.filters,"and")).map(s=>gc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,f,D){const V=(null!=t?t.length:1)*Math.max(s.length,c.length),W=V/(null!=t?t.length:1),te=[];for(let me=0;me<V;++me){const He=t?this.dn(t[me/W]):xh,dt=this.wn(e,He,s[me%W],a),Ft=this._n(e,He,c[me%W],f),cn=D.map(mn=>this.wn(e,He,mn,!0));te.push(...this.createRange(dt,Ft,cn))}return te}wn(e,t,s,a){const c=new nu(e,zt.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new nu(e,zt.empty(),t,s);return a?c.Je():c}an(e,t){const s=new Py(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const D of c)s.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,t){let s=2;const a=this.cn(t);return ze.forEach(a,c=>this.an(e,c).next(f=>{f?0!==s&&f.fields.length<function(D){let V=new Jr(Zn.comparator),W=!1;for(const te of D.filters)for(const me of te.getFlattenedFilters())me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?W=!0:V=V.add(me.field));for(const te of D.orderBy)te.field.isKeyField()||(V=V.add(te.field));return V.size+(W?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Iu;for(const a of qs(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=s.He(a.kind);Wl.Ve._e(c,f)}return s.Qe()}dn(e){const t=new Iu;return Wl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Iu;return Wl.Ve._e(Fu(this.databaseId,t),s.He(function(a){const c=qs(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Iu);let c=0;for(const f of qs(e)){const D=s[c++];for(const V of a)if(this.yn(t,f.fieldPath)&&Lu(D))a=this.pn(a,f,D);else{const W=V.He(f.kind);Wl.Ve._e(D,W)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const f of s.arrayValue.values||[])for(const D of a){const V=new Iu;V.seed(D.Qe()),Wl.Ve._e(f,V.He(t.kind)),c.push(V)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof se&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Mh(e),a=bu(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const f=[];return ze.forEach(c,D=>a.get([D.indexId,this.uid]).next(V=>{f.push(function(W,te){const me=te?new _a(te.sequenceNumber,new es(Ta(te.readTime),new zt(Qs(te.documentKey)),te.largestBatchId)):_a.empty(),He=W.fields.map(([dt,Ft])=>new $a(Zn.fromServerFormat(dt),Ft));return new Uo(W.indexId,W.collectionGroup,He,me)}(D,V))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Nn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Mh(e),c=bu(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>ze.forEach(D,V=>c.put(kg(V.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return ze.forEach(t,(a,c)=>{const f=s.get(a.collectionGroup);return(f?ze.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),ze.forEach(D,V=>this.En(e,a,V).next(W=>{const te=this.An(c,V);return W.isEqual(te)?ze.resolve():this.vn(e,c,V,W,te)}))))})}Rn(e,t,s,a){return yd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return yd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=yd(e);let c=new Jr(pl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(f,D)=>{c=c.add(new nu(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>c)}An(e,t){let s=new Jr(pl);const a=this.mn(t,e);if(null==a)return s;const c=ya(t);if(null!=c){const f=e.data.field(c.fieldPath);if(Lu(f))for(const D of f.arrayValue.values||[])s=s.add(new nu(t.indexId,e.key,this.dn(D),a))}else s=s.add(new nu(t.indexId,e.key,xh,a));return s}vn(e,t,s,a,c){Je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(D,V,W,te,me){const He=D.getIterator(),dt=V.getIterator();let Ft=pu(He),cn=pu(dt);for(;Ft||cn;){let mn=!1,mr=!1;if(Ft&&cn){const Gr=W(Ft,cn);Gr<0?mr=!0:Gr>0&&(mn=!0)}else null!=Ft?mr=!0:mn=!0;mn?(te(cn),cn=pu(dt)):mr?(me(Ft),Ft=pu(He)):(Ft=pu(He),cn=pu(dt))}}(a,c,pl,D=>{f.push(this.Rn(e,t,s,D))},D=>{f.push(this.Pn(e,t,s,D))}),ze.waitFor(f)}Tn(e){let t=1;return bu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,D)=>pl(f,D)).filter((f,D,V)=>!D||0!==pl(f,V[D-1]));const a=[];a.push(e);for(const f of s){const D=pl(f,e),V=pl(f,t);if(0===D)a[0]=e.Je();else if(D>0&&V<0)a.push(f),a.push(f.Je());else if(V>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,xh,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,xh,[]]))}return c}bn(e,t){return pl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cu)}getMinOffset(e,t){return ze.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||Vt())).next(Cu)}}function Ug(r){return Hr(r,"collectionParents")}function yd(r){return Hr(r,"indexEntries")}function Mh(r){return Hr(r,"indexConfiguration")}function bu(r){return Hr(r,"indexState")}function Cu(r){un(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;Ks(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new es(e.readTime,e.documentKey,t)}const Bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Wo(e,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ky(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let D=0;const V=s.X({range:f},(te,me,He)=>(D++,He.delete()));c.push(V.next(()=>{un(1===D)}));const W=[];for(const te of t.mutations){const me=du(e,te.key.path,t.batchId);c.push(a.delete(me)),W.push(te.key)}return ze.waitFor(c).next(()=>W)}function Kf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Vt();e=r.noDocument}return JSON.stringify(e).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class vd{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){un(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new vd(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).X({index:"userMutationsIndex",range:s},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=ql(e),f=Hu(e);return f.add({}).next(D=>{un("number"==typeof D);const V=new Pf(D,t,s,a),W=function(He,dt,Ft){const cn=Ft.baseMutations.map(mr=>Hl(He.fe,mr)),mn=Ft.mutations.map(mr=>Hl(He.fe,mr));return{userId:dt,batchId:Ft.batchId,localWriteTimeMs:Ft.localWriteTime.toMillis(),baseMutations:cn,mutations:mn}}(this.serializer,this.userId,V),te=[];let me=new Jr((He,dt)=>Nn(He.canonicalString(),dt.canonicalString()));for(const He of a){const dt=du(this.userId,He.key.path,D);me=me.add(He.key.path.popLast()),te.push(f.put(W)),te.push(c.put(dt,hu))}return me.forEach(He=>{te.push(this.indexManager.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.Vn[D]=V.keys()}),ze.waitFor(te).next(()=>V)})}lookupMutationBatch(e,t){return Hu(e).get(t).next(s=>s?(un(s.userId===this.userId),fl(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?ze.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Hu(e).X({index:"userMutationsIndex",range:a},(f,D,V)=>{D.userId===this.userId&&(un(D.batchId>=s),c=fl(this.serializer,D)),V.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Hu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).j("userMutationsIndex",t).next(s=>s.map(a=>fl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=jo(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return ql(e).X({range:a},(f,D,V)=>{const[W,te,me]=f,He=Qs(te);if(W===this.userId&&t.path.isEqual(He))return Hu(e).get(me).next(dt=>{if(!dt)throw Vt();un(dt.userId===this.userId),c.push(fl(this.serializer,dt))});V.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Jr(Nn);const a=[];return t.forEach(c=>{const f=jo(this.userId,c.path),D=IDBKeyRange.lowerBound(f),V=ql(e).X({range:D},(W,te,me)=>{const[He,dt,Ft]=W,cn=Qs(dt);He===this.userId&&c.path.isEqual(cn)?s=s.add(Ft):me.done()});a.push(V)}),ze.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=jo(this.userId,s),f=IDBKeyRange.lowerBound(c);let D=new Jr(Nn);return ql(e).X({range:f},(V,W,te)=>{const[me,He,dt]=V,Ft=Qs(He);me===this.userId&&s.isPrefixOf(Ft)?Ft.length===a&&(D=D.add(dt)):te.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Hu(e).get(c).next(f=>{if(null===f)throw Vt();un(f.userId===this.userId),s.push(fl(this.serializer,f))}))}),ze.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return ky(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ze.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return ql(e).X({range:s},(c,f,D)=>{if(c[0]===this.userId){const V=Qs(c[1]);a.push(V)}else D.done()}).next(()=>{un(0===a.length)})})}containsKey(e,t){return Fy(e,this.userId,t)}xn(e){return $g(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fy(r,e,t){const s=jo(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return ql(r).X({range:c,Y:!0},(D,V,W)=>{const[te,me,He]=D;te===e&&me===a&&(f=!0),W.done()}).next(()=>f)}function Hu(r){return Hr(r,"mutations")}function ql(r){return Hr(r,"documentMutations")}function $g(r){return Hr(r,"mutationQueues")}class ml{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ml(0)}static Mn(){return new ml(-1)}}class Ly{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new ml(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Cn.fromTimestamp(new Zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nc(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(un(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Nc(e).X((f,D)=>{const V=zl(D);V.sequenceNumber<=t&&null===s.get(V.targetId)&&(a++,c.push(this.removeTargetData(e,V)))}).next(()=>ze.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Nc(e).X((s,a)=>{const c=zl(a);t(c)})}$n(e){return La(e).get("targetGlobalKey").next(t=>(un(null!==t),t))}On(e,t){return La(e).put("targetGlobalKey",t)}Fn(e,t){return Nc(e).put(Ng(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=da(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Nc(e).X({range:a,index:"queryTargetsIndex"},(f,D,V)=>{const W=zl(D);vu(t,W.target)&&(c=W,V.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=yl(e);return t.forEach(f=>{const D=Hi(f.path);a.push(c.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,f))}),ze.waitFor(a)}removeMatchingKeys(e,t,s){const a=yl(e);return ze.forEach(t,c=>{const f=Hi(c.path);return ze.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=yl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=yl(e);let c=tr();return a.X({range:s,Y:!0},(f,D,V)=>{const W=Qs(f[1]),te=new zt(W);c=c.add(te)}).next(()=>c)}containsKey(e,t){const s=Hi(t.path),a=IDBKeyRange.bound([s],[Ba(s)],!1,!0);let c=0;return yl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,D],V,W)=>{0!==f&&(c++,W.done())}).next(()=>c>0)}le(e,t){return Nc(e).get(t).next(s=>s?zl(s):null)}}function Nc(r){return Hr(r,"targets")}function La(r){return Hr(r,"targetGlobal")}function yl(r){return Hr(r,"targetDocuments")}function Zf([r,e],[t,s]){const a=Nn(r,t);return 0===a?Nn(e,s):a}class Vy{constructor(e){this.Ln=e,this.buffer=new Jr(Zf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Zf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Bo(s)?Je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield as(s)}yield t.Qn(3e5)}))}}class Uy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return ze.resolve(Zs.ct);const s=new Vy(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(Bg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,f,D,V,W;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(me=>(me>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${me}`),a=this.params.maximumSequenceNumbersToCollect):a=me,f=Date.now(),this.nthSequenceNumber(e,a))).next(me=>(s=me,D=Date.now(),this.removeTargets(e,s,t))).next(me=>(c=me,V=Date.now(),this.removeOrphanedDocuments(e,s))).next(me=>(W=Date.now(),Be()<=_e.in.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-te}ms\n\tDetermined least recently used ${a} in `+(D-f)+`ms\n\tRemoved ${c} targets in `+(V-D)+`ms\n\tRemoved ${me} documents in `+(W-V)+`ms\nTotal Duration: ${W-te}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:me})))}}class zg{constructor(e,t){this.db=e,this.garbageCollector=function Hg(r,e){return new Uy(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Ph(e,s)}removeReference(e,t,s){return Ph(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Ph(e,t)}Xn(e,t){return function(s,a){let c=!1;return $g(s).Z(f=>Fy(s,f,a).next(D=>(D&&(c=!0),ze.resolve(!D)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(f,D)=>{if(D<=t){const V=this.Xn(e,f).next(W=>{if(!W)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,Cn.min()),yl(e).delete([0,Hi(f.path)])))});a.push(V)}}).next(()=>ze.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Ph(e,t)}Yn(e,t){const s=yl(e);let a,c=Zs.ct;return s.X({index:"documentTargetsIndex"},([f,D],{path:V,sequenceNumber:W})=>{0===f?(c!==Zs.ct&&t(new zt(Qs(a)),c),c=W,a=V):c=Zs.ct}).next(()=>{c!==Zs.ct&&t(new zt(Qs(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ph(r,e){return yl(r).put((s=r.currentSequenceNumber,{targetId:0,path:Hi(e.path),sequenceNumber:s}));var s}class Gg{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?ze.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class By{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return vl(e).put(s)}removeEntry(e,t,s){return vl(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Rc(c),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=ci.newInvalidDocument(t);return vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_d(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:ci.newInvalidDocument(t)};return vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_d(t))},(a,c)=>{s={document:this.ts(t,c),size:Kf(c)}}).next(()=>s)}getEntries(e,t){let s=Go();return this.ns(e,t,(a,c)=>{const f=this.ts(a,c);s=s.insert(a,f)}).next(()=>s)}ss(e,t){let s=Go(),a=new qr(zt.comparator);return this.ns(e,t,(c,f)=>{const D=this.ts(c,f);s=s.insert(c,D),a=a.insert(c,Kf(f))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return ze.resolve();let a=new Jr(Qf);t.forEach(V=>a=a.add(V));const c=IDBKeyRange.bound(_d(a.first()),_d(a.last())),f=a.getIterator();let D=f.getNext();return vl(e).X({index:"documentKeyIndex",range:c},(V,W,te)=>{const me=zt.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;D&&Qf(D,me)<0;)s(D,null),D=f.getNext();D&&D.isEqual(me)&&(s(D,W),D=f.hasNext()?f.getNext():null),D?te.G(_d(D)):te.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),Rc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vl(e).j(IDBKeyRange.bound(f,D,!0)).next(V=>{let W=Go();for(const te of V){const me=this.ts(zt.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);me.isFoundDocument()&&(nn(t,me)||a.has(me.key))&&(W=W.insert(me.key,me))}return W})}getAllFromCollectionGroup(e,t,s,a){let c=Go();const f=qg(t,s),D=qg(t,es.max());return vl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(V,W,te)=>{const me=this.ts(zt.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);c=c.insert(me.key,me),c.size===a&&te.done()}).next(()=>c)}newChangeBuffer(e){return new Wg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yf(e).get("remoteDocumentGlobalKey").next(t=>(un(!!t),t))}Zn(e,t){return Yf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Eh(r,e){let t;if(e.document)t=Ty(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=zt.fromSegments(e.noDocument.path),a=Ta(e.noDocument.readTime);t=ci.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vt();{const s=zt.fromSegments(e.unknownDocument.path),a=Ta(e.unknownDocument.version);t=ci.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Zr(s[0],s[1]);return Cn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Cn.min()))return s}return ci.newInvalidDocument(e)}}function dr(r){return new By(r)}class Wg extends Gg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new eo(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Jr((c,f)=>Nn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const D=this.us.get(c);if(t.push(this.os.removeEntry(e,c,D.readTime)),f.isValidDocument()){const V=Og(this.os.serializer,f);a=a.add(c.path.popLast());const W=Kf(V);s+=W-D.size,t.push(this.os.addEntry(e,c,V))}else if(s-=D.size,this.trackRemovals){const V=Og(this.os.serializer,f.convertToNoDocument(Cn.min()));t.push(this.os.addEntry(e,c,V))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),ze.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,f)=>{this.us.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function Yf(r){return Hr(r,"remoteDocumentGlobal")}function vl(r){return Hr(r,"remoteDocumentsV14")}function _d(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qg(r,e){const t=e.documentKey.path.toArray();return[r,Rc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Qf(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Nn(t[c],s[c]),a)return a;return a=Nn(t.length,s.length),a||(a=Nn(t[t.length-2],s[s.length-2]),a||Nn(t[t.length-1],s[s.length-1]))}class $y{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jf{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Dc(s.mutation,a,Xs.empty(),Zr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,tr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=tr()){const a=ea();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=ul();return c.forEach((D,V)=>{f=f.insert(D,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ea();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,tr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,D)=>{t.set(f,D)})})}computeViews(e,t,s,a){let c=Go();const f=_u(),D=_u();return t.forEach((V,W)=>{const te=s.get(W.key);a.has(W.key)&&(void 0===te||te.mutation instanceof Bu)?c=c.insert(W.key,W):void 0!==te?(f.set(W.key,te.mutation.getFieldMask()),Dc(te.mutation,W,te.mutation.getFieldMask(),Zr.now())):f.set(W.key,Xs.empty())}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((W,te)=>f.set(W,te)),t.forEach((W,te)=>{var me;return D.set(W,new $y(te,null!==(me=f.get(W))&&void 0!==me?me:null))}),D))}recalculateAndSaveOverlays(e,t){const s=_u();let a=new qr((f,D)=>f-D),c=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const D of f)D.keys().forEach(V=>{const W=t.get(V);if(null===W)return;let te=s.get(V)||Xs.empty();te=D.applyToLocalView(W,te),s.set(V,te);const me=(a.get(D.batchId)||tr()).add(V);a=a.insert(D.batchId,me)})}).next(()=>{const f=[],D=a.getReverseIterator();for(;D.hasNext();){const V=D.getNext(),W=V.key,te=V.value,me=wc();te.forEach(He=>{if(!c.has(He)){const dt=ch(t.get(He),s.get(He));null!==dt&&me.set(He,dt),c=c.add(He)}}),f.push(this.documentOverlayCache.saveOverlays(e,W,me))}return ze.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return zt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):d(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):ze.resolve(ea());let D=-1,V=c;return f.next(W=>ze.forEach(W,(te,me)=>(D<me.largestBatchId&&(D=me.largestBatchId),c.get(te)?ze.resolve():this.remoteDocumentCache.getEntry(e,te).next(He=>{V=V.insert(te,He)}))).next(()=>this.populateOverlays(e,W,c)).next(()=>this.computeViews(e,V,W,tr())).next(te=>({batchId:D,changes:_c(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zt(t)).next(s=>{let a=ul();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=ul();return this.indexManager.getCollectionParents(e,a).next(f=>ze.forEach(f,D=>{const V=(W=t,te=D.child(a),new Xa(te,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,te;return this.getDocumentsMatchingCollectionQuery(e,V,s).next(W=>{W.forEach((te,me)=>{c=c.insert(te,me)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((D,V)=>{const W=V.getKey();null===c.get(W)&&(c=c.insert(W,ci.newInvalidDocument(W)))});let f=ul();return c.forEach((D,V)=>{const W=a.get(D);void 0!==W&&Dc(W.mutation,V,Xs.empty(),Zr.now()),nn(t,V)&&(f=f.insert(D,V))}),f})}}class jy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ze.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Sr(s.createTime)}),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:zf(s.bundledQuery),readTime:Sr(s.readTime)}),ze.resolve();var s}}class Hy{constructor(){this.overlays=new qr(zt.comparator),this.ls=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ea();return ze.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),ze.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),ze.resolve()}getOverlaysForCollection(e,t,s){const a=ea(),c=t.length+1,f=new zt(t.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const V=D.getNext().value,W=V.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===c&&V.largestBatchId>s&&a.set(V.getKey(),V)}return ze.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new qr((W,te)=>W-te);const f=this.overlays.getIterator();for(;f.hasNext();){const W=f.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>s){let te=c.get(W.largestBatchId);null===te&&(te=ea(),c=c.insert(W.largestBatchId,te)),te.set(W.getKey(),W)}}const D=ea(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((W,te)=>D.set(W,te)),!(D.size()>=a)););return ze.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wg(t,s));let c=this.ls.get(t);void 0===c&&(c=tr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class Kg{constructor(){this.fs=new Jr(no.ds),this.ws=new Jr(no._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new no(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new no(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new zt(new Rn([])),s=new no(t,e),a=new no(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new zt(new Rn([])),s=new no(t,e),a=new no(t,e+1);let c=tr();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new no(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class no{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return zt.comparator(e.key,t.key)||Nn(e.As,t.As)}static _s(e,t){return Nn(e.As,t.As)||zt.comparator(e.key,t.key)}}class Zg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Jr(no.ds)}checkEmpty(e){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new Pf(c,t,s,a);this.mutationQueue.push(f);for(const D of a)this.Rs=this.Rs.add(new no(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ze.resolve(f)}lookupMutationBatch(e,t){return ze.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return ze.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new no(t,0),a=new no(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const D=this.Ps(f.As);c.push(D)}),ze.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Jr(Nn);return t.forEach(a=>{const c=new no(a,0),f=new no(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],D=>{s=s.add(D.As)})}),ze.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;zt.isDocumentKey(c)||(c=c.child(""));const f=new no(new zt(c),0);let D=new Jr(Nn);return this.Rs.forEachWhile(V=>{const W=V.key.path;return!!s.isPrefixOf(W)&&(W.length===a&&(D=D.add(V.As)),!0)},f),ze.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){un(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return ze.forEach(t.mutations,a=>{const c=new no(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new no(t,0),a=this.Rs.firstAfterOrEqual(s);return ze.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return ze.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kl{constructor(e){this.Ds=e,this.docs=new qr(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ze.resolve(s?s.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let s=Go();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():ci.newInvalidDocument(a))}),ze.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Go();const f=t.path,D=new zt(f.child("")),V=this.docs.getIteratorFrom(D);for(;V.hasNext();){const{key:W,value:{document:te}}=V.getNext();if(!f.isPrefixOf(W.path))break;W.path.length>f.length+1||Ks(os(te),s)<=0||(a.has(te.key)||nn(t,te))&&(c=c.insert(te.key,te.mutableCopy()))}return ze.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Vt()}Cs(e,t){return ze.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new zy(this)}getSize(e){return ze.resolve(this.size)}}class zy extends Gg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),ze.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xf{constructor(e){this.persistence=e,this.xs=new eo(t=>da(t),vu),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Kg,this.targetCount=0,this.Ms=ml.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),ze.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.Fn(t),ze.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),ze.waitFor(c).next(()=>a)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return ze.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),ze.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),ze.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return ze.resolve(s)}containsKey(e,t){return ze.resolve(this.ks.containsKey(t))}}class wd{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xf(this),this.indexManager=new Oy,this.remoteDocumentCache=new Kl(s=>this.referenceDelegate.Ls(s)),this.serializer=new wh(t),this.qs=new jy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Zg(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Je("MemoryPersistence","Starting transaction:",e);const a=new Gy(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return ze.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Gy extends Ha{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Qs=new Kg,this.js=null}static zs(e){return new ep(e)}get Ws(){if(this.js)return this.js;throw Vt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),ze.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Ws,s=>{const a=zt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Cn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ze.or([()=>ze.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class H_{constructor(e){this.serializer=e}O(e,t,s,a){const c=new Pu("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ia,{unique:!0}),D.createObjectStore("documentMutations"),Yg(e),function(D){D.createObjectStore("remoteDocuments")}(e));let f=ze.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),Yg(e)),f=f.next(()=>function(D){const V=D.store("targetGlobal"),W={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cn.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",W)}(c))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(D,V){return V.store("mutations").j().next(W=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ia,{unique:!0});const te=V.store("mutations"),me=W.map(He=>te.put(He));return ze.waitFor(me)})}(e,c))),f=f.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ys(c))),s<6&&a>=6&&(f=f.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(f=f.next(()=>this.Zs(c))),s<8&&a>=8&&(f=f.next(()=>this.ti(e,c))),s<9&&a>=9&&(f=f.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ei(c))),s<11&&a>=11&&(f=f.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(D){const V=D.createObjectStore("documentOverlays",{keyPath:Ne});V.createIndex("collectionPathOverlayIndex",ft,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",$t,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(D){const V=D.createObjectStore("remoteDocumentsV14",{keyPath:Ga});V.createIndex("documentKeyIndex",fu),V.createIndex("collectionGroupIndex",Js)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.si(e,c))),s<15&&a>=15&&(f=f.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:S}).createIndex("sequenceNumberIndex",U,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Y}).createIndex("documentKeyIndex",ne,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Kf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>ze.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(D=>ze.forEach(D,V=>{un(V.userId===c.userId);const W=fl(this.serializer,V);return ky(e,c.userId,W).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((f,D)=>{const V=new Rn(f),W=[0,Hi(V)];c.push(t.get(W).next(te=>te?ze.resolve():t.put({targetId:0,path:Hi(V),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>ze.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:m});const s=t.store("collectionParents"),a=new qf,c=f=>{if(a.add(f)){const D=f.lastSegment(),V=f.popLast();return s.put({collectionId:D,parent:Hi(V)})}};return t.store("remoteDocuments").X({Y:!0},(f,D)=>{const V=new Rn(f);return c(V.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,D,V],W)=>{const te=Qs(D);return c(te.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=zl(a),f=Ng(this.serializer,c);return t.put(f)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,f)=>{const D=t.store("remoteDocumentsV14"),V=(W=f,W.document?new zt(Rn.fromString(W.document.name).popFirst(5)):W.noDocument?zt.fromSegments(W.noDocument.path):W.unknownDocument?zt.fromSegments(W.unknownDocument.path):Vt()).path.toArray();var W;const te={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(D.put(te))}).next(()=>ze.waitFor(a))}si(e,t){const s=t.store("mutations"),a=dr(this.serializer),c=new wd(ep.zs,this.serializer.fe);return s.j().next(f=>{const D=new Map;return f.forEach(V=>{var W;let te=null!==(W=D.get(V.userId))&&void 0!==W?W:tr();fl(this.serializer,V).keys().forEach(me=>te=te.add(me)),D.set(V.userId,te)}),ze.forEach(D,(V,W)=>{const te=new C(W),me=Ch.de(this.serializer,te),He=c.getIndexManager(te),dt=vd.de(te,this.serializer,He,c.referenceDelegate);return new Jf(a,dt,me,He).recalculateAndSaveOverlaysForDocumentKeys(new Co(t,Zs.ct),V).next()})})}}function Yg(r){r.createObjectStore("targetDocuments",{keyPath:v}).createIndex("documentTargetsIndex",_,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oa,{unique:!0}),r.createObjectStore("targetGlobal")}const Rh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qg{constructor(e,t,s,a,c,f,D,V,W,te,me=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=f,this.document=D,this.ri=W,this.oi=te,this.ui=me,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=He=>Promise.resolve(),!Qg.D())throw new gt($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zg(this,a),this.di=t+"main",this.serializer=new wh(V),this.wi=new gr(this.di,this.ui,new H_(this.serializer)),this.Bs=new Ly(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dr(this.serializer),this.qs=new Sy,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===te&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt($e.FAILED_PRECONDITION,Rh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Zs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,p.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Bo(e))return Je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Ed(e).get("owner").next(t=>ze.resolve(this.Ri(t)))}Pi(e){return zu(e).delete(this.clientId)}bi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hr(s,"clientMetadata");return a.j().next(c=>{const f=e.Si(c,18e5),D=c.filter(V=>-1===f.indexOf(V));return ze.forEach(D,V=>a.delete(V.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ze.resolve(!0):Ed(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new gt($e.FAILED_PRECONDITION,Rh);return!1}}return!(!this.networkEnabled||!this.inForeground)||zu(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Co(t,Zs.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>zu(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return vd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ny(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ch.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Je("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.ui)?$s:14===f?Ho:13===f?si:12===f?Cr:11===f?Kt:void Vt();var f;let D;return this.wi.runTransaction(e,a,c,V=>(D=new Co(V,this.Os?this.Os.next():Zs.ct),"readwrite-primary"===t?this.Ti(D).next(W=>!!W||this.Ei(D)).next(W=>{if(!W)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new gt($e.FAILED_PRECONDITION,ja);return s(D)}).next(W=>this.vi(D).next(()=>W)):this.Oi(D).next(()=>s(D)))).then(V=>(D.raiseOnCommittedEvent(),V))}Oi(e){return Ed(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new gt($e.FAILED_PRECONDITION,Rh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ed(e).put("owner",t)}static D(){return gr.D()}Ai(e){const t=Ed(e);return t.get("owner").next(s=>this.Ri(s)?(Je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ze.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(gn(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ce.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Je("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return gn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ed(r){return Hr(r,"owner")}function zu(r){return Hr(r,"clientMetadata")}function np(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Oh{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=tr(),a=tr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Oh(e,t.fromCache,s,a)}}class Id{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(ih(t))return ze.resolve(null);let s=b(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=re(t,null,"F"),s=b(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=tr(...c);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(V=>{const W=this.ji(t,D);return this.zi(t,W,f,V.readTime)?this.Ki(e,re(t,null,"F")):this.Wi(e,W,t,V)}))})))}Gi(e,t,s,a){return ih(t)||a.isEqual(Cn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(Be()<=_e.in.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ut(t)),this.Wi(e,f,t,aa(a,-1)))})}ji(e,t){let s=new Jr(ir(e));return t.forEach((a,c)=>{nn(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Be()<=_e.in.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",Ut(t)),this.Ui.getDocumentsMatchingQuery(e,t,es.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Wy{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new qr(Nn),this.Yi=new eo(c=>da(c),vu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rp(r,e,t,s){return new Wy(r,e,t,s)}function Jg(r,e){return ip.apply(this,arguments)}function ip(){return ip=(0,p.Z)(function*(r,e){const t=Nt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],D=[];let V=tr();for(const W of a){f.push(W.batchId);for(const te of W.mutations)V=V.add(te.key)}for(const W of c){D.push(W.batchId);for(const te of W.mutations)V=V.add(te.key)}return t.localDocuments.getDocuments(s,V).next(W=>({er:W,removedBatchIds:f,addedBatchIds:D}))})})}),ip.apply(this,arguments)}function Xg(r){const e=Nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sp(r,e,t){let s=tr(),a=tr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Go();return t.forEach((D,V)=>{const W=c.get(D);V.isFoundDocument()!==W.isFoundDocument()&&(a=a.add(D)),V.isNoDocument()&&V.version.isEqual(Cn.min())?(e.removeEntry(D,V.readTime),f=f.insert(D,V)):!W.isValidDocument()||V.version.compareTo(W.version)>0||0===V.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(V),f=f.insert(D,V)):Je("LocalStore","Ignoring outdated watch update for ",D,". Current version:",W.version," Watch version:",V.version)}),{nr:f,sr:a}})}function Zy(r,e){const t=Nt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Zl(r,e){const t=Nt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,ze.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new ju(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Yl(r,e,t){return bd.apply(this,arguments)}function bd(){return bd=(0,p.Z)(function*(r,e,t){const s=Nt(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Bo(f))throw f;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),bd.apply(this,arguments)}function op(r,e,t){const s=Nt(r);let a=Cn.min(),c=tr();return s.persistence.runTransaction("Execute query","readonly",f=>function(D,V,W){const te=Nt(D),me=te.Yi.get(W);return void 0!==me?ze.resolve(te.Ji.get(me)):te.Bs.getTargetData(V,W)}(s,f,b(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,D.targetId).next(V=>{c=V})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:Cn.min(),t?c:tr())).next(D=>(Yy(s,Sn(e),D),{documents:D,ir:c})))}function Nh(r,e){const t=Nt(r),s=Nt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(f=>f?f.target:null))}function em(r,e){const t=Nt(r),s=t.Xi.get(e)||Cn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,aa(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Yy(t,e,a),a))}function Yy(r,e,t){let s=r.Xi.get(e)||Cn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}function kh(){return kh=(0,p.Z)(function*(r,e,t,s){const a=Nt(r);let c=tr(),f=Go();for(const W of t){const te=e.rr(W.metadata.name);W.document&&(c=c.add(te));const me=e.ur(W);me.setReadTime(e.cr(W.metadata.readTime)),f=f.insert(te,me)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),V=yield Zl(a,(W=s,b(Vu(Rn.fromString(`__bundle__/docs/${W}`)))));var W;return a.persistence.runTransaction("Apply bundle documents","readwrite",W=>sp(W,D,f).next(te=>(D.apply(W),te)).next(te=>a.Bs.removeMatchingKeysForTargetId(W,V.targetId).next(()=>a.Bs.addMatchingKeys(W,c,V.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(W,te.nr,te.sr)).next(()=>te.nr)))}),kh.apply(this,arguments)}function Qy(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,p.Z)(function*(r,e,t=tr()){const s=yield Zl(r,b(zf(e.bundledQuery))),a=Nt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Sr(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(c,e);const D=s.withResumeToken(zi.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(c,D).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),Fh.apply(this,arguments)}function tm(r,e){return`firestore_clients_${r}_${e}`}function nm(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Fc(r,e){return`firestore_targets_${r}_${e}`}class Gu{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new gt(a.error.code,a.error.message))),f?new Gu(e,t,a.state,c):(gn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ql{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new gt(s.error.code,s.error.message))),c?new Ql(e,s.state,a):(gn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _l{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Bl();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=za(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return a?new _l(e,c):(gn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cd(t.clientId,t.onlineState):(gn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Lc{constructor(){this.activeTargetIds=Bl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lh{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new qr(Nn),this.started=!1,this.yr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=tm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Lc),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(tm(e.persistenceKey,a));if(c){const f=_l.ar(a,c);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Fc(this.persistenceKey,e));if(s){const a=Ql.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fc(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Je("SharedClientState","READ",e,t),t}setItem(e,t){Je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Je("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let f=Zs.ct;if(null!=c)try{const D=JSON.parse(c);un("number"==typeof D),f=D}catch(D){gn("SharedClientState","Failed to read sequence number from WebStorage",D)}return f}(s.newValue);a!==Zs.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Gu(this.currentUser,e,t,s),c=nm(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=nm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Fc(this.persistenceKey,e),c=new Ql(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return _l.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Gu.ar(new C(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return Ql.ar(a,t)}br(e){return Cd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),f=[],D=[];return c.forEach(V=>{a.has(V)||f.push(V)}),a.forEach(V=>{c.has(V)||D.push(V)}),this.syncEngine.Wr(f,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Bl();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Vh{constructor(){this.Hr=new Lc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Lc,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ap{Yr(e){}shutdown(){}}class Uh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dd=null;function Td(){return null===Dd?Dd=268435456+Math.round(2147483648*Math.random()):Dd++,"0x"+Dd.toString(16)}const Jy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xy{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Mo="WebChannelConnection";class ev extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Td(),D=this.To(e,t);Je("RestConnection",`Sending RPC '${e}' ${f}:`,D,s);const V={};return this.Eo(V,a,c),this.Ao(e,D,V,s).then(W=>(Je("RestConnection",`Received RPC '${e}' ${f}: `,W),W),W=>{throw Hn("RestConnection",`RPC '${e}' ${f} failed with error: `,W,"url: ",D,"request:",s),W})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+q,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${Jy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Td();return new Promise((f,D)=>{const V=new Q;V.setWithCredentials(!0),V.listenOnce(ma.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case xs.NO_ERROR:const te=V.getResponseJson();Je(Mo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(te)),f(te);break;case xs.TIMEOUT:Je(Mo,`RPC '${e}' ${c} timed out`),D(new gt($e.DEADLINE_EXCEEDED,"Request time out"));break;case xs.HTTP_ERROR:const me=V.getStatus();if(Je(Mo,`RPC '${e}' ${c} failed with status:`,me,"response text:",V.getResponseText()),me>0){let He=V.getResponseJson();Array.isArray(He)&&(He=He[0]);const dt=He?.error;if(dt&&dt.status&&dt.message){const Ft=function(cn){const mn=cn.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(mn)>=0?mn:$e.UNKNOWN}(dt.status);D(new gt(Ft,dt.message))}else D(new gt($e.UNKNOWN,"Server responded with status "+V.getStatus()))}else D(new gt($e.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{Je(Mo,`RPC '${e}' ${c} completed.`)}});const W=JSON.stringify(a);Je(Mo,`RPC '${e}' ${c} sending request:`,a),V.send(t,"POST",W,s,15)})}Ro(e,t,s){const a=Td(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=xa(),D=Us(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(V.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(V.xmlHttpFactory=new G({})),this.Eo(V.initMessageHeaders,t,s),V.encodeInitMessageHeaders=!0;const te=c.join("");Je(Mo,`Creating RPC '${e}' stream ${a}: ${te}`,V);const me=f.createWebChannel(te,V);let He=!1,dt=!1;const Ft=new Xy({ro:mn=>{dt?Je(Mo,`Not sending because RPC '${e}' stream ${a} is closed:`,mn):(He||(Je(Mo,`Opening RPC '${e}' stream ${a} transport.`),me.open(),He=!0),Je(Mo,`RPC '${e}' stream ${a} sending:`,mn),me.send(mn))},oo:()=>me.close()}),cn=(mn,mr,Gr)=>{mn.listen(mr,Mr=>{try{Gr(Mr)}catch(io){setTimeout(()=>{throw io},0)}})};return cn(me,F.EventType.OPEN,()=>{dt||Je(Mo,`RPC '${e}' stream ${a} transport opened.`)}),cn(me,F.EventType.CLOSE,()=>{dt||(dt=!0,Je(Mo,`RPC '${e}' stream ${a} transport closed`),Ft.wo())}),cn(me,F.EventType.ERROR,mn=>{dt||(dt=!0,Hn(Mo,`RPC '${e}' stream ${a} transport errored:`,mn),Ft.wo(new gt($e.UNAVAILABLE,"The operation could not be completed")))}),cn(me,F.EventType.MESSAGE,mn=>{var mr;if(!dt){const Gr=mn.data[0];un(!!Gr);const io=Gr.error||(null===(mr=Gr[0])||void 0===mr?void 0:mr.error);if(io){Je(Mo,`RPC '${e}' stream ${a} received error:`,io);const Rs=io.status;let Wi=function(uc){const Cf=to[uc];if(void 0!==Cf)return Ig(Cf)}(Rs),pa=io.message;void 0===Wi&&(Wi=$e.INTERNAL,pa="Unknown error status: "+Rs+" with message "+io.message),dt=!0,Ft.wo(new gt(Wi,pa)),me.close()}else Je(Mo,`RPC '${e}' stream ${a} received:`,Gr),Ft._o(Gr)}}),cn(D,Ma.STAT_EVENT,mn=>{mn.stat===A.PROXY?Je(Mo,`RPC '${e}' stream ${a} detected buffering proxy`):mn.stat===A.NOPROXY&&Je(Mo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ft.fo()},0),Ft}}function up(){return typeof window<"u"?window:null}function Sd(){return typeof document<"u"?document:null}function Ad(r){return new Cg(r,!0)}class lp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ha{constructor(e,t,s,a,c,f,D,V){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new lp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,p.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,p.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,p.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===$e.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new gt($e.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,p.Z)(function*(){e.state=0,e.start()}))}tu(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tv extends ha{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function pd(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Vt(),a=e.targetChange.targetIds||[],c=function(V,W){return V.useProto3Json?(un(void 0===W||"string"==typeof W),zi.fromBase64String(W||"")):(un(void 0===W||W instanceof Uint8Array),zi.fromUint8Array(W||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(V){const W=void 0===V.code?$e.UNKNOWN:Ig(V.code);return new gt(W,V.message||"")}(f);t=new yh(s,a,c,D||null)}else if("documentChange"in e){const s=e.documentChange,a=tu(r,s.document.name),c=Sr(s.document.updateTime),f=s.document.createTime?Sr(s.document.createTime):Cn.min(),D=new gs({mapValue:{fields:s.document.fields}}),V=ci.newFoundDocument(a,c,f,D);t=new Nf(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,a=tu(r,s.document),c=s.readTime?Sr(s.readTime):Cn.min(),f=ci.newNoDocument(a,c);t=new Nf([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=tu(r,s.document);t=new Nf([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Vt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new U_(a,c);t=new mh(s.targetId,f)}}var V;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Cn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Cn.min():c.readTime?Sr(c.readTime):Cn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=fd(this.serializer),t.addTarget=function(a,c){let f;const D=c.target;if(f=al(D)?{documents:Uf(a,D)}:{query:xg(a,D)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=vh(a,c.resumeToken);const V=xc(a,c.expectedCount);null!==V&&(f.expectedCount=V)}else if(c.snapshotVersion.compareTo(Cn.min())>0){f.readTime=Mc(a,c.snapshotVersion.toTimestamp());const V=xc(a,c.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const s=function Pg(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.Wo(t)}}class nv extends ha{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ag(r,e){return r&&r.length>0?(un(void 0!==e),r.map(t=>function(s,a){let c=Sr(s.updateTime?s.updateTime:a);return c.isEqual(Cn.min())&&(c=Sr(a)),new xf(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Sr(e.commitTime);return this.listener.cu(s,t)}return un(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Hl(this.serializer,s))};this.Wo(t)}}class z_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new gt($e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new gt($e.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt($e.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class rv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gn(t),this.mu=!1):Je("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(D=>{s.enqueueAndForget((0,p.Z)(function*(){var V;Po(f)&&(Je("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,p.Z)(function*(W){const te=Nt(W);te.vu.add(4),yield Vc(te),te.bu.set("Unknown"),te.vu.delete(4),yield xd(te)}),function(W){return V.apply(this,arguments)})(f))}))}),this.bu=new rv(s,a)}}function xd(r){return $h.apply(this,arguments)}function $h(){return $h=(0,p.Z)(function*(r){if(Po(r))for(const e of r.Ru)yield e(!0)}),$h.apply(this,arguments)}function Vc(r){return dp.apply(this,arguments)}function dp(){return dp=(0,p.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),dp.apply(this,arguments)}function Uc(r,e){const t=Nt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),pp(t)?fp(t):zc(t).Ko()&&hp(t,e))}function Md(r,e){const t=Nt(r),s=zc(t);t.Au.delete(e),s.Ko()&&rm(t,e),0===t.Au.size&&(s.Ko()?s.jo():Po(t)&&t.bu.set("Unknown"))}function hp(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zc(r).su(e)}function rm(r,e){r.Vu.qt(e),zc(r).iu(e)}function fp(r){r.Vu=new B_({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),zc(r).start(),r.bu.gu()}function pp(r){return Po(r)&&!zc(r).Uo()&&r.Au.size>0}function Po(r){return 0===Nt(r).vu.size}function jh(r){r.Vu=void 0}function sv(r){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(r){r.Au.forEach((e,t)=>{hp(r,e)})}),gp.apply(this,arguments)}function im(r,e){return mp.apply(this,arguments)}function mp(){return mp=(0,p.Z)(function*(r,e){jh(r),pp(r)?(r.bu.Iu(e),fp(r)):r.bu.set("Unknown")}),mp.apply(this,arguments)}function ov(r,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,p.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof yh&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(a,c){const f=c.cause;for(const D of c.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,f),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bc(r,s)}else if(e instanceof Nf?r.Vu.Ht(e):e instanceof mh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Cn.min()))try{const s=yield Xg(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((D,V)=>{if(D.resumeToken.approximateByteSize()>0){const W=a.Au.get(V);W&&a.Au.set(V,W.withResumeToken(D.resumeToken,c))}}),f.targetMismatches.forEach((D,V)=>{const W=a.Au.get(D);if(!W)return;a.Au.set(D,W.withResumeToken(zi.EMPTY_BYTE_STRING,W.snapshotVersion)),rm(a,D);const te=new ju(W.target,D,V,W.sequenceNumber);hp(a,te)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Je("RemoteStore","Failed to raise snapshot:",s),yield Bc(r,s)}var s}),yp.apply(this,arguments)}function Bc(r,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,p.Z)(function*(r,e,t){if(!Bo(e))throw e;r.vu.add(1),yield Vc(r),r.bu.set("Offline"),t||(t=()=>Xg(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){Je("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield xd(r)}))}),vp.apply(this,arguments)}function sm(r,e){return e().catch(t=>Bc(r,t,e))}function Wu(r){return $c.apply(this,arguments)}function $c(){return $c=(0,p.Z)(function*(r){const e=Nt(r),t=wl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hh(e);)try{const a=yield Zy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,G_(e,a)}catch(a){yield Bc(e,a)}zh(e)&&av(e)}),$c.apply(this,arguments)}function Hh(r){return Po(r)&&r.Eu.length<10}function G_(r,e){r.Eu.push(e);const t=wl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function zh(r){return Po(r)&&!wl(r).Uo()&&r.Eu.length>0}function av(r){wl(r).start()}function om(r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,p.Z)(function*(r){wl(r).hu()}),Gh.apply(this,arguments)}function am(r){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,p.Z)(function*(r){const e=wl(r);for(const t of r.Eu)e.uu(t.mutations)}),Wh.apply(this,arguments)}function _p(r,e,t){return ru.apply(this,arguments)}function ru(){return ru=(0,p.Z)(function*(r,e,t){const s=r.Eu.shift(),a=_g.from(s,e,t);yield sm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Wu(r)}),ru.apply(this,arguments)}function qh(r,e){return jc.apply(this,arguments)}function jc(){return jc=(0,p.Z)(function*(r,e){var t;e&&wl(r).ou&&(yield(t=(0,p.Z)(function*(s,a){if(Eg(c=a.code)&&c!==$e.ABORTED){const f=s.Eu.shift();wl(s).Qo(),yield sm(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Wu(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),zh(r)&&av(r)}),jc.apply(this,arguments)}function Hc(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,p.Z)(function*(r,e){const t=Nt(r);t.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const s=Po(t);t.vu.add(3),yield Vc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield xd(t)}),wp.apply(this,arguments)}function Kh(r,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,p.Z)(function*(r,e){const t=Nt(r);e?(t.vu.delete(2),yield xd(t)):e||(t.vu.add(2),yield Vc(t),t.bu.set("Unknown"))}),Zh.apply(this,arguments)}function zc(r){return r.Su||(r.Su=function(e,t,s){const a=Nt(e);return a.fu(),new tv(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:sv.bind(null,r),ao:im.bind(null,r),nu:ov.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Su.Qo(),pp(r)?fp(r):r.bu.set("Unknown")):(yield r.Su.stop(),jh(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function wl(r){return r.Du||(r.Du=function(e,t,s){const a=Nt(e);return a.fu(),new nv(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:om.bind(null,r),ao:qh.bind(null,r),au:am.bind(null,r),cu:_p.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Du.Qo(),yield Wu(r)):(yield r.Du.stop(),r.Eu.length>0&&(Je("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Jl{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,D=new Jl(e,t,f,a,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gc(r,e){if(gn("AsyncQueue",`${e}: ${r}`),Bo(r))return new gt($e.UNAVAILABLE,`${e}: ${r}`);throw r}class Pd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||zt.comparator(t.key,s.key):(t,s)=>zt.comparator(t.key,s.key),this.keyedMap=ul(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Pd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Pd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class um{constructor(){this.Cu=new qr(zt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Vt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Wc{constructor(e,t,s,a,c,f,D,V,W){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=V,this.hasCachedResults=W}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(D=>{f.push({type:0,doc:D})}),new Wc(e,t,Pd.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ae(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class uv{constructor(){this.Nu=void 0,this.listeners=[]}}class lv{constructor(){this.queries=new eo(e=>st(e),Ae),this.onlineState="Unknown",this.ku=new Set}}function Ep(r,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,p.Z)(function*(r,e){const t=Nt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new uv),a)try{c.Nu=yield t.onListen(s)}catch(f){const D=Gc(f,`Initialization of query '${Ut(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Rd(t)}),Ip.apply(this,arguments)}function bp(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,p.Z)(function*(r,e){const t=Nt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Yh.apply(this,arguments)}function Cp(r,e){const t=Nt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const D of f.listeners)D.$u(a)&&(s=!0);f.Nu=a}}s&&Rd(t)}function cv(r,e,t){const s=Nt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Rd(r){r.ku.forEach(e=>{e.next()})}class Dp{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Wc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dv{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class lm{constructor(e){this.serializer=e}rr(e){return tu(this.serializer,e)}ur(e){return e.metadata.exists?Ty(this.serializer,e.document,!1):ci.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Sr(e)}}class hv{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cm(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Rn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new lm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const f of a.metadata.queries){const D=(t.get(f)||tr()).add(c);t.set(f,D)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function kc(r,e,t,s){return kh.apply(this,arguments)}(e.localStore,new lm(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Qy(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function cm(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class dm{constructor(e){this.key=e}}class hm{constructor(e){this.key=e}}class Tp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=ir(e),this.ec=new Pd(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new um,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,D=!1;const V="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,W="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((te,me)=>{const He=a.get(te),dt=nn(this.query,me)?me:null,Ft=!!He&&this.mutatedKeys.has(He.key),cn=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let mn=!1;He&&dt?He.data.isEqual(dt.data)?Ft!==cn&&(s.track({type:3,doc:dt}),mn=!0):this.rc(He,dt)||(s.track({type:2,doc:dt}),mn=!0,(V&&this.tc(dt,V)>0||W&&this.tc(dt,W)<0)&&(D=!0)):!He&&dt?(s.track({type:0,doc:dt}),mn=!0):He&&!dt&&(s.track({type:1,doc:He}),mn=!0,(V||W)&&(D=!0)),mn&&(dt?(f=f.add(dt),c=cn?c.add(te):c.delete(te)):(f=f.delete(te),c=c.delete(te)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const te="F"===this.query.limitType?f.last():f.first();f=f.delete(te.key),c=c.delete(te.key),s.track({type:1,doc:te})}return{ec:f,ic:s,zi:D,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((W,te)=>function(me,He){const dt=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return dt(me)-dt(He)}(W.type,te.type)||this.tc(W.doc,te.doc)),this.oc(s);const f=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,V=D!==this.Xu;return this.Xu=D,0!==c.length||V?{snapshot:new Wc(this.query,e.ec,a,c,e.mutatedKeys,0===D,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new um,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=tr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new hm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new dm(s))}),t}hc(e){this.Yu=e.ir,this.Zu=tr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Wc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fv{constructor(e){this.key=e,this.fc=!1}}class W_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new eo(D=>st(D),Ae),this._c=new Map,this.mc=new Set,this.gc=new qr(zt.comparator),this.yc=new Map,this.Ic=new Kg,this.Tc={},this.Ec=new Map,this.Ac=ml.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pm(r,e){return gm.apply(this,arguments)}function gm(){return gm=(0,p.Z)(function*(r,e){const t=sf(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield Zl(t.localStore,b(e)),D=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield qc(t,e,s,"current"===D,f.resumeToken),t.isPrimaryClient&&Uc(t.remoteStore,f)}return a}),gm.apply(this,arguments)}function qc(r,e,t,s,a){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,p.Z)(function*(r,e,t,s,a){r.Rc=(me,He,dt)=>{return(Ft=(0,p.Z)(function*(cn,mn,mr,Gr){let Mr=mn.view.sc(mr);Mr.zi&&(Mr=yield op(cn.localStore,mn.query,!1).then(({documents:Wi})=>mn.view.sc(Wi,Mr)));const io=Gr&&Gr.targetChanges.get(mn.targetId),Rs=mn.view.applyChanges(Mr,cn.isPrimaryClient,io);return Jh(cn,mn.targetId,Rs.cc),Rs.snapshot}),function(cn,mn,mr,Gr){return Ft.apply(this,arguments)})(r,me,He,dt);var Ft};const c=yield op(r.localStore,e,!0),f=new Tp(e,c.ir),D=f.sc(c.documents),V=gh.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),W=f.applyChanges(D,r.isPrimaryClient,V);Jh(r,t,W.cc);const te=new fm(e,t,f);return r.wc.set(e,te),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),W.snapshot}),Sp.apply(this,arguments)}function pv(r,e){return Od.apply(this,arguments)}function Od(){return Od=(0,p.Z)(function*(r,e){const t=Nt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Ae(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Yl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Md(t.remoteStore,s.targetId),iu(t,s.targetId)}).catch(as))):(iu(t,s.targetId),yield Yl(t.localStore,s.targetId,!0))}),Od.apply(this,arguments)}function Va(){return Va=(0,p.Z)(function*(r,e,t){const s=Ld(r);try{const a=yield function(c,f){const D=Nt(c),V=Zr.now(),W=f.reduce((He,dt)=>He.add(dt.key),tr());let te,me;return D.persistence.runTransaction("Locally write mutations","readwrite",He=>{let dt=Go(),Ft=tr();return D.Zi.getEntries(He,W).next(cn=>{dt=cn,dt.forEach((mn,mr)=>{mr.isValidDocument()||(Ft=Ft.add(mn))})}).next(()=>D.localDocuments.getOverlayedDocuments(He,dt)).next(cn=>{te=cn;const mn=[];for(const mr of f){const Gr=gg(mr,te.get(mr.key).overlayedDocument);null!=Gr&&mn.push(new Bu(mr.key,Gr,ud(Gr.value.mapValue),ts.exists(!0)))}return D.mutationQueue.addMutationBatch(He,V,mn,f)}).next(cn=>{me=cn;const mn=cn.applyToLocalDocumentSet(te,Ft);return D.documentOverlayCache.saveOverlays(He,cn.batchId,mn)})}).then(()=>({batchId:me.batchId,changes:_c(te)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,D){let V=c.Tc[c.currentUser.toKey()];V||(V=new qr(Nn)),V=V.insert(f,D),c.Tc[c.currentUser.toKey()]=V}(s,a.batchId,t),yield Du(s,a.changes),yield Wu(s.remoteStore)}catch(a){const c=Gc(a,"Failed to persist write");t.reject(c)}}),Va.apply(this,arguments)}function Kc(r,e){return mo.apply(this,arguments)}function mo(){return mo=(0,p.Z)(function*(r,e){const t=Nt(r);try{const s=yield function Ky(r,e){const t=Nt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((te,me)=>{const He=a.get(me);if(!He)return;D.push(t.Bs.removeMatchingKeys(c,te.removedDocuments,me).next(()=>t.Bs.addMatchingKeys(c,te.addedDocuments,me)));let dt=He.withSequenceNumber(c.currentSequenceNumber);var Ft,cn,mn;null!==e.targetMismatches.get(me)?dt=dt.withResumeToken(zi.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):te.resumeToken.approximateByteSize()>0&&(dt=dt.withResumeToken(te.resumeToken,s)),a=a.insert(me,dt),cn=dt,mn=te,(0===(Ft=He).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||mn.addedDocuments.size+mn.modifiedDocuments.size+mn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(c,dt))});let V=Go(),W=tr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(c,te))}),D.push(sp(c,f,e.documentUpdates).next(te=>{V=te.nr,W=te.sr})),!s.isEqual(Cn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(c).next(me=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(te)}return ze.waitFor(D).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,W)).next(()=>V)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(un(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?un(f.fc):a.removedDocuments.size>0&&(un(f.fc),f.fc=!1))}),yield Du(t,s,e)}catch(s){yield as(s)}}),mo.apply(this,arguments)}function El(r,e,t){const s=Nt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const D=f.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(c,f){const D=Nt(c);D.onlineState=f;let V=!1;D.queries.forEach((W,te)=>{for(const me of te.listeners)me.Mu(f)&&(V=!0)}),V&&Rd(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Qh(r,e,t){return fa.apply(this,arguments)}function fa(){return fa=(0,p.Z)(function*(r,e,t){const s=Nt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new qr(zt.comparator);f=f.insert(c,ci.newNoDocument(c,Cn.min()));const D=tr().add(c),V=new ph(Cn.min(),new Map,new qr(Nn),f,D);yield Kc(s,V),s.gc=s.gc.remove(c),s.yc.delete(e),Xh(s)}else yield Yl(s.localStore,e,!1).then(()=>iu(s,e,t)).catch(as)}),fa.apply(this,arguments)}function Ap(r,e){return Il.apply(this,arguments)}function Il(){return Il=(0,p.Z)(function*(r,e){const t=Nt(r),s=e.batch.batchId;try{const a=yield function qy(r,e){const t=Nt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,V,W){const te=V.batch,me=te.keys();let He=ze.resolve();return me.forEach(dt=>{He=He.next(()=>W.getEntry(D,dt)).next(Ft=>{const cn=V.docVersions.get(dt);un(null!==cn),Ft.version.compareTo(cn)<0&&(te.applyToRemoteDocument(Ft,V),Ft.isValidDocument()&&(Ft.setReadTime(V.commitVersion),W.addEntry(Ft)))})}),He.next(()=>f.mutationQueue.removeMutationBatch(D,te))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let D=tr();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(D=D.add(f.batch.mutations[V].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Tl(t,s,null),Dl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Du(t,a)}catch(a){yield as(a)}}),Il.apply(this,arguments)}function Zc(r,e,t){return bl.apply(this,arguments)}function bl(){return bl=(0,p.Z)(function*(r,e,t){const s=Nt(r);try{const a=yield function(c,f){const D=Nt(c);return D.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let W;return D.mutationQueue.lookupMutationBatch(V,f).next(te=>(un(null!==te),W=te.keys(),D.mutationQueue.removeMutationBatch(V,te))).next(()=>D.mutationQueue.performConsistencyCheck(V)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(V,W,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,W)).next(()=>D.localDocuments.getDocuments(V,W))})}(s.localStore,e);Tl(s,e,t),Dl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Du(s,a)}catch(a){yield as(a)}}),bl.apply(this,arguments)}function Cl(){return Cl=(0,p.Z)(function*(r,e){const t=Nt(r);Po(t.remoteStore)||Je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const f=Nt(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>f.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=Gc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Cl.apply(this,arguments)}function Dl(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Tl(r,e,t){const s=Nt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function iu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||Xl(r,s)})}function Xl(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Md(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Xh(r))}function Jh(r,e,t){for(const s of t)s instanceof dm?(r.Ic.addReference(s.key,e),mm(r,s)):s instanceof hm?(Je("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||Xl(r,s.key)):Vt()}function mm(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(Je("SyncEngine","New document in limbo: "+t),r.mc.add(s),Xh(r))}function Xh(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new zt(Rn.fromString(e)),s=r.Ac.next();r.yc.set(s,new fv(t)),r.gc=r.gc.insert(t,s),Uc(r.remoteStore,new ju(b(Vu(t.path)),s,"TargetPurposeLimboResolution",Zs.ct))}}function Du(r,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,p.Z)(function*(r,e,t){const s=Nt(r),a=[],c=[],f=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,V)=>{f.push(s.Rc(V,e,t).then(W=>{if((W||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,W?.fromCache?"not-current":"current"),W){a.push(W);const te=Oh.Li(V.targetId,W);c.push(te)}}))}),yield Promise.all(f),s.dc.nu(a),yield(D=(0,p.Z)(function*(V,W){const te=Nt(V);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",me=>ze.forEach(W,He=>ze.forEach(He.Fi,dt=>te.persistence.referenceDelegate.addReference(me,He.targetId,dt)).next(()=>ze.forEach(He.Bi,dt=>te.persistence.referenceDelegate.removeReference(me,He.targetId,dt)))))}catch(me){if(!Bo(me))throw me;Je("LocalStore","Failed to update sequence numbers: "+me)}for(const me of W){const He=me.targetId;if(!me.fromCache){const dt=te.Ji.get(He),cn=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);te.Ji=te.Ji.insert(He,cn)}}}),function(V,W){return D.apply(this,arguments)})(s.localStore,c))}),ef.apply(this,arguments)}function ym(r,e){return tf.apply(this,arguments)}function tf(){return tf=(0,p.Z)(function*(r,e){const t=Nt(r);if(!t.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const s=yield Jg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(D=>{D.reject(new gt($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Du(t,s.er)}var a}),tf.apply(this,arguments)}function vm(r,e){const t=Nt(r),s=t.yc.get(e);if(s&&s.fc)return tr().add(s.key);{let a=tr();const c=t._c.get(e);if(!c)return a;for(const f of c){const D=t.wc.get(f);a=a.unionWith(D.view.nc)}return a}}function _m(r,e){return xp.apply(this,arguments)}function xp(){return xp=(0,p.Z)(function*(r,e){const t=Nt(r),s=yield op(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&Jh(t,e.targetId,a.cc),a}),xp.apply(this,arguments)}function mv(r,e){return nf.apply(this,arguments)}function nf(){return nf=(0,p.Z)(function*(r,e){const t=Nt(r);return em(t.localStore,e).then(s=>Du(t,s))}),nf.apply(this,arguments)}function yv(r,e,t,s){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,p.Z)(function*(r,e,t,s){const a=Nt(r),c=yield function(f,D){const V=Nt(f),W=Nt(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",te=>W.Sn(te,D).next(me=>me?V.localDocuments.getDocuments(te,me):ze.resolve(null)))}(a.localStore,e);var D;null!==c?("pending"===t?yield Wu(a.remoteStore):"acknowledged"===t||"rejected"===t?(Tl(a,e,s||null),Dl(a,e),D=e,Nt(Nt(a.localStore).mutationQueue).Cn(D)):Vt(),yield Du(a,c)):Je("SyncEngine","Cannot apply mutation batch with id: "+e)}),Mp.apply(this,arguments)}function Nd(){return Nd=(0,p.Z)(function*(r,e){const t=Nt(r);if(sf(t),Ld(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield wm(t,s.toArray());t.vc=!0,yield Kh(t.remoteStore,!0);for(const c of a)Uc(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(iu(t,f),Yl(t.localStore,f,!0))),Md(t.remoteStore,f)}),yield a,yield wm(t,s),function(c){const f=Nt(c);f.yc.forEach((D,V)=>{Md(f.remoteStore,V)}),f.Ic.Ts(),f.yc=new Map,f.gc=new qr(zt.comparator)}(t),t.vc=!1,yield Kh(t.remoteStore,!1)}}),Nd.apply(this,arguments)}function wm(r,e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,p.Z)(function*(r,e,t){const s=Nt(r),a=[],c=[];for(const f of e){let D;const V=s._c.get(f);if(V&&0!==V.length){D=yield Zl(s.localStore,b(V[0]));for(const W of V){const te=s.wc.get(W),me=yield _m(s,te);me.snapshot&&c.push(me.snapshot)}}else{const W=yield Nh(s.localStore,f);D=yield Zl(s.localStore,W),yield qc(s,kd(W),f,!1,D.resumeToken)}a.push(D)}return s.dc.nu(c),a}),Qc.apply(this,arguments)}function kd(r){return yc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Rp(r){const e=Nt(r);return Nt(Nt(e.localStore).persistence).$i()}function vv(r,e,t,s){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,p.Z)(function*(r,e,t,s){const a=Nt(r);if(a.vc)return void Je("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield em(a.localStore,Sn(c[0])),D=ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,zi.EMPTY_BYTE_STRING);yield Du(a,f,D);break}case"rejected":yield Yl(a.localStore,e,!0),iu(a,e,s);break;default:Vt()}}),Fd.apply(this,arguments)}function Op(r,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,p.Z)(function*(r,e,t){const s=sf(r);if(s.vc){for(const a of e){if(s._c.has(a)){Je("SyncEngine","Adding an already active target "+a);continue}const c=yield Nh(s.localStore,a),f=yield Zl(s.localStore,c);yield qc(s,kd(c),f.targetId,!1,f.resumeToken),Uc(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield Yl(s.localStore,a,!1).then(()=>{Md(s.remoteStore,a),iu(s,a)}).catch(as))}}),rf.apply(this,arguments)}function sf(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qh.bind(null,e),e.dc.nu=Cp.bind(null,e.eventManager),e.dc.Pc=cv.bind(null,e.eventManager),e}function Ld(r){const e=Nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ap.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zc.bind(null,e),e}class Jc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=Ad(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rp(this.persistence,new Id,e.initialUser,this.serializer)}createPersistence(e){return new wd(ep.zs,this.serializer)}createSharedClientState(e){return new Vh}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class af extends Jc{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Ld(s.Vc.syncEngine),yield Wu(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return rp(this.persistence,new Id,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new jg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new sd(t,this.persistence);return new Ea(e.asyncQueue,s)}createPersistence(e){const t=np(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new Qg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,up(),Sd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Vh}}class Im extends af{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Lh&&(s.sharedClientState.syncEngine={jr:yv.bind(null,a),zr:vv.bind(null,a),Wr:Op.bind(null,a),$i:Rp.bind(null,a),Qr:mv.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,p.Z)(function*(f){yield function Pp(r,e){return Nd.apply(this,arguments)}(s.Vc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=up();if(!Lh.D(t))throw new gt($e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=np(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class ec{initialize(e,t){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>El(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ym.bind(null,s.syncEngine),yield Kh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lv}createDatastore(e){const t=Ad(e.databaseInfo.databaseId),s=new ev(e.databaseInfo);return new z_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=D=>El(this.syncEngine,D,0),f=Uh.D()?new Uh:new ap,new iv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,D,V,W){const te=new W_(s,a,c,f,D,V);return W&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const s=Nt(t);Je("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Vc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kp(r,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Vd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bm{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Si,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,p.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new dv(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class _v{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new gt($e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,p.Z)(function*(c,f){const D=Nt(c),V=fd(D.serializer)+"/documents",W={documents:f.map(dt=>Pc(D.serializer,dt))},te=yield D.vo("BatchGetDocuments",V,W,f.length),me=new Map;te.forEach(dt=>{const Ft=function $_(r,e){return"found"in e?function(t,s){un(!!s.found);const a=tu(t,s.found.name),c=Sr(s.found.updateTime),f=s.found.createTime?Sr(s.found.createTime):Cn.min(),D=new gs({mapValue:{fields:s.found.fields}});return ci.newFoundDocument(a,c,f,D)}(r,e):"missing"in e?function(t,s){un(!!s.missing),un(!!s.readTime);const a=tu(t,s.missing),c=Sr(s.readTime);return ci.newNoDocument(a,c)}(r,e):Vt()}(D.serializer,dt);me.set(Ft.key.toString(),Ft)});const He=[];return f.forEach(dt=>{const Ft=me.get(dt.toString());un(!!Ft),He.push(Ft)}),He}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=zt.fromPath(a);e.mutations.push(new jl(c,e.precondition(c)))}),yield(s=(0,p.Z)(function*(a,c){const f=Nt(a),D=fd(f.serializer)+"/documents",V={writes:c.map(W=>Hl(f.serializer,W))};yield f.Io("Commit",D,V)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vt();t=Cn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new gt($e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Cn.min())?ts.exists(!1):ts.updateTime(t):ts.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cn.min()))throw new gt($e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ts.updateTime(t)}return ts.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wv{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new lp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,p.Z)(function*(){const t=new _v(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!gi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Eg(t)}return!1}}class Ev{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=C.UNAUTHENTICATED,this.clientId=ii.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,p.Z)(function*(D){Je("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Je("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Gc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Ud(r,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,p.Z)(function*(c){s.isEqual(c)||(yield Jg(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Bd.apply(this,arguments)}function uf(r,e){return lf.apply(this,arguments)}function lf(){return lf=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield cf(r);Je("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Hc(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Hc(e.remoteStore,c)),r._onlineComponents=e}),lf.apply(this,arguments)}function Fp(r){return"FirebaseError"===r.name?r.code===$e.FAILED_PRECONDITION||r.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function cf(r){return df.apply(this,arguments)}function df(){return df=(0,p.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ud(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Fp(t))throw t;Hn("Error using user provided cache. Falling back to memory cache: "+t),yield Ud(r,new Jc)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),yield Ud(r,new Jc);return r._offlineComponents}),df.apply(this,arguments)}function $d(r){return hf.apply(this,arguments)}function hf(){return hf=(0,p.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),yield uf(r,r._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),yield uf(r,new ec))),r._onlineComponents}),hf.apply(this,arguments)}function Lp(r){return cf(r).then(e=>e.persistence)}function tc(r){return cf(r).then(e=>e.localStore)}function qu(r){return $d(r).then(e=>e.remoteStore)}function Vp(r){return $d(r).then(e=>e.syncEngine)}function Sl(r){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,p.Z)(function*(r){const e=yield $d(r),t=e.eventManager;return t.onListen=pm.bind(null,e.syncEngine),t.onUnlisten=pv.bind(null,e.syncEngine),t}),Ku.apply(this,arguments)}function bv(r,e,t={}){const s=new Si;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,D,V){const W=new Vd({next:me=>{c.enqueueAndForget(()=>bp(a,te));const He=me.docs.has(f);!He&&me.fromCache?V.reject(new gt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):He&&me.fromCache&&D&&"server"===D.source?V.reject(new gt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(me)},error:me=>V.reject(me)}),te=new Dp(Vu(f.path),W,{includeMetadataChanges:!0,Ku:!0});return Ep(a,te)}(yield Sl(r),r.asyncQueue,e,t,s)})),s.promise}function Dm(r,e,t={}){const s=new Si;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,D,V){const W=new Vd({next:me=>{c.enqueueAndForget(()=>bp(a,te)),me.fromCache&&"server"===D.source?V.reject(new gt($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(me)},error:me=>V.reject(me)}),te=new Dp(f,W,{includeMetadataChanges:!0,Ku:!0});return Ep(a,te)}(yield Sl(r),r.asyncQueue,e,t,s)})),s.promise}function $p(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Sm=new Map;function jp(r,e,t){if(!t)throw new gt($e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Hp(r,e,t,s){if(!0===e&&!0===s)throw new gt($e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Am(r){if(!zt.isDocumentKey(r))throw new gt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zp(r){if(zt.isDocumentKey(r))throw new gt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Vt()}function Dr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new gt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jd(r);throw new gt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function xm(r,e){if(e<=0)throw new gt($e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Mm{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new gt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$p(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new gt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new gt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new gt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uu;switch(t.type){case"firstParty":return new po(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new gt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sm.get(e);t&&(Je("ComponentProvider","Removing Datastore"),Sm.delete(e),t.terminate())}(this),Promise.resolve()}}function Pm(r,e,t,s={}){var a;const c=(r=Dr(r,Xc))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Hn("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,D;if("string"==typeof s.mockUserToken)f=s.mockUserToken,D=C.MOCK_USER;else{f=(0,ce.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new gt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new C(V)}r._authCredentials=new Ra(new Pa(f,D))}}class us{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new us(this.firestore,e,this._key)}}class qo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class su extends qo{constructor(e,t,s){super(e,t,Vu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new us(this.firestore,null,new zt(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function Gp(r,e,...t){if(r=(0,ce.m9)(r),jp("collection","path",e),r instanceof Xc){const s=Rn.fromString(e,...t);return zp(s),new su(r,null,s)}{if(!(r instanceof us||r instanceof su))throw new gt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rn.fromString(e,...t));return zp(s),new su(r.firestore,null,s)}}function Tu(r,e){if(r=Dr(r,Xc),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gt($e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qo(r,null,(t=e,new Xa(Rn.emptyPath(),t)));var t}function Rm(r,e,...t){if(r=(0,ce.m9)(r),1===arguments.length&&(e=ii.A()),jp("doc","path",e),r instanceof Xc){const s=Rn.fromString(e,...t);return Am(s),new us(r,null,new zt(s))}{if(!(r instanceof us||r instanceof su))throw new gt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rn.fromString(e,...t));return Am(s),new us(r.firestore,r instanceof su?r.converter:null,new zt(s))}}function Tv(r,e){return r=(0,ce.m9)(r),e=(0,ce.m9)(e),(r instanceof us||r instanceof su)&&(e instanceof us||e instanceof su)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Ua(r,e){return r=(0,ce.m9)(r),e=(0,ce.m9)(e),r instanceof qo&&e instanceof qo&&r.firestore===e.firestore&&Ae(r._query,e._query)&&r.converter===e.converter}class ou{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new lp(this,"async_queue_retry"),this.Xc=()=>{const t=Sd();t&&Je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Sd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Sd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Si;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,p.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Bo(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,gn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Jl.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Vt()}verifyOperationInProgress(){}sa(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Sa(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Om{constructor(){this._progressObserver={},this._taskCompletionResolver=new Si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Nm=-1;class Gi extends Xc{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new ou,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ff(this),this._firestoreClient.terminate()}}function Sv(r,e){const t="object"==typeof r?r:(0,B.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,B._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,ce.P0)("firestore");c&&Pm(a,...c)}return a}function Ps(r){return r._firestoreClient||ff(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ff(r){var e,t,s;const a=r._freezeSettings(),c=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Nu(r._databaseId,D,r._persistenceKey,(W=a).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,$p(W.experimentalLongPollingOptions),W.useFetchStreams));var D,W;r._firestoreClient=new Ev(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Hd(r,e){Kp(r=Dr(r,Gi));const t=Ps(r);if(t._uninitializedComponentsProvider)throw new gt($e.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new ec;return Wp(t,a,new af(a,s.cacheSizeBytes,e?.forceOwnership))}function Av(r){Kp(r=Dr(r,Gi));const e=Ps(r);if(e._uninitializedComponentsProvider)throw new gt($e.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new ec;return Wp(e,s,new Im(s,t.cacheSizeBytes))}function Wp(r,e,t){const s=new Si;return r.asyncQueue.enqueue((0,p.Z)(function*(){try{yield Ud(r,t),yield uf(r,e),s.resolve()}catch(a){const c=a;if(!Fp(c))throw c;Hn("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function xv(r){if(r._initialized&&!r._terminated)throw new gt($e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Si;return r._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(s){if(!gr.D())return Promise.resolve();const a=s+"main";yield gr.delete(a)}),function(s){return t.apply(this,arguments)})(np(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Mv(r){return function(e){const t=new Si;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Yc(r,e){return Cl.apply(this,arguments)}(yield Vp(e),t)})),t.promise}(Ps(r=Dr(r,Gi)))}function km(r){return function Up(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Lp(r),t=yield qu(r);return e.setNetworkEnabled(!0),function(s){const a=Nt(s);return a.vu.delete(0),xd(a)}(t)}))}(Ps(r=Dr(r,Gi)))}function Fm(r){return function Iv(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Lp(r),t=yield qu(r);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(a){const c=Nt(a);c.vu.add(0),yield Vc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Ps(r=Dr(r,Gi)))}function Pv(r,e){const t=Ps(r=Dr(r,Gi)),s=new Om;return function Tm(r,e,t,s){const a=function(c,f){let D;return D="string"==typeof c?hh().encode(c):c,V=function(V,W){if(V instanceof Uint8Array)return kp(V,W);if(V instanceof ArrayBuffer)return kp(new Uint8Array(V),W);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new bm(V,f);var V}(t,Ad(e));r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function Em(r,e,t){const s=Nt(r);var a;(a=(0,p.Z)(function*(c,f,D){try{const V=yield f.getMetadata();if(yield function(He,dt){const Ft=Nt(He),cn=Sr(dt.createTime);return Ft.persistence.runTransaction("hasNewerBundle","readonly",mn=>Ft.qs.getBundleMetadata(mn,dt.id)).then(mn=>!!mn&&mn.createTime.compareTo(cn)>=0)}(c.localStore,V))return yield f.close(),D._completeWith({taskState:"Success",documentsLoaded:(He=V).totalDocuments,bytesLoaded:He.totalBytes,totalDocuments:He.totalDocuments,totalBytes:He.totalBytes}),Promise.resolve(new Set);D._updateProgress(cm(V));const W=new hv(V,c.localStore,f.serializer);let te=yield f.bc();for(;te;){const He=yield W.zu(te);He&&D._updateProgress(He),te=yield f.bc()}const me=yield W.complete();return yield Du(c,me.Ju,void 0),yield function(He,dt){const Ft=Nt(He);return Ft.persistence.runTransaction("Save bundle","readwrite",cn=>Ft.qs.saveBundleMetadata(cn,dt))}(c.localStore,V),D._completeWith(me.progress),Promise.resolve(me.Hu)}catch(V){return Hn("SyncEngine",`Loading bundle failed with ${V}`),D._failWith(V),Promise.resolve(new Set)}var He}),function(c,f,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Vp(r),a,s)}))}(t,r._databaseId,e,s),s}function Lm(r,e){return function Dv(r,e){return r.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,s){const a=Nt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield tc(r),e)}))}(Ps(r=Dr(r,Gi)),e).then(t=>t?new qo(r,null,t.query):null)}function Kp(r){if(r._initialized||r._terminated)throw new gt($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(zi.fromBase64String(e))}catch(t){throw new gt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new gt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Al{constructor(e){this._methodName=e}}class zd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const Vm=/^__.*__$/;class Um{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class Yp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class pf{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Bm(this.ca)&&Vm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ov{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ad(e)}ya(e,t,s,a=!1){return new pf({ca:e,methodName:t,ga:s,path:Zn.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rc(r){const e=r._freezeSettings(),t=Ad(r._databaseId);return new Ov(r._databaseId,!!e.ignoreUndefinedProperties,t)}function gf(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);eg("Data must be an object, but it was:",f,s);const D=Hm(s,f);let V,W;if(c.merge)V=new Xs(f.fieldMask),W=f.fieldTransforms;else if(c.mergeFields){const te=[];for(const me of c.mergeFields){const He=ed(e,me,t);if(!f.contains(He))throw new gt($e.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);tg(te,He)||te.push(He)}V=new Xs(te),W=f.fieldTransforms.filter(me=>V.covers(me.field))}else V=null,W=f.fieldTransforms;return new Um(new gs(D),V,W)}class Gd extends Al{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function $m(r,e,t){return new pf({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qp extends Al{_toFieldTransform(e){return new lh(e.path,new Cc)}isEqual(e){return e instanceof Qp}}class Nv extends Al{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=$m(this,e,!0),s=this.pa.map(c=>ic(c,t)),a=new ll(s);return new lh(e.path,a)}isEqual(e){return this===e}}class kv extends Al{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=$m(this,e,!0),s=this.pa.map(c=>ic(c,t)),a=new wu(s);return new lh(e.path,a)}isEqual(e){return this===e}}class Fv extends Al{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new eu(e.serializer,bc(e.serializer,this.Ia));return new lh(e.path,t)}isEqual(e){return this===e}}function Jp(r,e,t,s){const a=r.ya(1,e,t);eg("Data must be an object, but it was:",a,s);const c=[],f=gs.empty();go(s,(V,W)=>{const te=Wd(e,V,t);W=(0,ce.m9)(W);const me=a.da(te);if(W instanceof Gd)c.push(te);else{const He=ic(W,me);null!=He&&(c.push(te),f.set(te,He))}});const D=new Xs(c);return new Yp(f,D,a.fieldTransforms)}function Xp(r,e,t,s,a,c){const f=r.ya(1,e,t),D=[ed(e,s,t)],V=[a];if(c.length%2!=0)throw new gt($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<c.length;He+=2)D.push(ed(e,c[He])),V.push(c[He+1]);const W=[],te=gs.empty();for(let He=D.length-1;He>=0;--He)if(!tg(W,D[He])){const dt=D[He];let Ft=V[He];Ft=(0,ce.m9)(Ft);const cn=f.da(dt);if(Ft instanceof Gd)W.push(dt);else{const mn=ic(Ft,cn);null!=mn&&(W.push(dt),te.set(dt,mn))}}const me=new Xs(W);return new Yp(te,me,f.fieldTransforms)}function jm(r,e,t,s=!1){return ic(t,r.ya(s?4:3,e))}function ic(r,e){if(zm(r=(0,ce.m9)(r)))return eg("Unsupported field value:",e,r),Hm(r,e);if(r instanceof Al)return function(t,s){if(!Bm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let D=ic(f,s.wa(c));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ce.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zr.fromDate(t);return{timestampValue:Mc(s.serializer,a)}}if(t instanceof Zr){const a=new Zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mc(s.serializer,a)}}if(t instanceof zd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zu)return{bytesValue:vh(s.serializer,t._byteString)};if(t instanceof us){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ff(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${jd(t)}`)}(r,e)}function Hm(r,e){const t={};return tl(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(r,(s,a)=>{const c=ic(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function zm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zr||r instanceof zd||r instanceof Zu||r instanceof us||r instanceof Al)}function eg(r,e,t){if(!zm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=jd(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ed(r,e,t){if((e=(0,ce.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return Wd(r,e);throw qd("Field path arguments must be of type string or ",r,!1,void 0,t)}const Gm=new RegExp("[~\\*/\\[\\]]");function Wd(r,e,t){if(e.search(Gm)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qd(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${s}`),f&&(V+=` in document ${a}`),V+=")"),new gt($e.INVALID_ARGUMENT,D+r+V)}function tg(r,e){return r.some(t=>t.isEqual(e))}class td{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wm extends td{data(){return super.data()}}function Kd(r,e){return"string"==typeof e?Wd(r,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}function ng(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new gt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mf{}class nd extends mf{}function sc(r,e,...t){let s=[];e instanceof mf&&s.push(e),s=s.concat(t),function(a){const c=a.filter(D=>D instanceof au).length,f=a.filter(D=>D instanceof Zd).length;if(c>1||c>0&&f>0)throw new gt($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Zd extends nd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Zd(e,t,s)}_apply(e){const t=this._parse(e);return rg(e._query,t),new qo(e.firestore,e.converter,Z(e._query,t))}_parse(e){const t=rc(e.firestore);return function(a,c,f,D,V,W,te){let me;if(V.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new gt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){$v(te,W);const He=[];for(const dt of te)He.push(ls(D,a,dt));me={arrayValue:{values:He}}}else me=ls(D,a,te)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||$v(te,W),me=jm(f,"where",te,"in"===W||"not-in"===W);return se.create(V,W,me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lv(r,e,t){const s=e,a=Kd("where",r);return Zd._create(a,s,t)}class au extends mf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new au(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:ye.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const D of f)rg(c,D),c=Z(c,D)}(e._query,t),new qo(e.firestore,e.converter,Z(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Km extends nd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Km(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new gt($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new gt($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new I(a,c);return function(D,V){if(null===dd(D)){const W=w(D);null!==W&&ig(0,W,V.field)}}(s,f),f}(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Xa(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Zm(r,e="asc"){const t=e,s=Kd("orderBy",r);return Km._create(s,t)}class Yd extends nd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Yd(e,t,s)}_apply(e){return new qo(e.firestore,e.converter,re(e._query,this._limit,this._limitType))}}function Z_(r){return xm("limit",r),Yd._create("limit",r,"F")}function Kn(r){return xm("limitToLast",r),Yd._create("limitToLast",r,"L")}class yf extends nd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new yf(e,t,s)}_apply(e){const t=Qd(e,this.type,this._docOrFields,this._inclusive);return new qo(e.firestore,e.converter,(a=t,new Xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function Vv(...r){return yf._create("startAt",r,!0)}function Uv(...r){return yf._create("startAfter",r,!1)}class Qu extends nd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Qu(e,t,s)}_apply(e){const t=Qd(e,this.type,this._docOrFields,this._inclusive);return new qo(e.firestore,e.converter,(a=t,new Xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Bv(...r){return Qu._create("endBefore",r,!1)}function vf(...r){return Qu._create("endAt",r,!0)}function Qd(r,e,t,s){if(t[0]=(0,ce.m9)(t[0]),t[0]instanceof td)return function(a,c,f,D,V){if(!D)throw new gt($e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const W=[];for(const te of g(a))if(te.field.isKeyField())W.push(Fu(c,D.key));else{const me=D.data.field(te.field);if(nl(me))throw new gt($e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===me){const He=te.field.canonicalString();throw new gt($e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${He}' (used as the orderBy) does not exist.`)}W.push(me)}return new Fa(W,V)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=rc(r.firestore);return function(c,f,D,V,W,te){const me=c.explicitOrderBy;if(W.length>me.length)throw new gt($e.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const He=[];for(let dt=0;dt<W.length;dt++){const Ft=W[dt];if(me[dt].field.isKeyField()){if("string"!=typeof Ft)throw new gt($e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof Ft}`);if(!d(c)&&-1!==Ft.indexOf("/"))throw new gt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${Ft}' contains a slash.`);const cn=c.path.child(Rn.fromString(Ft));if(!zt.isDocumentKey(cn))throw new gt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const mn=new zt(cn);He.push(Fu(f,mn))}else{const cn=jm(D,V,Ft);He.push(cn)}}return new Fa(He,te)}(r._query,r.firestore._databaseId,a,e,t,s)}}function ls(r,e,t){if("string"==typeof(t=(0,ce.m9)(t))){if(""===t)throw new gt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d(e)&&-1!==t.indexOf("/"))throw new gt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rn.fromString(t));if(!zt.isDocumentKey(s))throw new gt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fu(r,new zt(s))}if(t instanceof us)return Fu(r,t._key);throw new gt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(t)}.`)}function $v(r,e){if(!Array.isArray(r)||0===r.length)throw new gt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rg(r,e){if(e.isInequality()){const s=w(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new gt($e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=dd(r);null!==c&&ig(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new gt($e.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ig(r,e,t){if(!t.isEqual(e))throw new gt($e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _f{convertValue(e,t="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return go(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new zd(oi(e.latitude),oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const t=Na(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rn.fromString(e);un(hl(s));const a=new ba(s.get(1),s.get(3)),c=new zt(s.popFirst(5));return a.isEqual(t)||gn(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Jd(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Qm extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new us(this.firestore,null,t)}}class oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ac extends td{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Xd extends ac{data(e={}){return super.data(e)}}class Su{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new oc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Xd(this._firestore,this._userDataWriter,s.key,s,new oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Xd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new oc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const D=new Xd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new oc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let V=-1,W=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),W=c.indexOf(f.doc.key)),{type:Jm(f.type),doc:D,oldIndex:V,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jm(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}function Xm(r,e){return r instanceof ac&&e instanceof ac?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Su&&e instanceof Su&&r._firestore===e._firestore&&Ua(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function ey(r){r=Dr(r,us);const e=Dr(r.firestore,Gi);return bv(Ps(e),r._key).then(t=>sy(e,r,t))}class xl extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new us(this.firestore,null,t)}}function eh(r){r=Dr(r,us);const e=Dr(r.firestore,Gi),t=Ps(e),s=new xl(e);return function Bp(r,e){const t=new Si;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const D=yield function(V,W){const te=Nt(V);return te.persistence.runTransaction("read document","readonly",me=>te.localDocuments.getDocument(me,W))}(a,c);D.isFoundDocument()?f.resolve(D):D.isNoDocument()?f.resolve(null):f.reject(new gt($e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const V=Gc(D,`Failed to get document '${c} from cache`);f.reject(V)}}),function(a,c,f){return s.apply(this,arguments)})(yield tc(r),e,t);var s})),t.promise}(t,r._key).then(a=>new ac(e,s,r._key,a,new oc(null!==a&&a.hasLocalMutations,!0),r.converter))}function th(r){r=Dr(r,us);const e=Dr(r.firestore,Gi);return bv(Ps(e),r._key,{source:"server"}).then(t=>sy(e,r,t))}function zv(r){r=Dr(r,qo);const e=Dr(r.firestore,Gi),t=Ps(e),s=new xl(e);return ng(r._query),Dm(t,r._query).then(a=>new Su(e,s,r,a))}function Gv(r){r=Dr(r,qo);const e=Dr(r.firestore,Gi),t=Ps(e),s=new xl(e);return function q_(r,e){const t=new Si;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const D=yield op(a,c,!0),V=new Tp(c,D.ir),W=V.sc(D.documents),te=V.applyChanges(W,!1);f.resolve(te.snapshot)}catch(D){const V=Gc(D,`Failed to execute query '${c} against cache`);f.reject(V)}}),function(a,c,f){return s.apply(this,arguments)})(yield tc(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Su(e,s,r,a))}function Wv(r){r=Dr(r,qo);const e=Dr(r.firestore,Gi),t=Ps(e),s=new xl(e);return Dm(t,r._query,{source:"server"}).then(a=>new Su(e,s,r,a))}function ty(r,e,t){r=Dr(r,us);const s=Dr(r.firestore,Gi),a=Jd(r.converter,e,t);return rd(s,[gf(rc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ts.none())])}function ny(r,e,t,...s){r=Dr(r,us);const a=Dr(r.firestore,Gi),c=rc(a);let f;return f="string"==typeof(e=(0,ce.m9)(e))||e instanceof Yu?Xp(c,"updateDoc",r._key,e,t,s):Jp(c,"updateDoc",r._key,e),rd(a,[f.toMutation(r._key,ts.exists(!0))])}function ry(r){return rd(Dr(r.firestore,Gi),[new Da(r._key,ts.none())])}function qv(r,e){const t=Dr(r.firestore,Gi),s=Rm(r),a=Jd(r.converter,e);return rd(t,[gf(rc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ts.exists(!1))]).then(()=>s)}function iy(r,...e){var t,s,a;r=(0,ce.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Sa(e[f])||(c=e[f],f++);const D={includeMetadataChanges:c.includeMetadataChanges};if(Sa(e[f])){const me=e[f];e[f]=null===(t=me.next)||void 0===t?void 0:t.bind(me),e[f+1]=null===(s=me.error)||void 0===s?void 0:s.bind(me),e[f+2]=null===(a=me.complete)||void 0===a?void 0:a.bind(me)}let V,W,te;if(r instanceof us)W=Dr(r.firestore,Gi),te=Vu(r._key.path),V={next:me=>{e[f]&&e[f](sy(W,r,me))},error:e[f+1],complete:e[f+2]};else{const me=Dr(r,qo);W=Dr(me.firestore,Gi),te=me._query;const He=new xl(W);V={next:dt=>{e[f]&&e[f](new Su(W,He,me,dt))},error:e[f+1],complete:e[f+2]},ng(r._query)}return function(me,He,dt,Ft){const cn=new Vd(Ft),mn=new Dp(He,cn,dt);return me.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Ep(yield Sl(me),mn)})),()=>{cn.Dc(),me.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return bp(yield Sl(me),mn)}))}}(Ps(W),te,D,V)}function Kv(r,e){return function Cv(r,e){const t=new Vd(e);return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Sl(r),a=t,Nt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Sl(r),a=t,void Nt(s).ku.delete(a);var s,a}))}}(Ps(r=Dr(r,Gi)),Sa(e)?e:{next:e})}function rd(r,e){return function(t,s){const a=new Si;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function gv(r,e,t){return Va.apply(this,arguments)}(yield Vp(t),s,a)})),a.promise}(Ps(r),e)}function sy(r,e,t){const s=t.docs.get(e._key),a=new xl(r);return new ac(r,a,e._key,s,new oc(t.hasPendingWrites,t.fromCache),e.converter)}const e_={maxAttempts:5};class sg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rc(e)}set(e,t,s){this._verifyNotCommitted();const a=Ml(e,this._firestore),c=Jd(a.converter,t,s),f=gf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,ts.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Ml(e,this._firestore);let f;return f="string"==typeof(t=(0,ce.m9)(t))||t instanceof Yu?Xp(this._dataReader,"WriteBatch.update",c._key,t,s,a):Jp(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ml(e,this._firestore);return this._mutations=this._mutations.concat(new Da(t._key,ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ml(r,e){if((r=(0,ce.m9)(r)).firestore!==e)throw new gt($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class t_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rc(e)}get(e){const t=Ml(e,this._firestore),s=new Qm(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Vt();const c=a[0];if(c.isFoundDocument())return new td(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new td(this._firestore,s,t._key,null,t.converter);throw Vt()})}set(e,t,s){const a=Ml(e,this._firestore),c=Jd(a.converter,t,s),f=gf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const c=Ml(e,this._firestore);let f;return f="string"==typeof(t=(0,ce.m9)(t))||t instanceof Yu?Xp(this._dataReader,"Transaction.update",c._key,t,s,a):Jp(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Ml(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ml(e,this._firestore),s=new xl(this._firestore);return super.get(e).then(a=>new ac(this._firestore,s,t._key,a._document,new oc(!1,!1),t.converter))}}function nh(r,e,t){r=Dr(r,Gi);const s=Object.assign(Object.assign({},e_),t);return function(a){if(a.maxAttempts<1)throw new gt($e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,f){const D=new Si;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const V=yield function Cm(r){return $d(r).then(e=>e.datastore)}(a);new wv(a.asyncQueue,V,f,c,D).run()})),D.promise}(Ps(r),a=>e(new t_(r,a)),s)}function n_(){return new Gd("deleteField")}function ay(){return new Qp("serverTimestamp")}function r_(...r){return new Nv("arrayUnion",r)}function uy(...r){return new kv("arrayRemove",r)}function i_(r){return new Fv("increment",r)}!function(r,e=!0){q=B.SDK_VERSION,(0,B._registerComponent)(new M.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Gi(new lu(t.getProvider("auth-internal")),new Mu(t.getProvider("app-check-internal")),function(D,V){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new gt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(D.options.projectId,V)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,B.registerVersion)(E,"3.12.1",r),(0,B.registerVersion)(E,"3.12.1","esm2017")}()},2090:(Zt,Me,H)=>{"use strict";H.d(Me,{$s:()=>er,BH:()=>ot,G6:()=>Ve,L:()=>ke,LL:()=>vn,P0:()=>ut,Pz:()=>nt,Sg:()=>pt,UG:()=>At,US:()=>be,ZB:()=>we,ZR:()=>Dt,aH:()=>Ze,b$:()=>Et,eu:()=>at,hl:()=>Ye,jU:()=>Wt,m9:()=>_r,ne:()=>hn,pd:()=>Wr,q4:()=>qe,r3:()=>$n,ru:()=>bt,tV:()=>ae,uI:()=>De,vZ:()=>xt,w1:()=>Un,xO:()=>nr,xb:()=>xn,z$:()=>ve,zI:()=>et,zd:()=>rr});const _e=function(ee){const L=[];let N=0;for(let $=0;$<ee.length;$++){let j=ee.charCodeAt($);j<128?L[N++]=j:j<2048?(L[N++]=j>>6|192,L[N++]=63&j|128):55296==(64512&j)&&$+1<ee.length&&56320==(64512&ee.charCodeAt($+1))?(j=65536+((1023&j)<<10)+(1023&ee.charCodeAt(++$)),L[N++]=j>>18|240,L[N++]=j>>12&63|128,L[N++]=j>>6&63|128,L[N++]=63&j|128):(L[N++]=j>>12|224,L[N++]=j>>6&63|128,L[N++]=63&j|128)}return L},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,L){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let j=0;j<ee.length;j+=3){const he=ee[j],oe=j+1<ee.length,le=oe?ee[j+1]:0,ie=j+2<ee.length,Ee=ie?ee[j+2]:0;let Jt=(15&le)<<2|Ee>>6,en=63&Ee;ie||(en=64,oe||(Jt=64)),$.push(N[he>>2],N[(3&he)<<4|le>>4],N[Jt],N[en])}return $.join("")},encodeString(ee,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(ee):this.encodeByteArray(_e(ee),L)},decodeString(ee,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(ee):function(ee){const L=[];let N=0,$=0;for(;N<ee.length;){const j=ee[N++];if(j<128)L[$++]=String.fromCharCode(j);else if(j>191&&j<224){const he=ee[N++];L[$++]=String.fromCharCode((31&j)<<6|63&he)}else if(j>239&&j<365){const ie=((7&j)<<18|(63&ee[N++])<<12|(63&ee[N++])<<6|63&ee[N++])-65536;L[$++]=String.fromCharCode(55296+(ie>>10)),L[$++]=String.fromCharCode(56320+(1023&ie))}else{const he=ee[N++],oe=ee[N++];L[$++]=String.fromCharCode((15&j)<<12|(63&he)<<6|63&oe)}}return L.join("")}(this.decodeStringToByteArray(ee,L))},decodeStringToByteArray(ee,L){this.init_();const N=L?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let j=0;j<ee.length;){const he=N[ee.charAt(j++)],le=j<ee.length?N[ee.charAt(j)]:0;++j;const Ee=j<ee.length?N[ee.charAt(j)]:64;++j;const ht=j<ee.length?N[ee.charAt(j)]:64;if(++j,null==he||null==le||null==Ee||null==ht)throw new Te;$.push(he<<2|le>>4),64!==Ee&&($.push(le<<4&240|Ee>>2),64!==ht&&$.push(Ee<<6&192|ht))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(ee){return function(ee){const L=_e(ee);return be.encodeByteArray(L,!0)}(ee).replace(/\./g,"")},ae=function(ee){try{return be.decodeString(ee,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function we(ee,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return L}for(const N in L)!L.hasOwnProperty(N)||!Qe(N)||(ee[N]=we(ee[N],L[N]));return ee}function Qe(ee){return"__proto__"!==ee}const rt=()=>{try{return function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=ee&&ae(ee[1]);return L&&JSON.parse(L)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},qe=ee=>{var L,N;return null===(N=null===(L=rt())||void 0===L?void 0:L.emulatorHosts)||void 0===N?void 0:N[ee]},ut=ee=>{const L=qe(ee);if(!L)return;const N=L.lastIndexOf(":");if(N<=0||N+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const $=parseInt(L.substring(N+1),10);return"["===L[0]?[L.substring(1,N-1),$]:[L.substring(0,N),$]},Ze=()=>{var ee;return null===(ee=rt())||void 0===ee?void 0:ee.config},nt=ee=>{var L;return null===(L=rt())||void 0===L?void 0:L[`_${ee}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,N)=>{this.resolve=L,this.reject=N})}wrapCallback(L){return(N,$)=>{N?this.reject(N):this.resolve($),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(N):L(N,$))}}}function pt(ee,L){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=L||"demo-project",j=ee.iat||0,he=ee.sub||ee.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:j,exp:j+3600,auth_time:j,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(oe)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function At(){var ee;const L=null===(ee=rt())||void 0===ee?void 0:ee.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Wt(){return"object"==typeof self&&self.self===self}function bt(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Un(){const ee=ve();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function Ve(){return!At()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){try{return"object"==typeof indexedDB}catch{return!1}}function at(){return new Promise((ee,L)=>{try{let N=!0;const $="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open($);j.onsuccess=()=>{j.result.close(),N||self.indexedDB.deleteDatabase($),ee(!0)},j.onupgradeneeded=()=>{N=!1},j.onerror=()=>{var he;L((null===(he=j.error)||void 0===he?void 0:he.message)||"")}}catch(N){L(N)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Dt extends Error{constructor(L,N,$){super(N),this.code=L,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(L,N,$){this.service=L,this.serviceName=N,this.errors=$}create(L,...N){const $=N[0]||{},j=`${this.service}/${L}`,he=this.errors[L],oe=he?function _t(ee,L){return ee.replace(St,(N,$)=>{const j=L[$];return null!=j?String(j):`<${$}?>`})}(he,$):"Error";return new Dt(j,`${this.serviceName}: ${oe} (${j}).`,$)}}const St=/\{\$([^}]+)}/g;function $n(ee,L){return Object.prototype.hasOwnProperty.call(ee,L)}function xn(ee){for(const L in ee)if(Object.prototype.hasOwnProperty.call(ee,L))return!1;return!0}function xt(ee,L){if(ee===L)return!0;const N=Object.keys(ee),$=Object.keys(L);for(const j of N){if(!$.includes(j))return!1;const he=ee[j],oe=L[j];if(sn(he)&&sn(oe)){if(!xt(he,oe))return!1}else if(he!==oe)return!1}for(const j of $)if(!N.includes(j))return!1;return!0}function sn(ee){return null!==ee&&"object"==typeof ee}function nr(ee){const L=[];for(const[N,$]of Object.entries(ee))Array.isArray($)?$.forEach(j=>{L.push(encodeURIComponent(N)+"="+encodeURIComponent(j))}):L.push(encodeURIComponent(N)+"="+encodeURIComponent($));return L.length?"&"+L.join("&"):""}function rr(ee){const L={};return ee.replace(/^\?/,"").split("&").forEach($=>{if($){const[j,he]=$.split("=");L[decodeURIComponent(j)]=decodeURIComponent(he)}}),L}function Wr(ee){const L=ee.indexOf("?");if(!L)return"";const N=ee.indexOf("#",L);return ee.substring(L,N>0?N:void 0)}function hn(ee,L){const N=new Lt(ee,L);return N.subscribe.bind(N)}class Lt{constructor(L,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{L(this)}).catch($=>{this.error($)})}next(L){this.forEachObserver(N=>{N.next(L)})}error(L){this.forEachObserver(N=>{N.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,N,$){let j;if(void 0===L&&void 0===N&&void 0===$)throw new Error("Missing Observer.");j=function sr(ee,L){if("object"!=typeof ee||null===ee)return!1;for(const N of L)if(N in ee&&"function"==typeof ee[N])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:N,complete:$},void 0===j.next&&(j.next=or),void 0===j.error&&(j.error=or),void 0===j.complete&&(j.complete=or);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),he}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,L)}sendOne(L,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{N(this.observers[L])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}const rn=1e3,ar=2,Yn=144e5,Ur=.5;function er(ee,L=rn,N=ar){const $=L*Math.pow(N,ee),j=Math.round(Ur*$*(Math.random()-.5)*2);return Math.min(Yn,$+j)}function _r(ee){return ee&&ee._delegate?ee._delegate:ee}},3264:(Zt,Me,H)=>{"use strict";H.d(Me,{g:()=>_r});var p=H(5861),B=H(6805),M=H(2961),ce=H(4650),be=H(4986),Te=H(9751),de=H(8996),ke=H(9646),ae=H(4976),ge=H(8675),we=H(4482),Qe=H(5403);function Xe(){return(0,we.e)((ee,L)=>{let N,$=!1;ee.subscribe((0,Qe.x)(L,j=>{const he=N;N=j,$&&L.next([he,j]),$=!0}))})}var ct=H(4004),It=H(5026),Fe=H(4671);function qe(ee,L){return ee===L}var ut=H(9300),Ze=H(2011),nt=H(6895),pt=(H(9568),H(3942)),ve=H(2810),De=H(2090),At=H(4859);function Et(ee,L){if(void 0===L)return{merge:!1};if(void 0!==L.mergeFields&&void 0!==L.merge)throw new ve.WA("invalid-argument",`Invalid options passed to function ${ee}(): You cannot specify both "merge" and "mergeFields".`);return L}function Tt(){if(typeof Uint8Array>"u")throw new ve.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Un(){if(!(0,ve.Me)())throw new ve.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class je{constructor(L){this._delegate=L}static fromBase64String(L){return Un(),new je(ve.Jj.fromBase64String(L))}static fromUint8Array(L){return Tt(),new je(ve.Jj.fromUint8Array(L))}toBase64(){return Un(),this._delegate.toBase64()}toUint8Array(){return Tt(),this._delegate.toUint8Array()}isEqual(L){return this._delegate.isEqual(L._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Re(ee){return function Ve(ee,L){if("object"!=typeof ee||null===ee)return!1;const N=ee;for(const $ of L)if($ in N&&"function"==typeof N[$])return!0;return!1}(ee,["next","error","complete"])}class Ye{enableIndexedDbPersistence(L,N){return(0,ve.ST)(L._delegate,{forceOwnership:N})}enableMultiTabIndexedDbPersistence(L){return(0,ve.fH)(L._delegate)}clearIndexedDbPersistence(L){return(0,ve.Fc)(L._delegate)}}class at{constructor(L,N,$){this._delegate=N,this._persistenceProvider=$,this.INTERNAL={delete:()=>this.terminate()},L instanceof ve.l7||(this._appCompat=L)}get _databaseId(){return this._delegate._databaseId}settings(L){const N=this._delegate._getSettings();!L.merge&&N.host!==L.host&&(0,ve.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),L.merge&&delete(L=Object.assign(Object.assign({},N),L)).merge,this._delegate._setSettings(L)}useEmulator(L,N,$={}){(0,ve.at)(this._delegate,L,N,$)}enableNetwork(){return(0,ve.Ix)(this._delegate)}disableNetwork(){return(0,ve.TF)(this._delegate)}enablePersistence(L){let N=!1,$=!1;return L&&(N=!!L.synchronizeTabs,$=!!L.experimentalForceOwningTab,(0,ve.Wi)("synchronizeTabs",N,"experimentalForceOwningTab",$)),N?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,$)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ve.Mx)(this._delegate)}onSnapshotsInSync(L){return(0,ve.sc)(this._delegate,L)}get app(){if(!this._appCompat)throw new ve.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(L){try{return new jn(this,(0,ve.hJ)(this._delegate,L))}catch(N){throw Xt(N,"collection()","Firestore.collection()")}}doc(L){try{return new St(this,(0,ve.JU)(this._delegate,L))}catch(N){throw Xt(N,"doc()","Firestore.doc()")}}collectionGroup(L){try{return new kt(this,(0,ve.B$)(this._delegate,L))}catch(N){throw Xt(N,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(L){return(0,ve.i3)(this._delegate,N=>L(new Dt(this,N)))}batch(){return(0,ve.qY)(this._delegate),new vn(new ve.PU(this._delegate,L=>(0,ve.GL)(this._delegate,L)))}loadBundle(L){return(0,ve.Pb)(this._delegate,L)}namedQuery(L){return(0,ve.L$)(this._delegate,L).then(N=>N?new kt(this,N):null)}}class et extends ve.u7{constructor(L){super(),this.firestore=L}convertBytes(L){return new je(new ve.Jj(L))}convertReference(L){const N=this.convertDocumentKey(L,this.firestore._databaseId);return St.forKey(N,this.firestore,null)}}class Dt{constructor(L,N){this._firestore=L,this._delegate=N,this._userDataWriter=new et(L)}get(L){const N=xn(L);return this._delegate.get(N).then($=>new zn(this._firestore,new ve.xU(this._firestore._delegate,this._userDataWriter,$._key,$._document,$.metadata,N.converter)))}set(L,N,$){const j=xn(L);return $?(Et("Transaction.set",$),this._delegate.set(j,N,$)):this._delegate.set(j,N),this}update(L,N,$,...j){const he=xn(L);return 2===arguments.length?this._delegate.update(he,N):this._delegate.update(he,N,$,...j),this}delete(L){const N=xn(L);return this._delegate.delete(N),this}}class vn{constructor(L){this._delegate=L}set(L,N,$){const j=xn(L);return $?(Et("WriteBatch.set",$),this._delegate.set(j,N,$)):this._delegate.set(j,N),this}update(L,N,$,...j){const he=xn(L);return 2===arguments.length?this._delegate.update(he,N):this._delegate.update(he,N,$,...j),this}delete(L){const N=xn(L);return this._delegate.delete(N),this}commit(){return this._delegate.commit()}}class _t{constructor(L,N,$){this._firestore=L,this._userDataWriter=N,this._delegate=$}fromFirestore(L,N){const $=new ve.$q(this._firestore._delegate,this._userDataWriter,L._key,L._document,L.metadata,null);return this._delegate.fromFirestore(new Ln(this._firestore,$),N??{})}toFirestore(L,N){return N?this._delegate.toFirestore(L,N):this._delegate.toFirestore(L)}static getInstance(L,N){const $=_t.INSTANCES;let j=$.get(L);j||(j=new WeakMap,$.set(L,j));let he=j.get(N);return he||(he=new _t(L,new et(L),N),j.set(N,he)),he}}_t.INSTANCES=new WeakMap;class St{constructor(L,N){this.firestore=L,this._delegate=N,this._userDataWriter=new et(L)}static forPath(L,N,$){if(L.length%2!=0)throw new ve.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${L.canonicalString()} has ${L.length}`);return new St(N,new ve.my(N._delegate,$,new ve.Ky(L)))}static forKey(L,N,$){return new St(N,new ve.my(N._delegate,$,L))}get id(){return this._delegate.id}get parent(){return new jn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(L){try{return new jn(this.firestore,(0,ve.hJ)(this._delegate,L))}catch(N){throw Xt(N,"collection()","DocumentReference.collection()")}}isEqual(L){return(L=(0,De.m9)(L))instanceof ve.my&&(0,ve.Eo)(this._delegate,L)}set(L,N){N=Et("DocumentReference.set",N);try{return N?(0,ve.pl)(this._delegate,L,N):(0,ve.pl)(this._delegate,L)}catch($){throw Xt($,"setDoc()","DocumentReference.set()")}}update(L,N,...$){try{return 1===arguments.length?(0,ve.r7)(this._delegate,L):(0,ve.r7)(this._delegate,L,N,...$)}catch(j){throw Xt(j,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ve.oe)(this._delegate)}onSnapshot(...L){const N=_n(L),$=Bn(L,j=>new zn(this.firestore,new ve.xU(this.firestore._delegate,this._userDataWriter,j._key,j._document,j.metadata,this._delegate.converter)));return(0,ve.cf)(this._delegate,N,$)}get(L){let N;return N="cache"===L?.source?(0,ve.kl)(this._delegate):"server"===L?.source?(0,ve.Xk)(this._delegate):(0,ve.QT)(this._delegate),N.then($=>new zn(this.firestore,new ve.xU(this.firestore._delegate,this._userDataWriter,$._key,$._document,$.metadata,this._delegate.converter)))}withConverter(L){return new St(this.firestore,this._delegate.withConverter(L?_t.getInstance(this.firestore,L):null))}}function Xt(ee,L,N){return ee.message=ee.message.replace(L,N),ee}function _n(ee){for(const L of ee)if("object"==typeof L&&!Re(L))return L;return{}}function Bn(ee,L){var N,$;let j;return j=Re(ee[0])?ee[0]:Re(ee[1])?ee[1]:"function"==typeof ee[0]?{next:ee[0],error:ee[1],complete:ee[2]}:{next:ee[1],error:ee[2],complete:ee[3]},{next:he=>{j.next&&j.next(L(he))},error:null===(N=j.error)||void 0===N?void 0:N.bind(j),complete:null===($=j.complete)||void 0===$?void 0:$.bind(j)}}class zn{constructor(L,N){this._firestore=L,this._delegate=N}get ref(){return new St(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(L){return this._delegate.data(L)}get(L,N){return this._delegate.get(L,N)}isEqual(L){return(0,ve.qK)(this._delegate,L._delegate)}}class Ln extends zn{data(L){const N=this._delegate.data(L);return(0,ve.K9)(void 0!==N,"Document in a QueryDocumentSnapshot should exist"),N}}class kt{constructor(L,N){this.firestore=L,this._delegate=N,this._userDataWriter=new et(L)}where(L,N,$){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.ar)(L,N,$)))}catch(j){throw Xt(j,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(L,N){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.Xo)(L,N)))}catch($){throw Xt($,/(orderBy|where)\(\)/,"Query.$1()")}}limit(L){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.b9)(L)))}catch(N){throw Xt(N,"limit()","Query.limit()")}}limitToLast(L){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.vh)(L)))}catch(N){throw Xt(N,"limitToLast()","Query.limitToLast()")}}startAt(...L){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.e0)(...L)))}catch(N){throw Xt(N,"startAt()","Query.startAt()")}}startAfter(...L){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.TQ)(...L)))}catch(N){throw Xt(N,"startAfter()","Query.startAfter()")}}endBefore(...L){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.Lx)(...L)))}catch(N){throw Xt(N,"endBefore()","Query.endBefore()")}}endAt(...L){try{return new kt(this.firestore,(0,ve.IO)(this._delegate,(0,ve.Wu)(...L)))}catch(N){throw Xt(N,"endAt()","Query.endAt()")}}isEqual(L){return(0,ve.iE)(this._delegate,L._delegate)}get(L){let N;return N="cache"===L?.source?(0,ve.UQ)(this._delegate):"server"===L?.source?(0,ve.zN)(this._delegate):(0,ve.PL)(this._delegate),N.then($=>new $n(this.firestore,new ve.W(this.firestore._delegate,this._userDataWriter,this._delegate,$._snapshot)))}onSnapshot(...L){const N=_n(L),$=Bn(L,j=>new $n(this.firestore,new ve.W(this.firestore._delegate,this._userDataWriter,this._delegate,j._snapshot)));return(0,ve.cf)(this._delegate,N,$)}withConverter(L){return new kt(this.firestore,this._delegate.withConverter(L?_t.getInstance(this.firestore,L):null))}}class Pt{constructor(L,N){this._firestore=L,this._delegate=N}get type(){return this._delegate.type}get doc(){return new Ln(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $n{constructor(L,N){this._firestore=L,this._delegate=N}get query(){return new kt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(L=>new Ln(this._firestore,L))}docChanges(L){return this._delegate.docChanges(L).map(N=>new Pt(this._firestore,N))}forEach(L,N){this._delegate.forEach($=>{L.call(N,new Ln(this._firestore,$))})}isEqual(L){return(0,ve.qK)(this._delegate,L._delegate)}}class jn extends kt{constructor(L,N){super(L,N),this.firestore=L,this._delegate=N}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const L=this._delegate.parent;return L?new St(this.firestore,L):null}doc(L){try{return new St(this.firestore,void 0===L?(0,ve.JU)(this._delegate):(0,ve.JU)(this._delegate,L))}catch(N){throw Xt(N,"doc()","CollectionReference.doc()")}}add(L){return(0,ve.ET)(this._delegate,L).then(N=>new St(this.firestore,N))}isEqual(L){return(0,ve.Eo)(this._delegate,L._delegate)}withConverter(L){return new jn(this.firestore,this._delegate.withConverter(L?_t.getInstance(this.firestore,L):null))}}function xn(ee){return(0,ve.Cf)(ee,ve.my)}class on{constructor(...L){this._delegate=new ve.Lz(...L)}static documentId(){return new on(ve.Xb.keyField().canonicalString())}isEqual(L){return(L=(0,De.m9)(L))instanceof ve.Lz&&this._delegate._internalPath.isEqual(L._internalPath)}}class xt{constructor(L){this._delegate=L}static serverTimestamp(){const L=(0,ve.Bt)();return L._methodName="FieldValue.serverTimestamp",new xt(L)}static delete(){const L=(0,ve.AK)();return L._methodName="FieldValue.delete",new xt(L)}static arrayUnion(...L){const N=(0,ve.vr)(...L);return N._methodName="FieldValue.arrayUnion",new xt(N)}static arrayRemove(...L){const N=(0,ve.Ab)(...L);return N._methodName="FieldValue.arrayRemove",new xt(N)}static increment(L){const N=(0,ve.nP)(L);return N._methodName="FieldValue.increment",new xt(N)}isEqual(L){return this._delegate.isEqual(L._delegate)}}const sn={Firestore:at,GeoPoint:ve.F8,Timestamp:ve.EK,Blob:je,Transaction:Dt,WriteBatch:vn,DocumentReference:St,DocumentSnapshot:zn,Query:kt,QueryDocumentSnapshot:Ln,QuerySnapshot:$n,CollectionReference:jn,FieldPath:on,FieldValue:xt,setLogLevel:function tt(ee){(0,ve.Ub)(ee)},CACHE_SIZE_UNLIMITED:ve.IX};!function nr(ee){(function Gn(ee,L){ee.INTERNAL.registerComponent(new At.wA("firestore-compat",N=>{const $=N.getProvider("app-compat").getImmediate(),j=N.getProvider("firestore").getImmediate();return L($,j)},"PUBLIC").setServiceProps(Object.assign({},sn)))})(ee,(L,N)=>new at(L,N,new Ye)),ee.registerVersion("@firebase/firestore-compat","0.3.10")}(pt.Z);var rr=H(1205),Wr=H(2313);function Lt(ee,L){return function hn(ee,L=be.z){return new Te.y(N=>{let $;return null!=L?L.schedule(()=>{$=ee.onSnapshot({includeMetadataChanges:!0},N)}):$=ee.onSnapshot({includeMetadataChanges:!0},N),()=>{$?.()}})}(ee,L)}function sr(ee,L){return Lt(ee,L).pipe((0,ct.U)(N=>({payload:N,type:"query"})))}function or(ee,L){return sr(ee,L).pipe((0,ge.O)(void 0),Xe(),(0,ct.U)(([N,$])=>{const j=$.payload.docChanges(),he=j.map(oe=>({type:oe.type,payload:oe}));return N&&JSON.stringify(N.payload.metadata)!==JSON.stringify($.payload.metadata)&&$.payload.docs.forEach((oe,le)=>{const ie=j.find(Ue=>Ue.doc.ref.isEqual(oe.ref)),Ee=N?.payload.docs.find(Ue=>Ue.ref.isEqual(oe.ref));ie&&JSON.stringify(ie.doc.metadata)===JSON.stringify(oe.metadata)||!ie&&Ee&&JSON.stringify(Ee.metadata)===JSON.stringify(oe.metadata)||he.push({type:"modified",payload:{oldIndex:le,newIndex:le,type:"modified",doc:oe}})}),he}))}function Xn(ee,L,N){return or(ee,N).pipe((0,It.R)(($,j)=>function kr(ee,L,N){return L.forEach($=>{N.indexOf($.type)>-1&&(ee=function pr(ee,L){switch(L.type){case"added":if(!ee[L.newIndex]||!ee[L.newIndex].doc.ref.isEqual(L.doc.ref))return vr(ee,L.newIndex,0,L);break;case"modified":if(null==ee[L.oldIndex]||ee[L.oldIndex].doc.ref.isEqual(L.doc.ref)){if(L.oldIndex!==L.newIndex){const N=ee.slice();return N.splice(L.oldIndex,1),N.splice(L.newIndex,0,L),N}return vr(ee,L.newIndex,1,L)}break;case"removed":if(ee[L.oldIndex]&&ee[L.oldIndex].doc.ref.isEqual(L.doc.ref))return vr(ee,L.oldIndex,1)}return ee}(ee,$))}),ee}($,j.map(he=>he.payload),L),[]),function rt(ee,L=Fe.y){return ee=ee??qe,(0,we.e)((N,$)=>{let j,he=!0;N.subscribe((0,Qe.x)($,oe=>{const le=L(oe);(he||!ee(j,le))&&(he=!1,j=le,$.next(oe))}))})}(),(0,ct.U)($=>$.map(j=>({type:j.type,payload:j}))))}function vr(ee,L,N,...$){const j=ee.slice();return j.splice(L,N,...$),j}function In(ee){return(!ee||0===ee.length)&&(ee=["added","removed","modified"]),ee}H(9260);class Fr{constructor(L,N,$){this.ref=L,this.query=N,this.afs=$}stateChanges(L){let N=or(this.query,this.afs.schedulers.outsideAngular);return L&&L.length>0&&(N=N.pipe((0,ct.U)($=>$.filter(j=>L.indexOf(j.type)>-1)))),N.pipe((0,ge.O)(void 0),Xe(),(0,ut.h)(([$,j])=>j.length>0||!$),(0,ct.U)(([$,j])=>j),ae.iC)}auditTrail(L){return this.stateChanges(L).pipe((0,It.R)((N,$)=>[...N,...$],[]))}snapshotChanges(L){const N=In(L);return Xn(this.query,N,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(L={}){return sr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(N=>N.payload.docs.map($=>L.idField?Object.assign(Object.assign({},$.data()),{[L.idField]:$.id}):$.data())),ae.iC)}get(L){return(0,de.D)(this.query.get(L)).pipe(ae.iC)}add(L){return this.ref.add(L)}doc(L){return new bn(this.ref.doc(L),this.afs)}}class bn{constructor(L,N){this.ref=L,this.afs=N}set(L,N){return this.ref.set(L,N)}update(L){return this.ref.update(L)}delete(){return this.ref.delete()}collection(L,N){const $=this.ref.collection(L),{ref:j,query:he}=er($,N);return new Fr(j,he,this.afs)}snapshotChanges(){return function Ct(ee,L){return Lt(ee,L).pipe((0,ge.O)(void 0),Xe(),(0,ct.U)(([N,$])=>$.exists?N?.exists?{payload:$,type:"modified"}:{payload:$,type:"added"}:{payload:$,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(L={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:N})=>L.idField?Object.assign(Object.assign({},N.data()),{[L.idField]:N.id}):N.data()))}get(L){return(0,de.D)(this.ref.get(L)).pipe(ae.iC)}}class qt{constructor(L,N){this.query=L,this.afs=N}stateChanges(L){return L&&0!==L.length?or(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(N=>N.filter($=>L.indexOf($.type)>-1)),(0,ut.h)(N=>N.length>0),ae.iC):or(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(L){return this.stateChanges(L).pipe((0,It.R)((N,$)=>[...N,...$],[]))}snapshotChanges(L){const N=In(L);return Xn(this.query,N,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(L={}){return sr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)($=>$.payload.docs.map(j=>L.idField?Object.assign({[L.idField]:j.id},j.data()):j.data())),ae.iC)}get(L){return(0,de.D)(this.query.get(L)).pipe(ae.iC)}}const rn=new ce.OlP("angularfire2.enableFirestorePersistence"),ar=new ce.OlP("angularfire2.firestore.persistenceSettings"),Yn=new ce.OlP("angularfire2.firestore.settings"),Ur=new ce.OlP("angularfire2.firestore.use-emulator");function er(ee,L=(N=>N)){return{query:L(ee),ref:ee}}let Lr=(()=>{class ee{constructor(N,$,j,he,oe,le,ie,Ee,Ue,ht,Jt,en,Vn,Ar,We,Oe,wt){this.schedulers=ie;const Ht=(0,Ze.on)(N,le,$),an=Ue;ht&&(0,rr.nw)(Ht,le,Jt,Vn,Ar,We,en,Oe),[this.firestore,this.persistenceEnabled$]=(0,Ze.cc)(`${Ht.name}.firestore`,"AngularFirestore",Ht.name,()=>{const Dn=le.runOutsideAngular(()=>Ht.firestore());if(he&&Dn.settings(he),an&&Dn.useEmulator(...an),j&&!(0,nt.PM)(oe)){const Yt=()=>{try{return(0,de.D)(Dn.enablePersistence(Ee||void 0).then(()=>!0,()=>!1))}catch(On){return typeof console<"u"&&console.warn(On),(0,ke.of)(!1)}};return[Dn,le.runOutsideAngular(Yt)]}return[Dn,(0,ke.of)(!1)]},[he,an,j])}collection(N,$){let j;j="string"==typeof N?this.firestore.collection(N):N;const{ref:he,query:oe}=er(j,$),le=this.schedulers.ngZone.run(()=>he);return new Fr(le,oe,this)}collectionGroup(N,$){const j=$||(oe=>oe),he=this.firestore.collectionGroup(N);return new qt(j(he),this)}doc(N){let $;$="string"==typeof N?this.firestore.doc(N):N;const j=this.schedulers.ngZone.run(()=>$);return new bn(j,this)}createId(){return this.firestore.collection("_").doc().id}}return ee.\u0275fac=function(N){return new(N||ee)(ce.LFG(Ze.Dh),ce.LFG(Ze.xv,8),ce.LFG(rn,8),ce.LFG(Yn,8),ce.LFG(ce.Lbi),ce.LFG(ce.R0b),ce.LFG(ae.HU),ce.LFG(ar,8),ce.LFG(Ur,8),ce.LFG(rr.zQ,8),ce.LFG(rr.Qv,8),ce.LFG(rr.L6,8),ce.LFG(rr._Q,8),ce.LFG(rr.rT,8),ce.LFG(rr.lh,8),ce.LFG(rr.f7,8),ce.LFG(Wr.nm,8))},ee.\u0275prov=ce.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"any"}),ee})(),_r=(()=>{class ee{constructor(N,$){this.firestore=N,this.ngFsAu=$}register(N,$){var j=this;return(0,p.Z)(function*(){let he=null;try{he=yield j.ngFsAu.createUserWithEmailAndPassword(N,$),(yield j.ngFsAu.currentUser)?.sendEmailVerification().then((0,p.Z)(function*(){}))}catch(oe){throw oe.message}return he})()}login(N,$){var j=this;return(0,p.Z)(function*(){let he=null;try{he=yield j.ngFsAu.signInWithEmailAndPassword(N,$)}catch(oe){throw oe.message}return he})()}logout(){var N=this;return(0,p.Z)(function*(){try{yield N.ngFsAu.signOut()}catch($){console.log($)}})()}getUser(){return this.ngFsAu.user}traer(N){return this.firestore.collection(N).valueChanges()}traerUsu(N,$){return function _e(ee,L){const N="object"==typeof L;return new Promise(($,j)=>{const he=new M.Hp({next:oe=>{$(oe),he.unsubscribe()},error:j,complete:()=>{N?$(L.defaultValue):j(new B.K)}});ee.subscribe(he)})}(this.firestore.collection(N,he=>he.where("mail","==",$)).valueChanges())}guardarObjeto(N,$){const j={};for(const oe in N)j[oe]=N[oe];const he=this.firestore.doc($+"/"+this.firestore.createId());j.id=he.ref.id,he.set(j)}modificarObjeto(N,$){const j=this.firestore.doc($+"/"+N.id),he={};for(const oe in N)he[oe]=N[oe];j.update(he)}eliminarObjeto(N,$){this.firestore.doc($+"/"+N).delete()}guardarObjetoSinID(N,$){const j=this.firestore.collection($),he={};for(const oe in N)he[oe]=N[oe];j.add(he)}}return ee.\u0275fac=function(N){return new(N||ee)(ce.LFG(Lr),ce.LFG(rr.zQ))},ee.\u0275prov=ce.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},1645:(Zt,Me,H)=>{"use strict";var p=H(1481),B=H(9051),M=H(4650);let _e=(()=>{class mt{}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275cmp=M.Xpm({type:mt,selectors:[["app-home"]],decls:29,vars:0,consts:[[1,"contenedor"],[1,"contenedor__imagen"],[1,"imagen__texto"],[1,"contenedor__info"],[1,"info__imagen"],["src","../../../assets/mapa.png","alt","Img Mapa",2,"width","30px","height","30px"],["src","../../../assets/telefono.png","alt","Img Telefono",2,"width","25px","height","25px"],["src","../../../assets/colectivo.png","alt","Img Colectivo",2,"width","25px","height","25px"],["src","../../../assets/tren.png","alt","Img Tren",2,"width","25px","height","25px"]],template:function(Mt,Pn){1&Mt&&(M.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),M._uU(3,"Bienvenido a la"),M.qZA(),M.TgZ(4,"h1",2),M._uU(5,"Clinica Torrez"),M.qZA()(),M.TgZ(6,"div",3)(7,"h3"),M._uU(8,"Ubicacion Centro M\xe9dico"),M.qZA(),M.TgZ(9,"div",4),M._UZ(10,"img",5),M.TgZ(11,"p"),M._uU(12,"Calle Falsa 123, Vicente L\xf3pez"),M.qZA()(),M.TgZ(13,"div",4),M._UZ(14,"img",6),M.TgZ(15,"p"),M._uU(16,"0810 222 2748 (Administracion)"),M.qZA()(),M.TgZ(17,"p"),M._uU(18,"Atenci\xf3n con turno previo: Lunes a Viernes de 8 a 19 hs. - S\xe1bados de 8 a 14 hs."),M.qZA(),M.TgZ(19,"h5"),M._uU(20,"\xbfComo llego?"),M.qZA(),M.TgZ(21,"div",4),M._UZ(22,"img",7),M.TgZ(23,"p"),M._uU(24,"Colectivos: 19, 21, 60, 71, 130, 151, 152, 161, 168, 184, 203, 314, 365, 410, 430"),M.qZA()(),M.TgZ(25,"div",4),M._UZ(26,"img",8),M.TgZ(27,"p"),M._uU(28,'Tren: Mitre - Estaci\xf3n "Vicente L\xf3pez" / Belgrano Norte - Estaci\xf3n "Arist\xf3bulo del Valle"'),M.qZA()()()())},styles:[".contenedor[_ngcontent-%COMP%]{margin-top:1em;display:flex;flex-direction:column;align-items:center}.contenedor__imagen[_ngcontent-%COMP%]{background-image:url(hospital.65d9cf40b051645a.jpg);width:70em;height:14em;padding:2em}.imagen__texto[_ngcontent-%COMP%]{display:flex;justify-content:center}.contenedor__info[_ngcontent-%COMP%]{margin-top:1em}.info__imagen[_ngcontent-%COMP%]{display:flex}"]}),mt})();var ce=H(5861),be=H(433),Te=H(3998),de=H.n(Te),ke=H(3264),ae=H(6895);function ge(mt,yn){1&mt&&M._UZ(0,"img",3)}function we(mt,yn){1&mt&&(M.TgZ(0,"small",18),M._uU(1,"El email es requerido"),M.qZA())}function Qe(mt,yn){1&mt&&(M.TgZ(0,"small",18),M._uU(1,"El email debe tener el formato correspondiente"),M.qZA())}function Xe(mt,yn){1&mt&&(M.TgZ(0,"small",18),M._uU(1,"El email no puede contener espacios"),M.qZA())}function ct(mt,yn){1&mt&&(M.TgZ(0,"small",18),M._uU(1,"La clave es requerida"),M.qZA())}function It(mt,yn){1&mt&&(M.TgZ(0,"small",18),M._uU(1,"La clave no puede contener espacios"),M.qZA())}function Fe(mt,yn){if(1&mt){const Mt=M.EpF();M.TgZ(0,"div",4)(1,"h2",5),M._uU(2," Ingreso "),M.qZA(),M.TgZ(3,"div",6),M._UZ(4,"img",7),M.qZA(),M.TgZ(5,"form",8),M.NdJ("ngSubmit",function(){M.CHM(Mt);const xr=M.oxw();return M.KtG(xr.ingresar())}),M.TgZ(6,"label",9),M._uU(7,"Mail:"),M.qZA(),M._UZ(8,"br")(9,"input",10)(10,"br"),M.YNc(11,we,2,0,"small",11),M.YNc(12,Qe,2,0,"small",11),M.YNc(13,Xe,2,0,"small",11),M._UZ(14,"br"),M.TgZ(15,"label",12),M._uU(16,"Contrase\xf1a:"),M.qZA(),M._UZ(17,"br")(18,"input",13)(19,"br"),M.YNc(20,ct,2,0,"small",11),M.YNc(21,It,2,0,"small",11),M._UZ(22,"br")(23,"br")(24,"input",14),M.qZA(),M.TgZ(25,"div",15)(26,"button",16),M.NdJ("click",function(){M.CHM(Mt);const xr=M.oxw();return M.KtG(xr.llenar("Leo@gmail.com","chau1234"))}),M._uU(27,"Admin"),M.qZA(),M.TgZ(28,"button",17),M.NdJ("click",function(){M.CHM(Mt);const xr=M.oxw();return M.KtG(xr.llenar("Ailen@gmail.com","hola1234"))}),M._uU(29,"Especialista"),M.qZA(),M.TgZ(30,"button",16),M.NdJ("click",function(){M.CHM(Mt);const xr=M.oxw();return M.KtG(xr.llenar("Pepe@gmail.com","hola1234"))}),M._uU(31,"Paciente"),M.qZA()()()}if(2&mt){const Mt=M.oxw();M.xp6(5),M.Q6J("formGroup",Mt.formLogin),M.xp6(6),M.Q6J("ngIf",(null==Mt.formLogin.controls.emailR.errors?null:Mt.formLogin.controls.emailR.errors.required)&&Mt.formLogin.controls.emailR.touched),M.xp6(1),M.Q6J("ngIf",(null==Mt.formLogin.controls.emailR.errors?null:Mt.formLogin.controls.emailR.errors.email)&&Mt.formLogin.controls.emailR.touched),M.xp6(1),M.Q6J("ngIf",(null==Mt.formLogin.controls.emailR.errors?null:Mt.formLogin.controls.emailR.errors.containsSpaces)&&Mt.formLogin.controls.emailR.touched),M.xp6(7),M.Q6J("ngIf",(null==Mt.formLogin.controls.claveR.errors?null:Mt.formLogin.controls.claveR.errors.required)&&Mt.formLogin.controls.claveR.touched),M.xp6(1),M.Q6J("ngIf",(null==Mt.formLogin.controls.claveR.errors?null:Mt.formLogin.controls.claveR.errors.containsSpaces)&&Mt.formLogin.controls.claveR.touched),M.xp6(3),M.Q6J("disabled",Mt.formLogin.invalid)}}const ut=[{path:"home",component:_e},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class mt{constructor(Mt,Pn,xr){this.fb=Mt,this.servBase=Pn,this.router=xr,this.miUsuario={},this.spinner=!1,this.formLogin=this.fb.group({emailR:["",[be.kI.required,be.kI.email,this.spacesValidator]],claveR:["",[be.kI.required,this.spacesValidator]]})}spacesValidator(Mt){return Mt.value.includes(" ")?{containsSpaces:!0}:null}ingresar(){var Mt=this;return(0,ce.Z)(function*(){Mt.spinner=!0;const{emailR:Pn,claveR:xr}=Mt.formLogin.value;let wr;const hi=yield Mt.servBase.login(Pn.toLocaleLowerCase(),xr).catch(Qi=>{de().fire(Qi,"Haga click para continuar","error"),Mt.router.navigateByUrl("home")});null!=hi&&(hi?.user?.emailVerified||"pepe@gmail.com"==hi?.user?.email||"ailen@gmail.com"==hi?.user?.email||"leo@gmail.com"==hi?.user?.email?(wr=yield Mt.servBase.traerUsu("Usuarios",Pn.toLocaleLowerCase()),"especialista"==wr[0].perfil&&0==wr[0].activo?(Mt.servBase.logout(),de().fire("Su usuario todavia no ha sido habilitado","Haga click para continuar","error")):de().fire("Bienvenido "+hi?.user.email+"!","Haga click para continuar","success")):(Mt.servBase.logout(),de().fire("Debes verificar el mail antes de loguearte!","Haga click para continuar","error")),Mt.router.navigateByUrl("home")),Mt.spinner=!1})()}llenar(Mt,Pn){this.formLogin.setValue({emailR:Mt,claveR:Pn})}}return mt.\u0275fac=function(Mt){return new(Mt||mt)(M.Y36(be.qu),M.Y36(ke.g),M.Y36(B.F0))},mt.\u0275cmp=M.Xpm({type:mt,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"wrapper","fadeInDown"],["class","mt-5 pt-5 h-25 w-25","src","./assets/spinner.gif","alt","spinner",4,"ngIf"],["id","formContent",4,"ngIf"],["src","./assets/spinner.gif","alt","spinner",1,"mt-5","pt-5","h-25","w-25"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./assets/login.png","id","icon","alt","User Icon",2,"width","30px"],[3,"formGroup","ngSubmit"],["for","emailR"],["type","text","id","emailR","name","registroEmail","placeholder","Ingrese mail","formControlName","emailR",1,"fadeIn","second"],["class","invalid",4,"ngIf"],["for","claveR"],["type","password","id","claveR","name","registroClave","placeholder","Ingrese contrase\xf1a","formControlName","claveR",1,"fadeIn","third"],["type","submit","value","Ingresar",1,"fadeIn","fourth",3,"disabled"],[1,"row","justify-content-center","mb-2"],[1,"fadeIn","fourth","p-2","col-2",3,"click"],[1,"fadeIn","fourth","p-2","col-3",3,"click"],[1,"invalid"]],template:function(Mt,Pn){1&Mt&&(M.TgZ(0,"div",0),M.YNc(1,ge,1,0,"img",1),M.YNc(2,Fe,32,7,"div",2),M.qZA()),2&Mt&&(M.xp6(1),M.Q6J("ngIf",1==Pn.spinner),M.xp6(1),M.Q6J("ngIf",0==Pn.spinner))},dependencies:[ae.O5,be._Y,be.Fj,be.JJ,be.JL,be.sg,be.u],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.invalid[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{margin-right:1em;border-radius:.4em;background-color:#51e0d2}']}),mt})()},{path:"registro",loadChildren:()=>Promise.all([H.e(592),H.e(356)]).then(H.bind(H,7356)).then(mt=>mt.MRegistroModule)},{path:"usuarios",loadChildren:()=>Promise.all([H.e(592),H.e(698)]).then(H.bind(H,908)).then(mt=>mt.MUsuariosModule)},{path:"**",component:(()=>{class mt{}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275cmp=M.Xpm({type:mt,selectors:[["app-not-found"]],decls:12,vars:0,consts:[[1,"container","mt-1"],[1,"text-center"],[1,"display-1","fw-bold"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","/home",1,"btn","btn-primary"]],template:function(Mt,Pn){1&Mt&&(M.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),M._uU(3,"404"),M.qZA(),M.TgZ(4,"p",3)(5,"span",4),M._uU(6,"Opps!"),M.qZA(),M._uU(7," P\xe1gina no encontrada."),M.qZA(),M.TgZ(8,"p",5),M._uU(9," La p\xe1gina que buscas no existe. "),M.qZA(),M.TgZ(10,"a",6),M._uU(11,"Ir al Inicio"),M.qZA()()())},dependencies:[B.rH]}),mt})()}];let Ze=(()=>{class mt{}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275mod=M.oAB({type:mt}),mt.\u0275inj=M.cJS({imports:[B.Bz.forRoot(ut),B.Bz]}),mt})();var nt=H(727);function ot(mt,yn){1&mt&&(M.TgZ(0,"li",5)(1,"a",10),M._uU(2,"Ingresar"),M.qZA()())}function pt(mt,yn){1&mt&&(M.TgZ(0,"li",5)(1,"a",11),M._uU(2,"Registrarse"),M.qZA()())}function ve(mt,yn){1&mt&&(M.TgZ(0,"li",5)(1,"a",12),M._uU(2,"Usuarios"),M.qZA()())}function De(mt,yn){1&mt&&(M.TgZ(0,"li",5)(1,"a",13),M._uU(2,"Perfil"),M.qZA()())}function At(mt,yn){if(1&mt){const Mt=M.EpF();M.TgZ(0,"li",5)(1,"a",14),M.NdJ("click",function(){M.CHM(Mt);const xr=M.oxw();return M.KtG(xr.salir())}),M._uU(2,"Salir"),M.qZA()()}}let Wt=(()=>{class mt{constructor(Mt){this.servBase=Mt,this.usu=null,this.sus=nt.w0.EMPTY}ngOnInit(){this.sus=this.servBase.getUser().subscribe(Mt=>{null!=Mt?this.servBase.traerUsu("Usuarios",Mt?.email).then(Pn=>{this.usu=Pn[0]}):this.usu=null})}salir(){this.servBase.logout()}}return mt.\u0275fac=function(Mt){return new(Mt||mt)(M.Y36(ke.g))},mt.\u0275cmp=M.Xpm({type:mt,selectors:[["app-menu"]],decls:23,vars:5,consts:[[1,"container-fluid","bg-dark","flexHeader"],[1,"text-white"],["routerLink","home",1,"text-white"],[1,"list-unstyled","list-inline"],["class","list-inline-item p-3",4,"ngIf"],[1,"list-inline-item","p-3"],["routerLink","misTurnos",1,"text-white"],["routerLink","solTur",1,"text-white"],["routerLink","pacientes",1,"text-white"],["routerLink","graficos",1,"text-white"],["routerLink","login",1,"text-white"],["routerLink","registro",1,"text-white"],["routerLink","usuarios",1,"text-white"],["routerLink","perfil",1,"text-white"],["routerLink","home",1,"text-white",3,"click"]],template:function(Mt,Pn){1&Mt&&(M.TgZ(0,"div",0)(1,"h4",1)(2,"a",2),M._uU(3,"Clinica - Torrez"),M.qZA()(),M.TgZ(4,"nav")(5,"ul",3),M.YNc(6,ot,3,0,"li",4),M.YNc(7,pt,3,0,"li",4),M.YNc(8,ve,3,0,"li",4),M.TgZ(9,"li",5)(10,"a",6),M._uU(11,"Mis Turnos"),M.qZA()(),M.YNc(12,De,3,0,"li",4),M.TgZ(13,"li",5)(14,"a",7),M._uU(15,"Solicitar Turnos"),M.qZA()(),M.TgZ(16,"li",5)(17,"a",8),M._uU(18,"Pacientes"),M.qZA()(),M.TgZ(19,"li",5)(20,"a",9),M._uU(21,"Graficos"),M.qZA()(),M.YNc(22,At,3,0,"li",4),M.qZA()()()),2&Mt&&(M.xp6(6),M.Q6J("ngIf",!(null!=Pn.usu&&Pn.usu.mail)),M.xp6(1),M.Q6J("ngIf",!(null!=Pn.usu&&Pn.usu.mail)),M.xp6(1),M.Q6J("ngIf","administrador"==(null==Pn.usu?null:Pn.usu.perfil)),M.xp6(4),M.Q6J("ngIf",null==Pn.usu?null:Pn.usu.mail),M.xp6(10),M.Q6J("ngIf",null==Pn.usu?null:Pn.usu.mail))},dependencies:[ae.O5,B.rH],styles:[".flexHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),mt})(),bt=(()=>{class mt{constructor(){this.title="TP_Clinica"}}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275cmp=M.Xpm({type:mt,selectors:[["app-root"]],decls:2,vars:0,template:function(Mt,Pn){1&Mt&&M._UZ(0,"app-menu")(1,"router-outlet")},dependencies:[B.lC,Wt]}),mt})();var Et=H(3692);const Tt={firebase:{projectId:"clinicaonline-torrez",appId:"1:318880997494:web:87bee2cbe03c238c42ff57",storageBucket:"clinicaonline-torrez.appspot.com",apiKey:"AIzaSyDadBJuMHn632Cpap3yOE1eGF9IjkjGuyI",authDomain:"clinicaonline-torrez.firebaseapp.com",messagingSenderId:"318880997494"}};var Un=H(4976),je=H(259),Re=H(2313),Ve=H(1389);H(2090),H(6881),H(1877),H(4859);class vn{constructor(yn){return yn}}class _t{constructor(){return(0,Un.vb)("auth")}}const Xt=new M.OlP("angularfire2.auth-instances");function Bn(mt){return(yn,Mt)=>{const Pn=yn.runOutsideAngular(()=>mt(Mt));return new vn(Pn)}}const zn={provide:_t,deps:[[new M.FiY,Xt]]},Ln={provide:vn,useFactory:function _n(mt,yn){const Mt=(0,Un.JM)("auth",mt,yn);return Mt&&new vn(Mt)},deps:[[new M.FiY,Xt],Et.Ot]};let kt=(()=>{class mt{constructor(){(0,je.KN)("angularfire",Un.q4.full,"auth")}}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275mod=M.oAB({type:mt}),mt.\u0275inj=M.cJS({providers:[Ln,zn]}),mt})();function Pt(mt,...yn){return{ngModule:kt,providers:[{provide:Xt,useFactory:Bn(mt),multi:!0,deps:[M.R0b,M.zs3,Un.HU,Et.z6,[new M.FiY,Re.nm],...yn]}]}}const Lt=(0,Un.u3)(Ve.o,!0);var Yt=H(2810);class On{constructor(yn){return yn}}const kn="firestore",mi=new M.OlP("angularfire2.firestore-instances");function Oi(mt){return(yn,Mt)=>{const Pn=yn.runOutsideAngular(()=>mt(Mt));return new On(Pn)}}const Rr={provide:class Br{constructor(){return(0,Un.vb)(kn)}},deps:[[new M.FiY,mi]]},Bt={provide:On,useFactory:function $r(mt,yn){const Mt=(0,Un.JM)(kn,mt,yn);return Mt&&new On(Mt)},deps:[[new M.FiY,mi],Et.Ot]};let Tn=(()=>{class mt{constructor(){(0,je.KN)("angularfire",Un.q4.full,"fst")}}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275mod=M.oAB({type:mt}),mt.\u0275inj=M.cJS({providers:[Bt,Rr]}),mt})();function br(mt,...yn){return{ngModule:Tn,providers:[{provide:mi,useFactory:Oi(mt),multi:!0,deps:[M.R0b,M.zs3,Un.HU,Et.z6,[new M.FiY,_t],[new M.FiY,Re.nm],...yn]}]}}const ti=(0,Un.u3)(Yt.ad,!0);var ps=H(2011),lo=H(1205);let Yi=(()=>{class mt{}return mt.\u0275fac=function(Mt){return new(Mt||mt)},mt.\u0275mod=M.oAB({type:mt,bootstrap:[bt]}),mt.\u0275inj=M.cJS({providers:[{provide:ps.Dh,useValue:Tt.firebase}],imports:[p.b2,Ze,be.u5,(0,Et.hX)(()=>(0,Et.ZF)(Tt.firebase)),br(()=>ti()),Pt(()=>Lt()),lo.ww,be.UX]}),mt})();p.q6().bootstrapModule(Yi).catch(mt=>console.error(mt))},9751:(Zt,Me,H)=>{"use strict";H.d(Me,{y:()=>de});var p=H(2961),B=H(727),M=H(8822),_e=H(9635),ce=H(2416),be=H(576),Te=H(2806);let de=(()=>{class we{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const ct=new we;return ct.source=this,ct.operator=Xe,ct}subscribe(Xe,ct,It){const Fe=function ge(we){return we&&we instanceof p.Lv||function ae(we){return we&&(0,be.m)(we.next)&&(0,be.m)(we.error)&&(0,be.m)(we.complete)}(we)&&(0,B.Nn)(we)}(Xe)?Xe:new p.Hp(Xe,ct,It);return(0,Te.x)(()=>{const{operator:rt,source:qe}=this;Fe.add(rt?rt.call(Fe,qe):qe?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(ct){Xe.error(ct)}}forEach(Xe,ct){return new(ct=ke(ct))((It,Fe)=>{const rt=new p.Hp({next:qe=>{try{Xe(qe)}catch(ut){Fe(ut),rt.unsubscribe()}},error:Fe,complete:It});this.subscribe(rt)})}_subscribe(Xe){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Xe)}[M.L](){return this}pipe(...Xe){return(0,_e.U)(Xe)(this)}toPromise(Xe){return new(Xe=ke(Xe))((ct,It)=>{let Fe;this.subscribe(rt=>Fe=rt,rt=>It(rt),()=>ct(Fe))})}}return we.create=Qe=>new we(Qe),we})();function ke(we){var Qe;return null!==(Qe=we??ce.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(Zt,Me,H)=>{"use strict";H.d(Me,{x:()=>Te});var p=H(9751),B=H(727);const _e=(0,H(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=H(8737),be=H(2806);let Te=(()=>{class ke extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const we=new de(this,this);return we.operator=ge,we}_throwIfClosed(){if(this.closed)throw new _e}next(ge){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(ge)}})}error(ge){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:we}=this;for(;we.length;)we.shift().error(ge)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:we,isStopped:Qe,observers:Xe}=this;return we||Qe?B.Lc:(this.currentObservers=null,Xe.push(ge),new B.w0(()=>{this.currentObservers=null,(0,ce.P)(Xe,ge)}))}_checkFinalizedStatuses(ge){const{hasError:we,thrownError:Qe,isStopped:Xe}=this;we?ge.error(Qe):Xe&&ge.complete()}asObservable(){const ge=new p.y;return ge.source=this,ge}}return ke.create=(ae,ge)=>new de(ae,ge),ke})();class de extends Te{constructor(ae,ge){super(),this.destination=ae,this.source=ge}next(ae){var ge,we;null===(we=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===we||we.call(ge,ae)}error(ae){var ge,we;null===(we=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===we||we.call(ge,ae)}complete(){var ae,ge;null===(ge=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===ge||ge.call(ae)}_subscribe(ae){var ge,we;return null!==(we=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(ae))&&void 0!==we?we:B.Lc}}},2961:(Zt,Me,H)=>{"use strict";H.d(Me,{Hp:()=>It,Lv:()=>we});var p=H(576),B=H(727),M=H(2416),_e=H(7849);function ce(){}const be=ke("C",void 0,void 0);function ke(Ze,nt,ot){return{kind:Ze,value:nt,error:ot}}var ae=H(3410),ge=H(2806);class we extends B.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,B.Nn)(nt)&&nt.add(this)):this.destination=ut}static create(nt,ot,pt){return new It(nt,ot,pt)}next(nt){this.isStopped?qe(function de(Ze){return ke("N",Ze,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?qe(function Te(Ze){return ke("E",void 0,Ze)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?qe(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Xe(Ze,nt){return Qe.call(Ze,nt)}class ct{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:ot}=this;if(ot.next)try{ot.next(nt)}catch(pt){Fe(pt)}}error(nt){const{partialObserver:ot}=this;if(ot.error)try{ot.error(nt)}catch(pt){Fe(pt)}else Fe(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(ot){Fe(ot)}}}class It extends we{constructor(nt,ot,pt){let ve;if(super(),(0,p.m)(nt)||!nt)ve={next:nt??void 0,error:ot??void 0,complete:pt??void 0};else{let De;this&&M.v.useDeprecatedNextContext?(De=Object.create(nt),De.unsubscribe=()=>this.unsubscribe(),ve={next:nt.next&&Xe(nt.next,De),error:nt.error&&Xe(nt.error,De),complete:nt.complete&&Xe(nt.complete,De)}):ve=nt}this.destination=new ct(ve)}}function Fe(Ze){M.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Ze):(0,_e.h)(Ze)}function qe(Ze,nt){const{onStoppedNotification:ot}=M.v;ot&&ae.z.setTimeout(()=>ot(Ze,nt))}const ut={closed:!0,next:ce,error:function rt(Ze){throw Ze},complete:ce}},727:(Zt,Me,H)=>{"use strict";H.d(Me,{Lc:()=>be,w0:()=>ce,Nn:()=>Te});var p=H(576);const M=(0,H(3888).d)(ke=>function(ge){ke(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((we,Qe)=>`${Qe+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var _e=H(8737);class ce{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const Xe of ge)Xe.remove(this);else ge.remove(this);const{initialTeardown:we}=this;if((0,p.m)(we))try{we()}catch(Xe){ae=Xe instanceof M?Xe.errors:[Xe]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Xe of Qe)try{de(Xe)}catch(ct){ae=ae??[],ct instanceof M?ae=[...ae,...ct.errors]:ae.push(ct)}}if(ae)throw new M(ae)}}add(ae){var ge;if(ae&&ae!==this)if(this.closed)de(ae);else{if(ae instanceof ce){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(ae)}}_hasParent(ae){const{_parentage:ge}=this;return ge===ae||Array.isArray(ge)&&ge.includes(ae)}_addParent(ae){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(ae),ge):ge?[ge,ae]:ae}_removeParent(ae){const{_parentage:ge}=this;ge===ae?this._parentage=null:Array.isArray(ge)&&(0,_e.P)(ge,ae)}remove(ae){const{_finalizers:ge}=this;ge&&(0,_e.P)(ge,ae),ae instanceof ce&&ae._removeParent(this)}}ce.EMPTY=(()=>{const ke=new ce;return ke.closed=!0,ke})();const be=ce.EMPTY;function Te(ke){return ke instanceof ce||ke&&"closed"in ke&&(0,p.m)(ke.remove)&&(0,p.m)(ke.add)&&(0,p.m)(ke.unsubscribe)}function de(ke){(0,p.m)(ke)?ke():ke.unsubscribe()}},2416:(Zt,Me,H)=>{"use strict";H.d(Me,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Zt,Me,H)=>{"use strict";H.d(Me,{z:()=>ce});var p=H(8189),M=H(7669),_e=H(8996);function ce(...be){return function B(){return(0,p.J)(1)}()((0,_e.D)(be,(0,M.yG)(be)))}},515:(Zt,Me,H)=>{"use strict";H.d(Me,{E:()=>B});const B=new(H(9751).y)(ce=>ce.complete())},8996:(Zt,Me,H)=>{"use strict";H.d(Me,{D:()=>nt});var p=H(8421),B=H(5363),M=H(9468),be=H(9751),de=H(2202),ke=H(576),ae=H(9672);function we(ot,pt){if(!ot)throw new Error("Iterable cannot be null");return new be.y(ve=>{(0,ae.f)(ve,pt,()=>{const De=ot[Symbol.asyncIterator]();(0,ae.f)(ve,pt,()=>{De.next().then(At=>{At.done?ve.complete():ve.next(At.value)})},0,!0)})})}var Qe=H(3670),Xe=H(8239),ct=H(1144),It=H(6495),Fe=H(2206),rt=H(4532),qe=H(3260);function nt(ot,pt){return pt?function Ze(ot,pt){if(null!=ot){if((0,Qe.c)(ot))return function _e(ot,pt){return(0,p.Xf)(ot).pipe((0,M.R)(pt),(0,B.Q)(pt))}(ot,pt);if((0,ct.z)(ot))return function Te(ot,pt){return new be.y(ve=>{let De=0;return pt.schedule(function(){De===ot.length?ve.complete():(ve.next(ot[De++]),ve.closed||this.schedule())})})}(ot,pt);if((0,Xe.t)(ot))return function ce(ot,pt){return(0,p.Xf)(ot).pipe((0,M.R)(pt),(0,B.Q)(pt))}(ot,pt);if((0,Fe.D)(ot))return we(ot,pt);if((0,It.T)(ot))return function ge(ot,pt){return new be.y(ve=>{let De;return(0,ae.f)(ve,pt,()=>{De=ot[de.h](),(0,ae.f)(ve,pt,()=>{let At,Wt;try{({value:At,done:Wt}=De.next())}catch(bt){return void ve.error(bt)}Wt?ve.complete():ve.next(At)},0,!0)}),()=>(0,ke.m)(De?.return)&&De.return()})}(ot,pt);if((0,qe.L)(ot))return function ut(ot,pt){return we((0,qe.Q)(ot),pt)}(ot,pt)}throw(0,rt.z)(ot)}(ot,pt):(0,p.Xf)(ot)}},8421:(Zt,Me,H)=>{"use strict";H.d(Me,{Xf:()=>Qe});var p=H(7582),B=H(1144),M=H(8239),_e=H(9751),ce=H(3670),be=H(2206),Te=H(4532),de=H(6495),ke=H(3260),ae=H(576),ge=H(7849),we=H(8822);function Qe(Ze){if(Ze instanceof _e.y)return Ze;if(null!=Ze){if((0,ce.c)(Ze))return function Xe(Ze){return new _e.y(nt=>{const ot=Ze[we.L]();if((0,ae.m)(ot.subscribe))return ot.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ze);if((0,B.z)(Ze))return function ct(Ze){return new _e.y(nt=>{for(let ot=0;ot<Ze.length&&!nt.closed;ot++)nt.next(Ze[ot]);nt.complete()})}(Ze);if((0,M.t)(Ze))return function It(Ze){return new _e.y(nt=>{Ze.then(ot=>{nt.closed||(nt.next(ot),nt.complete())},ot=>nt.error(ot)).then(null,ge.h)})}(Ze);if((0,be.D)(Ze))return rt(Ze);if((0,de.T)(Ze))return function Fe(Ze){return new _e.y(nt=>{for(const ot of Ze)if(nt.next(ot),nt.closed)return;nt.complete()})}(Ze);if((0,ke.L)(Ze))return function qe(Ze){return rt((0,ke.Q)(Ze))}(Ze)}throw(0,Te.z)(Ze)}function rt(Ze){return new _e.y(nt=>{(function ut(Ze,nt){var ot,pt,ve,De;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ot=(0,p.KL)(Ze);!(pt=yield ot.next()).done;)if(nt.next(pt.value),nt.closed)return}catch(At){ve={error:At}}finally{try{pt&&!pt.done&&(De=ot.return)&&(yield De.call(ot))}finally{if(ve)throw ve.error}}nt.complete()})})(Ze,nt).catch(ot=>nt.error(ot))})}},6451:(Zt,Me,H)=>{"use strict";H.d(Me,{T:()=>be});var p=H(8189),B=H(8421),M=H(515),_e=H(7669),ce=H(8996);function be(...Te){const de=(0,_e.yG)(Te),ke=(0,_e._6)(Te,1/0),ae=Te;return ae.length?1===ae.length?(0,B.Xf)(ae[0]):(0,p.J)(ke)((0,ce.D)(ae,de)):M.E}},9646:(Zt,Me,H)=>{"use strict";H.d(Me,{of:()=>M});var p=H(7669),B=H(8996);function M(..._e){const ce=(0,p.yG)(_e);return(0,B.D)(_e,ce)}},5403:(Zt,Me,H)=>{"use strict";H.d(Me,{x:()=>B});var p=H(2961);function B(_e,ce,be,Te,de){return new M(_e,ce,be,Te,de)}class M extends p.Lv{constructor(ce,be,Te,de,ke,ae){super(ce),this.onFinalize=ke,this.shouldUnsubscribe=ae,this._next=be?function(ge){try{be(ge)}catch(we){ce.error(we)}}:super._next,this._error=de?function(ge){try{de(ge)}catch(we){ce.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ge){ce.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},6590:(Zt,Me,H)=>{"use strict";H.d(Me,{d:()=>M});var p=H(4482),B=H(5403);function M(_e){return(0,p.e)((ce,be)=>{let Te=!1;ce.subscribe((0,B.x)(be,de=>{Te=!0,be.next(de)},()=>{Te||be.next(_e),be.complete()}))})}},9300:(Zt,Me,H)=>{"use strict";H.d(Me,{h:()=>M});var p=H(4482),B=H(5403);function M(_e,ce){return(0,p.e)((be,Te)=>{let de=0;be.subscribe((0,B.x)(Te,ke=>_e.call(ce,ke,de++)&&Te.next(ke)))})}},590:(Zt,Me,H)=>{"use strict";H.d(Me,{P:()=>Te});var p=H(6805),B=H(9300),M=H(5698),_e=H(6590),ce=H(8068),be=H(4671);function Te(de,ke){const ae=arguments.length>=2;return ge=>ge.pipe(de?(0,B.h)((we,Qe)=>de(we,Qe,ge)):be.y,(0,M.q)(1),ae?(0,_e.d)(ke):(0,ce.T)(()=>new p.K))}},4004:(Zt,Me,H)=>{"use strict";H.d(Me,{U:()=>M});var p=H(4482),B=H(5403);function M(_e,ce){return(0,p.e)((be,Te)=>{let de=0;be.subscribe((0,B.x)(Te,ke=>{Te.next(_e.call(ce,ke,de++))}))})}},8189:(Zt,Me,H)=>{"use strict";H.d(Me,{J:()=>M});var p=H(5577),B=H(4671);function M(_e=1/0){return(0,p.z)(B.y,_e)}},5577:(Zt,Me,H)=>{"use strict";H.d(Me,{z:()=>de});var p=H(4004),B=H(8421),M=H(4482),_e=H(9672),ce=H(5403),Te=H(576);function de(ke,ae,ge=1/0){return(0,Te.m)(ae)?de((we,Qe)=>(0,p.U)((Xe,ct)=>ae(we,Xe,Qe,ct))((0,B.Xf)(ke(we,Qe))),ge):("number"==typeof ae&&(ge=ae),(0,M.e)((we,Qe)=>function be(ke,ae,ge,we,Qe,Xe,ct,It){const Fe=[];let rt=0,qe=0,ut=!1;const Ze=()=>{ut&&!Fe.length&&!rt&&ae.complete()},nt=pt=>rt<we?ot(pt):Fe.push(pt),ot=pt=>{Xe&&ae.next(pt),rt++;let ve=!1;(0,B.Xf)(ge(pt,qe++)).subscribe((0,ce.x)(ae,De=>{Qe?.(De),Xe?nt(De):ae.next(De)},()=>{ve=!0},void 0,()=>{if(ve)try{for(rt--;Fe.length&&rt<we;){const De=Fe.shift();ct?(0,_e.f)(ae,ct,()=>ot(De)):ot(De)}Ze()}catch(De){ae.error(De)}}))};return ke.subscribe((0,ce.x)(ae,nt,()=>{ut=!0,Ze()})),()=>{It?.()}}(we,Qe,ke,ge)))}},5363:(Zt,Me,H)=>{"use strict";H.d(Me,{Q:()=>_e});var p=H(9672),B=H(4482),M=H(5403);function _e(ce,be=0){return(0,B.e)((Te,de)=>{Te.subscribe((0,M.x)(de,ke=>(0,p.f)(de,ce,()=>de.next(ke),be),()=>(0,p.f)(de,ce,()=>de.complete(),be),ke=>(0,p.f)(de,ce,()=>de.error(ke),be)))})}},5026:(Zt,Me,H)=>{"use strict";H.d(Me,{R:()=>_e});var p=H(4482),B=H(5403);function _e(ce,be){return(0,p.e)(function M(ce,be,Te,de,ke){return(ae,ge)=>{let we=Te,Qe=be,Xe=0;ae.subscribe((0,B.x)(ge,ct=>{const It=Xe++;Qe=we?ce(Qe,ct,It):(we=!0,ct),de&&ge.next(Qe)},ke&&(()=>{we&&ge.next(Qe),ge.complete()})))}}(ce,be,arguments.length>=2,!0))}},3099:(Zt,Me,H)=>{"use strict";H.d(Me,{B:()=>ce});var p=H(8421),B=H(7579),M=H(2961),_e=H(4482);function ce(Te={}){const{connector:de=(()=>new B.x),resetOnError:ke=!0,resetOnComplete:ae=!0,resetOnRefCountZero:ge=!0}=Te;return we=>{let Qe,Xe,ct,It=0,Fe=!1,rt=!1;const qe=()=>{Xe?.unsubscribe(),Xe=void 0},ut=()=>{qe(),Qe=ct=void 0,Fe=rt=!1},Ze=()=>{const nt=Qe;ut(),nt?.unsubscribe()};return(0,_e.e)((nt,ot)=>{It++,!rt&&!Fe&&qe();const pt=ct=ct??de();ot.add(()=>{It--,0===It&&!rt&&!Fe&&(Xe=be(Ze,ge))}),pt.subscribe(ot),!Qe&&It>0&&(Qe=new M.Hp({next:ve=>pt.next(ve),error:ve=>{rt=!0,qe(),Xe=be(ut,ke,ve),pt.error(ve)},complete:()=>{Fe=!0,qe(),Xe=be(ut,ae),pt.complete()}}),(0,p.Xf)(nt).subscribe(Qe))})(we)}}function be(Te,de,...ke){if(!0===de)return void Te();if(!1===de)return;const ae=new M.Hp({next:()=>{ae.unsubscribe(),Te()}});return(0,p.Xf)(de(...ke)).subscribe(ae)}},8675:(Zt,Me,H)=>{"use strict";H.d(Me,{O:()=>_e});var p=H(7272),B=H(7669),M=H(4482);function _e(...ce){const be=(0,B.yG)(ce);return(0,M.e)((Te,de)=>{(be?(0,p.z)(ce,Te,be):(0,p.z)(ce,Te)).subscribe(de)})}},9468:(Zt,Me,H)=>{"use strict";H.d(Me,{R:()=>B});var p=H(4482);function B(M,_e=0){return(0,p.e)((ce,be)=>{be.add(M.schedule(()=>ce.subscribe(be),_e))})}},3900:(Zt,Me,H)=>{"use strict";H.d(Me,{w:()=>_e});var p=H(8421),B=H(4482),M=H(5403);function _e(ce,be){return(0,B.e)((Te,de)=>{let ke=null,ae=0,ge=!1;const we=()=>ge&&!ke&&de.complete();Te.subscribe((0,M.x)(de,Qe=>{ke?.unsubscribe();let Xe=0;const ct=ae++;(0,p.Xf)(ce(Qe,ct)).subscribe(ke=(0,M.x)(de,It=>de.next(be?be(Qe,It,ct,Xe++):It),()=>{ke=null,we()}))},()=>{ge=!0,we()}))})}},5698:(Zt,Me,H)=>{"use strict";H.d(Me,{q:()=>_e});var p=H(515),B=H(4482),M=H(5403);function _e(ce){return ce<=0?()=>p.E:(0,B.e)((be,Te)=>{let de=0;be.subscribe((0,M.x)(Te,ke=>{++de<=ce&&(Te.next(ke),ce<=de&&Te.complete())}))})}},8505:(Zt,Me,H)=>{"use strict";H.d(Me,{b:()=>ce});var p=H(576),B=H(4482),M=H(5403),_e=H(4671);function ce(be,Te,de){const ke=(0,p.m)(be)||Te||de?{next:be,error:Te,complete:de}:be;return ke?(0,B.e)((ae,ge)=>{var we;null===(we=ke.subscribe)||void 0===we||we.call(ke);let Qe=!0;ae.subscribe((0,M.x)(ge,Xe=>{var ct;null===(ct=ke.next)||void 0===ct||ct.call(ke,Xe),ge.next(Xe)},()=>{var Xe;Qe=!1,null===(Xe=ke.complete)||void 0===Xe||Xe.call(ke),ge.complete()},Xe=>{var ct;Qe=!1,null===(ct=ke.error)||void 0===ct||ct.call(ke,Xe),ge.error(Xe)},()=>{var Xe,ct;Qe&&(null===(Xe=ke.unsubscribe)||void 0===Xe||Xe.call(ke)),null===(ct=ke.finalize)||void 0===ct||ct.call(ke)}))}):_e.y}},8068:(Zt,Me,H)=>{"use strict";H.d(Me,{T:()=>_e});var p=H(6805),B=H(4482),M=H(5403);function _e(be=ce){return(0,B.e)((Te,de)=>{let ke=!1;Te.subscribe((0,M.x)(de,ae=>{ke=!0,de.next(ae)},()=>ke?de.complete():de.error(be())))})}function ce(){return new p.K}},4408:(Zt,Me,H)=>{"use strict";H.d(Me,{o:()=>ce});var p=H(727);class B extends p.w0{constructor(Te,de){super()}schedule(Te,de=0){return this}}const M={setInterval(be,Te,...de){const{delegate:ke}=M;return ke?.setInterval?ke.setInterval(be,Te,...de):setInterval(be,Te,...de)},clearInterval(be){const{delegate:Te}=M;return(Te?.clearInterval||clearInterval)(be)},delegate:void 0};var _e=H(8737);class ce extends B{constructor(Te,de){super(Te,de),this.scheduler=Te,this.work=de,this.pending=!1}schedule(Te,de=0){var ke;if(this.closed)return this;this.state=Te;const ae=this.id,ge=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(ge,ae,de)),this.pending=!0,this.delay=de,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(ge,this.id,de),this}requestAsyncId(Te,de,ke=0){return M.setInterval(Te.flush.bind(Te,this),ke)}recycleAsyncId(Te,de,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return de;null!=de&&M.clearInterval(de)}execute(Te,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Te,de);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,de){let ae,ke=!1;try{this.work(Te)}catch(ge){ke=!0,ae=ge||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Te,scheduler:de}=this,{actions:ke}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(ke,this),null!=Te&&(this.id=this.recycleAsyncId(de,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Zt,Me,H)=>{"use strict";H.d(Me,{v:()=>M});var p=H(6063);class B{constructor(ce,be=B.now){this.schedulerActionCtor=ce,this.now=be}schedule(ce,be=0,Te){return new this.schedulerActionCtor(this,ce).schedule(Te,be)}}B.now=p.l.now;class M extends B{constructor(ce,be=B.now){super(ce,be),this.actions=[],this._active=!1}flush(ce){const{actions:be}=this;if(this._active)return void be.push(ce);let Te;this._active=!0;do{if(Te=ce.execute(ce.state,ce.delay))break}while(ce=be.shift());if(this._active=!1,Te){for(;ce=be.shift();)ce.unsubscribe();throw Te}}}},4986:(Zt,Me,H)=>{"use strict";H.d(Me,{z:()=>M});var p=H(4408);const M=new(H(7565).v)(p.o)},6063:(Zt,Me,H)=>{"use strict";H.d(Me,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Zt,Me,H)=>{"use strict";H.d(Me,{z:()=>p});const p={setTimeout(B,M,..._e){const{delegate:ce}=p;return ce?.setTimeout?ce.setTimeout(B,M,..._e):setTimeout(B,M,..._e)},clearTimeout(B){const{delegate:M}=p;return(M?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Zt,Me,H)=>{"use strict";H.d(Me,{h:()=>B});const B=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Zt,Me,H)=>{"use strict";H.d(Me,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Zt,Me,H)=>{"use strict";H.d(Me,{K:()=>B});const B=(0,H(3888).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Zt,Me,H)=>{"use strict";H.d(Me,{_6:()=>be,jO:()=>_e,yG:()=>ce});var p=H(576);function M(Te){return Te[Te.length-1]}function _e(Te){return(0,p.m)(M(Te))?Te.pop():void 0}function ce(Te){return function B(Te){return Te&&(0,p.m)(Te.schedule)}(M(Te))?Te.pop():void 0}function be(Te,de){return"number"==typeof M(Te)?Te.pop():de}},4742:(Zt,Me,H)=>{"use strict";H.d(Me,{D:()=>ce});const{isArray:p}=Array,{getPrototypeOf:B,prototype:M,keys:_e}=Object;function ce(Te){if(1===Te.length){const de=Te[0];if(p(de))return{args:de,keys:null};if(function be(Te){return Te&&"object"==typeof Te&&B(Te)===M}(de)){const ke=_e(de);return{args:ke.map(ae=>de[ae]),keys:ke}}}return{args:Te,keys:null}}},8737:(Zt,Me,H)=>{"use strict";function p(B,M){if(B){const _e=B.indexOf(M);0<=_e&&B.splice(_e,1)}}H.d(Me,{P:()=>p})},3888:(Zt,Me,H)=>{"use strict";function p(B){const _e=B(ce=>{Error.call(ce),ce.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}H.d(Me,{d:()=>p})},1810:(Zt,Me,H)=>{"use strict";function p(B,M){return B.reduce((_e,ce,be)=>(_e[ce]=M[be],_e),{})}H.d(Me,{n:()=>p})},2806:(Zt,Me,H)=>{"use strict";H.d(Me,{O:()=>_e,x:()=>M});var p=H(2416);let B=null;function M(ce){if(p.v.useDeprecatedSynchronousErrorHandling){const be=!B;if(be&&(B={errorThrown:!1,error:null}),ce(),be){const{errorThrown:Te,error:de}=B;if(B=null,Te)throw de}}else ce()}function _e(ce){p.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ce)}},9672:(Zt,Me,H)=>{"use strict";function p(B,M,_e,ce=0,be=!1){const Te=M.schedule(function(){_e(),be?B.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(B.add(Te),!be)return Te}H.d(Me,{f:()=>p})},4671:(Zt,Me,H)=>{"use strict";function p(B){return B}H.d(Me,{y:()=>p})},1144:(Zt,Me,H)=>{"use strict";H.d(Me,{z:()=>p});const p=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Zt,Me,H)=>{"use strict";H.d(Me,{D:()=>B});var p=H(576);function B(M){return Symbol.asyncIterator&&(0,p.m)(M?.[Symbol.asyncIterator])}},576:(Zt,Me,H)=>{"use strict";function p(B){return"function"==typeof B}H.d(Me,{m:()=>p})},3670:(Zt,Me,H)=>{"use strict";H.d(Me,{c:()=>M});var p=H(8822),B=H(576);function M(_e){return(0,B.m)(_e[p.L])}},6495:(Zt,Me,H)=>{"use strict";H.d(Me,{T:()=>M});var p=H(2202),B=H(576);function M(_e){return(0,B.m)(_e?.[p.h])}},8239:(Zt,Me,H)=>{"use strict";H.d(Me,{t:()=>B});var p=H(576);function B(M){return(0,p.m)(M?.then)}},3260:(Zt,Me,H)=>{"use strict";H.d(Me,{L:()=>_e,Q:()=>M});var p=H(7582),B=H(576);function M(ce){return(0,p.FC)(this,arguments,function*(){const Te=ce.getReader();try{for(;;){const{value:de,done:ke}=yield(0,p.qq)(Te.read());if(ke)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(de)}}finally{Te.releaseLock()}})}function _e(ce){return(0,B.m)(ce?.getReader)}},4482:(Zt,Me,H)=>{"use strict";H.d(Me,{A:()=>B,e:()=>M});var p=H(576);function B(_e){return(0,p.m)(_e?.lift)}function M(_e){return ce=>{if(B(ce))return ce.lift(function(be){try{return _e(be,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Zt,Me,H)=>{"use strict";H.d(Me,{Z:()=>_e});var p=H(4004);const{isArray:B}=Array;function _e(ce){return(0,p.U)(be=>function M(ce,be){return B(be)?ce(...be):ce(be)}(ce,be))}},9635:(Zt,Me,H)=>{"use strict";H.d(Me,{U:()=>M,z:()=>B});var p=H(4671);function B(..._e){return M(_e)}function M(_e){return 0===_e.length?p.y:1===_e.length?_e[0]:function(be){return _e.reduce((Te,de)=>de(Te),be)}}},7849:(Zt,Me,H)=>{"use strict";H.d(Me,{h:()=>M});var p=H(2416),B=H(3410);function M(_e){B.z.setTimeout(()=>{const{onUnhandledError:ce}=p.v;if(!ce)throw _e;ce(_e)})}},4532:(Zt,Me,H)=>{"use strict";function p(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Me,{z:()=>p})},3998:function(Zt){Zt.exports=function(){"use strict";var Me={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const p=E=>{const C={};for(const q in E)C[E[q]]="swal2-"+E[q];return C},B=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),M=p(["success","warning","info","question","error"]),_e="SweetAlert2:",be=E=>E.charAt(0).toUpperCase()+E.slice(1),Te=E=>{console.warn(`${_e} ${"object"==typeof E?E.join(" "):E}`)},de=E=>{console.error(`${_e} ${E}`)},ke=[],ge=(E,C)=>{(E=>{ke.includes(E)||(ke.push(E),Te(E))})(`"${E}" is deprecated and will be removed in the next major release. Please use "${C}" instead.`)},we=E=>"function"==typeof E?E():E,Qe=E=>E&&"function"==typeof E.toPromise,Xe=E=>Qe(E)?E.toPromise():Promise.resolve(E),ct=E=>E&&Promise.resolve(E)===E,It=()=>document.body.querySelector(`.${B.container}`),Fe=E=>{const C=It();return C?C.querySelector(E):null},rt=E=>Fe(`.${E}`),qe=()=>rt(B.popup),ut=()=>rt(B.icon),nt=()=>rt(B.title),ot=()=>rt(B["html-container"]),pt=()=>rt(B.image),ve=()=>rt(B["progress-steps"]),De=()=>rt(B["validation-message"]),At=()=>Fe(`.${B.actions} .${B.confirm}`),Wt=()=>Fe(`.${B.actions} .${B.cancel}`),bt=()=>Fe(`.${B.actions} .${B.deny}`),Tt=()=>Fe(`.${B.loader}`),Un=()=>rt(B.actions),je=()=>rt(B.footer),Re=()=>rt(B["timer-progress-bar"]),Ve=()=>rt(B.close),at=()=>{const E=Array.from(qe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((q,ue)=>{const Be=parseInt(q.getAttribute("tabindex")),Rt=parseInt(ue.getAttribute("tabindex"));return Be>Rt?1:Be<Rt?-1:0}),C=Array.from(qe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(q=>"-1"!==q.getAttribute("tabindex"));return(E=>{const C=[];for(let q=0;q<E.length;q++)-1===C.indexOf(E[q])&&C.push(E[q]);return C})(E.concat(C)).filter(q=>Gn(q))},et=()=>St(document.body,B.shown)&&!St(document.body,B["toast-shown"])&&!St(document.body,B["no-backdrop"]),tt=()=>qe()&&St(qe(),B.toast),vn={previousBodyPadding:null},_t=(E,C)=>{if(E.textContent="",C){const ue=(new DOMParser).parseFromString(C,"text/html");Array.from(ue.querySelector("head").childNodes).forEach(Be=>{E.appendChild(Be)}),Array.from(ue.querySelector("body").childNodes).forEach(Be=>{Be instanceof HTMLVideoElement||Be instanceof HTMLAudioElement?E.appendChild(Be.cloneNode(!0)):E.appendChild(Be)})}},St=(E,C)=>{if(!C)return!1;const q=C.split(/\s+/);for(let ue=0;ue<q.length;ue++)if(!E.classList.contains(q[ue]))return!1;return!0},_n=(E,C,q)=>{if(((E,C)=>{Array.from(E.classList).forEach(q=>{!Object.values(B).includes(q)&&!Object.values(M).includes(q)&&!Object.values(C.showClass).includes(q)&&E.classList.remove(q)})})(E,C),C.customClass&&C.customClass[q]){if("string"!=typeof C.customClass[q]&&!C.customClass[q].forEach)return void Te(`Invalid type of customClass.${q}! Expected string or iterable object, got "${typeof C.customClass[q]}"`);kt(E,C.customClass[q])}},Bn=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return E.querySelector(`.${B.popup} > .${B[C]}`);case"checkbox":return E.querySelector(`.${B.popup} > .${B.checkbox} input`);case"radio":return E.querySelector(`.${B.popup} > .${B.radio} input:checked`)||E.querySelector(`.${B.popup} > .${B.radio} input:first-child`);case"range":return E.querySelector(`.${B.popup} > .${B.range} input`);default:return E.querySelector(`.${B.popup} > .${B.input}`)}},zn=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},Ln=(E,C,q)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(ue=>{Array.isArray(E)?E.forEach(Be=>{q?Be.classList.add(ue):Be.classList.remove(ue)}):q?E.classList.add(ue):E.classList.remove(ue)}))},kt=(E,C)=>{Ln(E,C,!0)},Pt=(E,C)=>{Ln(E,C,!1)},$n=(E,C)=>{const q=Array.from(E.children);for(let ue=0;ue<q.length;ue++){const Be=q[ue];if(Be instanceof HTMLElement&&St(Be,C))return Be}},jn=(E,C,q)=>{q===`${parseInt(q)}`&&(q=parseInt(q)),q||0===parseInt(q)?E.style[C]="number"==typeof q?`${q}px`:q:E.style.removeProperty(C)},xn=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},on=E=>{E.style.display="none"},xt=(E,C,q,ue)=>{const Be=E.querySelector(C);Be&&(Be.style[q]=ue)},sn=function(E,C){C?xn(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):on(E)},Gn=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),rr=E=>E.scrollHeight>E.clientHeight,Wr=E=>{const C=window.getComputedStyle(E),q=parseFloat(C.getPropertyValue("animation-duration")||"0"),ue=parseFloat(C.getPropertyValue("transition-duration")||"0");return q>0||ue>0},pn=function(E){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const q=Re();Gn(q)&&(C&&(q.style.transition="none",q.style.width="100%"),setTimeout(()=>{q.style.transition=`width ${E/1e3}s linear`,q.style.width="0%"},10))},Ct={},or=E=>new Promise(C=>{if(!E)return C();const q=window.scrollX,ue=window.scrollY;Ct.restoreFocusTimeout=setTimeout(()=>{Ct.previousActiveElement instanceof HTMLElement?(Ct.previousActiveElement.focus(),Ct.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(q,ue)}),Xn=()=>typeof window>"u"||typeof document>"u",kr=`\n <div aria-labelledby="${B.title}" aria-describedby="${B["html-container"]}" class="${B.popup}" tabindex="-1">\n   <button type="button" class="${B.close}"></button>\n   <ul class="${B["progress-steps"]}"></ul>\n   <div class="${B.icon}"></div>\n   <img class="${B.image}" />\n   <h2 class="${B.title}" id="${B.title}"></h2>\n   <div class="${B["html-container"]}" id="${B["html-container"]}"></div>\n   <input class="${B.input}" />\n   <input type="file" class="${B.file}" />\n   <div class="${B.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${B.select}"></select>\n   <div class="${B.radio}"></div>\n   <label for="${B.checkbox}" class="${B.checkbox}">\n     <input type="checkbox" />\n     <span class="${B.label}"></span>\n   </label>\n   <textarea class="${B.textarea}"></textarea>\n   <div class="${B["validation-message"]}" id="${B["validation-message"]}"></div>\n   <div class="${B.actions}">\n     <div class="${B.loader}"></div>\n     <button type="button" class="${B.confirm}"></button>\n     <button type="button" class="${B.deny}"></button>\n     <button type="button" class="${B.cancel}"></button>\n   </div>\n   <div class="${B.footer}"></div>\n   <div class="${B["timer-progress-bar-container"]}">\n     <div class="${B["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),pr=()=>{Ct.currentInstance.resetValidationMessage()},rn=E=>{const C=(()=>{const E=It();return!!E&&(E.remove(),Pt([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]]),!0)})();if(Xn())return void de("SweetAlert2 requires document to initialize");const q=document.createElement("div");q.className=B.container,C&&kt(q,B["no-transition"]),_t(q,kr);const ue=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);ue.appendChild(q),(E=>{const C=qe();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&kt(It(),B.rtl)})(ue),(()=>{const E=qe(),C=$n(E,B.input),q=$n(E,B.file),ue=E.querySelector(`.${B.range} input`),Be=E.querySelector(`.${B.range} output`),Rt=$n(E,B.select),Je=E.querySelector(`.${B.checkbox} input`),gn=$n(E,B.textarea);C.oninput=pr,q.onchange=pr,Rt.onchange=pr,Je.onchange=pr,gn.oninput=pr,ue.oninput=()=>{pr(),Be.value=ue.value},ue.onchange=()=>{pr(),Be.value=ue.value}})()},ar=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?Yn(E,C):E&&_t(C,E)},Yn=(E,C)=>{E.jquery?Ur(C,E):_t(C,E.toString())},Ur=(E,C)=>{if(E.textContent="",0 in C)for(let q=0;q in C;q++)E.appendChild(C[q].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},er=(()=>{if(Xn())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const q in C)if(Object.prototype.hasOwnProperty.call(C,q)&&typeof E.style[q]<"u")return C[q];return!1})(),Pr=(E,C)=>{const q=Un(),ue=Tt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?xn(q):on(q),_n(q,C,"actions"),function _r(E,C,q){const ue=At(),Be=bt(),Rt=Wt();L(ue,"confirm",q),L(Be,"deny",q),L(Rt,"cancel",q),function ee(E,C,q,ue){ue.buttonsStyling?(kt([E,C,q],B.styled),ue.confirmButtonColor&&(E.style.backgroundColor=ue.confirmButtonColor,kt(E,B["default-outline"])),ue.denyButtonColor&&(C.style.backgroundColor=ue.denyButtonColor,kt(C,B["default-outline"])),ue.cancelButtonColor&&(q.style.backgroundColor=ue.cancelButtonColor,kt(q,B["default-outline"]))):Pt([E,C,q],B.styled)}(ue,Be,Rt,q),q.reverseButtons&&(q.toast?(E.insertBefore(Rt,ue),E.insertBefore(Be,ue)):(E.insertBefore(Rt,C),E.insertBefore(Be,C),E.insertBefore(ue,C)))}(q,ue,C),_t(ue,C.loaderHtml),_n(ue,C,"loader")};function L(E,C,q){sn(E,q[`show${be(C)}Button`],"inline-block"),_t(E,q[`${C}ButtonText`]),E.setAttribute("aria-label",q[`${C}ButtonAriaLabel`]),E.className=B[C],_n(E,q,`${C}Button`),kt(E,q[`${C}ButtonClass`])}const $=(E,C)=>{const q=It();q&&(function j(E,C){"string"==typeof C?E.style.background=C:C||kt([document.documentElement,document.body],B["no-backdrop"])}(q,C.backdrop),function he(E,C){C in B?kt(E,B[C]):(Te('The "position" parameter is not valid, defaulting to "center"'),kt(E,B.center))}(q,C.position),function oe(E,C){if(C&&"string"==typeof C){const q=`grow-${C}`;q in B&&kt(E,B[q])}}(q,C.grow),_n(q,C,"container"))};const le=["input","file","range","select","radio","checkbox","textarea"],Ee=E=>{if(!Oe[E.input])return void de(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${E.input}"`);const C=Ar(E.input),q=Oe[E.input](C,E);xn(C),E.inputAutoFocus&&setTimeout(()=>{zn(q)})},ht=(E,C)=>{const q=Bn(qe(),E);if(q){(E=>{for(let C=0;C<E.attributes.length;C++){const q=E.attributes[C].name;["type","value","style"].includes(q)||E.removeAttribute(q)}})(q);for(const ue in C)q.setAttribute(ue,C[ue])}},Jt=E=>{const C=Ar(E.input);"object"==typeof E.customClass&&kt(C,E.customClass.input)},en=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},Vn=(E,C,q)=>{if(q.inputLabel){E.id=B.input;const ue=document.createElement("label"),Be=B["input-label"];ue.setAttribute("for",E.id),ue.className=Be,"object"==typeof q.customClass&&kt(ue,q.customClass.inputLabel),ue.innerText=q.inputLabel,C.insertAdjacentElement("beforebegin",ue)}},Ar=E=>$n(qe(),B[E]||B.input),We=(E,C)=>{["string","number"].includes(typeof C)?E.value=`${C}`:ct(C)||Te(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},Oe={};Oe.text=Oe.email=Oe.password=Oe.number=Oe.tel=Oe.url=(E,C)=>(We(E,C.inputValue),Vn(E,E,C),en(E,C),E.type=C.input,E),Oe.file=(E,C)=>(Vn(E,E,C),en(E,C),E),Oe.range=(E,C)=>{const q=E.querySelector("input"),ue=E.querySelector("output");return We(q,C.inputValue),q.type=C.input,We(ue,C.inputValue),Vn(q,E,C),E},Oe.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const q=document.createElement("option");_t(q,C.inputPlaceholder),q.value="",q.disabled=!0,q.selected=!0,E.appendChild(q)}return Vn(E,E,C),E},Oe.radio=E=>(E.textContent="",E),Oe.checkbox=(E,C)=>{const q=Bn(qe(),"checkbox");q.value="1",q.id=B.checkbox,q.checked=Boolean(C.inputValue);const ue=E.querySelector("span");return _t(ue,C.inputPlaceholder),q},Oe.textarea=(E,C)=>{We(E,C.inputValue),en(E,C),Vn(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const ue=parseInt(window.getComputedStyle(qe()).width);new MutationObserver(()=>{const Rt=E.offsetWidth+(ue=>parseInt(window.getComputedStyle(ue).marginLeft)+parseInt(window.getComputedStyle(ue).marginRight))(E);qe().style.width=Rt>ue?`${Rt}px`:null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const wt=(E,C)=>{const q=ot();_n(q,C,"htmlContainer"),C.html?(ar(C.html,q),xn(q,"block")):C.text?(q.textContent=C.text,xn(q,"block")):on(q),((E,C)=>{const q=qe(),ue=Me.innerParams.get(E),Be=!ue||C.input!==ue.input;le.forEach(Rt=>{const Je=$n(q,B[Rt]);ht(Rt,C.inputAttributes),Je.className=B[Rt],Be&&on(Je)}),C.input&&(Be&&Ee(C),Jt(C))})(E,C)},Dn=(E,C)=>{for(const q in M)C.icon!==q&&Pt(E,M[q]);kt(E,M[C.icon]),Ir(E,C),Yt(),_n(E,C,"icon")},Yt=()=>{const E=qe(),C=window.getComputedStyle(E).getPropertyValue("background-color"),q=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ue=0;ue<q.length;ue++)q[ue].style.backgroundColor=C},Br=(E,C)=>{let ue,q=E.innerHTML;C.iconHtml?ue=mi(C.iconHtml):"success"===C.icon?(ue='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',q=q.replace(/ style=".*?"/g,"")):ue="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':mi({question:"?",warning:"!",info:"i"}[C.icon]),q.trim()!==ue.trim()&&_t(E,ue)},Ir=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const q of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xt(E,q,"backgroundColor",C.iconColor);xt(E,".swal2-success-ring","borderColor",C.iconColor)}},mi=E=>`<div class="${B["icon-content"]}">${E}</div>`,Rr=(E,C)=>{E.className=`${B.popup} ${Gn(E)?C.showClass.popup:""}`,C.toast?(kt([document.documentElement,document.body],B["toast-shown"]),kt(E,B.toast)):kt(E,B.modal),_n(E,C,"popup"),"string"==typeof C.customClass&&kt(E,C.customClass),C.icon&&kt(E,B[`icon-${C.icon}`])},Tn=E=>{const C=document.createElement("li");return kt(C,B["progress-step"]),_t(C,E),C},br=E=>{const C=document.createElement("li");return kt(C,B["progress-step-line"]),E.progressStepsDistance&&jn(C,"width",E.progressStepsDistance),C},Ei=(E,C)=>{((E,C)=>{const q=It(),ue=qe();C.toast?(jn(q,"width",C.width),ue.style.width="100%",ue.insertBefore(Tt(),ut())):jn(ue,"width",C.width),jn(ue,"padding",C.padding),C.color&&(ue.style.color=C.color),C.background&&(ue.style.background=C.background),on(De()),Rr(ue,C)})(0,C),$(0,C),((E,C)=>{const q=ve();C.progressSteps&&0!==C.progressSteps.length?(xn(q),q.textContent="",C.currentProgressStep>=C.progressSteps.length&&Te("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((ue,Be)=>{const Rt=Tn(ue);if(q.appendChild(Rt),Be===C.currentProgressStep&&kt(Rt,B["active-progress-step"]),Be!==C.progressSteps.length-1){const Je=br(C);q.appendChild(Je)}})):on(q)})(0,C),((E,C)=>{const q=Me.innerParams.get(E),ue=ut();q&&C.icon===q.icon?(Br(ue,C),Dn(ue,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(M).indexOf(C.icon)?(de(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),on(ue)):(xn(ue),Br(ue,C),Dn(ue,C),kt(ue,C.showClass.icon)):on(ue)})(E,C),((E,C)=>{const q=pt();C.imageUrl?(xn(q,""),q.setAttribute("src",C.imageUrl),q.setAttribute("alt",C.imageAlt),jn(q,"width",C.imageWidth),jn(q,"height",C.imageHeight),q.className=B.image,_n(q,C,"image")):on(q)})(0,C),((E,C)=>{const q=nt();sn(q,C.title||C.titleText,"block"),C.title&&ar(C.title,q),C.titleText&&(q.innerText=C.titleText),_n(q,C,"title")})(0,C),((E,C)=>{const q=Ve();_t(q,C.closeButtonHtml),_n(q,C,"closeButton"),sn(q,C.showCloseButton),q.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),wt(E,C),Pr(0,C),((E,C)=>{const q=je();sn(q,C.footer),C.footer&&ar(C.footer,q),_n(q,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(qe())};function Vr(){const E=Me.innerParams.get(this);if(!E)return;const C=Me.domCache.get(this);on(C.loader),tt()?E.icon&&xn(ut()):Ni(C),Pt([C.popup,C.actions],B.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const Ni=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?xn(C[0],"inline-block"):!Gn(At())&&!Gn(bt())&&!Gn(Wt())&&on(E.actions)};const Ie=()=>At()&&At().click(),yt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ln=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},fn=(E,C)=>{const q=at();if(q.length)return(E+=C)===q.length?E=0:-1===E&&(E=q.length-1),void q[E].focus();qe().focus()},Fn=["ArrowRight","ArrowDown"],ai=["ArrowLeft","ArrowUp"],Kr=(E,C,q)=>{const ue=Me.innerParams.get(E);ue&&(C.isComposing||229===C.keyCode||(ue.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Xr(E,C,ue):"Tab"===C.key?Yr(C):[...Fn,...ai].includes(C.key)?Tr(C.key):"Escape"===C.key&&Ii(C,ue,q)))},Xr=(E,C,q)=>{if(we(q.allowEnterKey)&&C.target&&E.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(q.input))return;Ie(),C.preventDefault()}},Yr=E=>{const C=E.target,q=at();let ue=-1;for(let Be=0;Be<q.length;Be++)if(C===q[Be]){ue=Be;break}fn(ue,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},Tr=E=>{const C=At(),q=bt(),ue=Wt();if(document.activeElement instanceof HTMLElement&&![C,q,ue].includes(document.activeElement))return;const Rt=Fn.includes(E)?"nextElementSibling":"previousElementSibling";let Je=document.activeElement;for(let gn=0;gn<Un().children.length;gn++){if(Je=Je[Rt],!Je)return;if(Je instanceof HTMLButtonElement&&Gn(Je))break}Je instanceof HTMLButtonElement&&Je.focus()},Ii=(E,C,q)=>{we(C.allowEscapeKey)&&(E.preventDefault(),q(yt.esc))};var qi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const cs=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},ys=()=>{const E=navigator.userAgent,C=!!E.match(/iPad/i)||!!E.match(/iPhone/i),q=!!E.match(/WebKit/i);C&&q&&!E.match(/CriOS/i)&&qe().scrollHeight>window.innerHeight-44&&(It().style.paddingBottom="44px")},Qr=()=>{const E=It();let C;E.ontouchstart=q=>{C=Ro(q)},E.ontouchmove=q=>{C&&(q.preventDefault(),q.stopPropagation())}},Ro=E=>{const C=E.target,q=It();return!ui(E)&&!ei(E)&&(C===q||!rr(q)&&C instanceof HTMLElement&&"INPUT"!==C.tagName&&"TEXTAREA"!==C.tagName&&!(rr(ot())&&ot().contains(C)))},ui=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,ei=E=>E.touches&&E.touches.length>1,bi=()=>{if(St(document.body,B.iosfix)){const E=parseInt(document.body.style.top,10);Pt(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}},vs=()=>{null===vn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(vn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vn.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=B["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})()}px`)},_s=()=>{null!==vn.previousBodyPadding&&(document.body.style.paddingRight=`${vn.previousBodyPadding}px`,vn.previousBodyPadding=null)};function ti(E,C,q,ue){tt()?Es(E,ue):(or(q).then(()=>Es(E,ue)),ln(Ct)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),et()&&(_s(),bi(),cs()),function cr(){Pt([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"]])}()}function xi(E){E=oo(E);const C=qi.swalPromiseResolve.get(this),q=di(this);this.isAwaitingPromise()?E.isDismissed||(Fi(this),C(E)):q&&C(E)}const di=E=>{const C=qe();if(!C)return!1;const q=Me.innerParams.get(E);if(!q||St(C,q.hideClass.popup))return!1;Pt(C,q.showClass.popup),kt(C,q.hideClass.popup);const ue=It();return Pt(ue,q.showClass.backdrop),kt(ue,q.hideClass.backdrop),Oo(E,C,q),!0};const Fi=E=>{E.isAwaitingPromise()&&(Me.awaitingPromise.delete(E),Me.innerParams.get(E)||E._destroy())},oo=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),Oo=(E,C,q)=>{const ue=It(),Be=er&&Wr(C);"function"==typeof q.willClose&&q.willClose(C),Be?Ko(E,C,ue,q.returnFocus,q.didClose):ti(E,ue,q.returnFocus,q.didClose)},Ko=(E,C,q,ue,Be)=>{Ct.swalCloseEventFinishedCallback=ti.bind(null,E,q,ue,Be),C.addEventListener(er,function(Rt){Rt.target===C&&(Ct.swalCloseEventFinishedCallback(),delete Ct.swalCloseEventFinishedCallback)})},Es=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function ns(E,C,q){const ue=Me.domCache.get(E);C.forEach(Be=>{ue[Be].disabled=q})}function Ki(E,C){if(E)if("radio"===E.type){const ue=E.parentNode.parentNode.querySelectorAll("input");for(let Be=0;Be<ue.length;Be++)ue[Be].disabled=C}else E.disabled=C}const Cs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Zi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Os={},rs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Hs=E=>Object.prototype.hasOwnProperty.call(Cs,E),Ds=E=>-1!==Zi.indexOf(E),ps=E=>Os[E],lo=E=>{Hs(E)||Te(`Unknown parameter "${E}"`)},Yi=E=>{rs.includes(E)&&Te(`The parameter "${E}" is incompatible with toasts`)},mt=E=>{ps(E)&&ge(E,ps(E))};const Pn=E=>{const C={};return Object.keys(E).forEach(q=>{Ds(q)?C[q]=E[q]:Te(`Invalid parameter to update: ${q}`)}),C};const wr=E=>{hi(E),delete E.params,delete Ct.keydownHandler,delete Ct.keydownTarget,delete Ct.currentInstance},hi=E=>{E.isAwaitingPromise()?(Qi(Me,E),Me.awaitingPromise.set(E,!0)):(Qi(qi,E),Qi(Me,E))},Qi=(E,C)=>{for(const q in E)E[q].delete(C)};var jr=Object.freeze({__proto__:null,_destroy:function xr(){const E=Me.domCache.get(this),C=Me.innerParams.get(this);C?(E.popup&&Ct.swalCloseEventFinishedCallback&&(Ct.swalCloseEventFinishedCallback(),delete Ct.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),wr(this)):hi(this)},close:xi,closeModal:xi,closePopup:xi,closeToast:xi,disableButtons:function Li(){ns(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function Is(){Ki(this.getInput(),!0)},disableLoading:Vr,enableButtons:function ao(){ns(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function fs(){Ki(this.getInput(),!1)},getInput:function lr(E){const C=Me.innerParams.get(E||this),q=Me.domCache.get(E||this);return q?Bn(q.popup,C.input):null},handleAwaitingPromise:Fi,hideLoading:Vr,isAwaitingPromise:function ws(){return!!Me.awaitingPromise.get(this)},rejectPromise:function hs(E){const C=qi.swalPromiseReject.get(this);Fi(this),C&&C(E)},resetValidationMessage:function uo(){const E=Me.domCache.get(this);E.validationMessage&&on(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Pt(C,B.inputerror))},showValidationMessage:function bs(E){const C=Me.domCache.get(this),q=Me.innerParams.get(this);_t(C.validationMessage,E),C.validationMessage.className=B["validation-message"],q.customClass&&q.customClass.validationMessage&&kt(C.validationMessage,q.customClass.validationMessage),xn(C.validationMessage);const ue=this.getInput();ue&&(ue.setAttribute("aria-invalid",!0),ue.setAttribute("aria-describedby",B["validation-message"]),zn(ue),kt(ue,B.inputerror))},update:function Mt(E){const C=qe(),q=Me.innerParams.get(this);if(!C||St(C,q.hideClass.popup))return void Te("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ue=Pn(E),Be=Object.assign({},q,ue);Ei(this,Be),Me.innerParams.set(this,Be),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}});const Ci=E=>{let C=qe();C||new Ke,C=qe();const q=Tt();tt()?on(ut()):zs(C,E),xn(q),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},zs=(E,C)=>{const q=Un(),ue=Tt();!C&&Gn(At())&&(C=At()),xn(q),C&&(on(C),ue.setAttribute("data-button-to-replace",C.className)),ue.parentNode.insertBefore(ue,C),kt([E,q],B.loading)},No=E=>E.checked?1:0,yi=E=>E.checked?E.value:null,li=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ts=(E,C)=>{const q=qe(),ue=Be=>{Zo[C.input](q,fi(Be),C)};Qe(C.inputOptions)||ct(C.inputOptions)?(Ci(At()),Xe(C.inputOptions).then(Be=>{E.hideLoading(),ue(Be)})):"object"==typeof C.inputOptions?ue(C.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof C.inputOptions)},ni=(E,C)=>{const q=E.getInput();on(q),Xe(C.inputValue).then(ue=>{q.value="number"===C.input?`${parseFloat(ue)||0}`:`${ue}`,xn(q),q.focus(),E.hideLoading()}).catch(ue=>{de(`Error in inputValue promise: ${ue}`),q.value="",xn(q),q.focus(),E.hideLoading()})},Zo={select:(E,C,q)=>{const ue=$n(E,B.select),Be=(Rt,Je,gn)=>{const Hn=document.createElement("option");Hn.value=gn,_t(Hn,Je),Hn.selected=Ns(gn,q.inputValue),Rt.appendChild(Hn)};C.forEach(Rt=>{const Je=Rt[0],gn=Rt[1];if(Array.isArray(gn)){const Hn=document.createElement("optgroup");Hn.label=Je,Hn.disabled=!1,ue.appendChild(Hn),gn.forEach(wi=>Be(Hn,wi[1],wi[0]))}else Be(ue,gn,Je)}),ue.focus()},radio:(E,C,q)=>{const ue=$n(E,B.radio);C.forEach(Rt=>{const Je=Rt[0],gn=Rt[1],Hn=document.createElement("input"),wi=document.createElement("label");Hn.type="radio",Hn.name=B.radio,Hn.value=Je,Ns(Je,q.inputValue)&&(Hn.checked=!0);const Vt=document.createElement("span");_t(Vt,gn),Vt.className=B.label,wi.appendChild(Hn),wi.appendChild(Vt),ue.appendChild(wi)});const Be=ue.querySelectorAll("input");Be.length&&Be[0].focus()}},fi=E=>{const C=[];return typeof Map<"u"&&E instanceof Map?E.forEach((q,ue)=>{let Be=q;"object"==typeof Be&&(Be=fi(Be)),C.push([ue,Be])}):Object.keys(E).forEach(q=>{let ue=E[q];"object"==typeof ue&&(ue=fi(ue)),C.push([q,ue])}),C},Ns=(E,C)=>C&&C.toString()===E.toString(),ko=(E,C)=>{const q=Me.innerParams.get(E);if(!q.input)return void de(`The "input" parameter is needed to be set when using returnInputValueOn${be(C)}`);const ue=((E,C)=>{const q=E.getInput();if(!q)return null;switch(C.input){case"checkbox":return No(q);case"radio":return yi(q);case"file":return li(q);default:return C.inputAutoTrim?q.value.trim():q.value}})(E,q);q.inputValidator?vo(E,ue,C):E.getInput().checkValidity()?"deny"===C?Vi(E,ue):Gs(E,ue):(E.enableButtons(),E.showValidationMessage(q.validationMessage))},vo=(E,C,q)=>{const ue=Me.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>Xe(ue.inputValidator(C,ue.validationMessage))).then(Rt=>{E.enableButtons(),E.enableInput(),Rt?E.showValidationMessage(Rt):"deny"===q?Vi(E,C):Gs(E,C)})},Vi=(E,C)=>{const q=Me.innerParams.get(E||void 0);q.showLoaderOnDeny&&Ci(bt()),q.preDeny?(Me.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Xe(q.preDeny(C,q.validationMessage))).then(Be=>{!1===Be?(E.hideLoading(),Fi(E)):E.close({isDenied:!0,value:typeof Be>"u"?C:Be})}).catch(Be=>Fo(E||void 0,Be))):E.close({isDenied:!0,value:C})},ks=(E,C)=>{E.close({isConfirmed:!0,value:C})},Fo=(E,C)=>{E.rejectPromise(C)},Gs=(E,C)=>{const q=Me.innerParams.get(E||void 0);q.showLoaderOnConfirm&&Ci(),q.preConfirm?(E.resetValidationMessage(),Me.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>Xe(q.preConfirm(C,q.validationMessage))).then(Be=>{Gn(De())||!1===Be?(E.hideLoading(),Fi(E)):ks(E,typeof Be>"u"?C:Be)}).catch(Be=>Fo(E||void 0,Be))):ks(E,C)},x=(E,C,q)=>{C.popup.onclick=()=>{const ue=Me.innerParams.get(E);ue&&(k(ue)||ue.timer||ue.input)||q(yt.close)}},k=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let R=!1;const J=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(R=!0)}}},Le=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(R=!0)}}},tn=(E,C,q)=>{C.container.onclick=ue=>{const Be=Me.innerParams.get(E);R?R=!1:ue.target===C.container&&we(Be.allowOutsideClick)&&q(yt.backdrop)}},Or=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const Ui=()=>{if(Ct.timeout)return(()=>{const E=Re(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const q=parseInt(window.getComputedStyle(E).width);E.style.width=C/q*100+"%"})(),Ct.timeout.stop()},pi=()=>{if(Ct.timeout){const E=Ct.timeout.start();return pn(E),E}};let Xi=!1;const Mi={};const ga=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const q in Mi){const ue=C.getAttribute(q);if(ue)return void Mi[q].fire({template:ue})}};var Lo=Object.freeze({__proto__:null,argsToParams:E=>{const C={};return"object"!=typeof E[0]||Or(E[0])?["title","html","icon"].forEach((q,ue)=>{const Be=E[ue];"string"==typeof Be||Or(Be)?C[q]=Be:void 0!==Be&&de(`Unexpected type of ${q}! Expected "string" or "Element", got ${typeof Be}`)}):Object.assign(C,E[0]),C},bindClickHandler:function ho(){Mi[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xi||(document.body.addEventListener("click",ga),Xi=!0)},clickCancel:()=>Wt()&&Wt().click(),clickConfirm:Ie,clickDeny:()=>bt()&&bt().click(),enableLoading:Ci,fire:function Ji(){for(var C=arguments.length,q=new Array(C),ue=0;ue<C;ue++)q[ue]=arguments[ue];return new this(...q)},getActions:Un,getCancelButton:Wt,getCloseButton:Ve,getConfirmButton:At,getContainer:It,getDenyButton:bt,getFocusableElements:at,getFooter:je,getHtmlContainer:ot,getIcon:ut,getIconContent:()=>rt(B["icon-content"]),getImage:pt,getInputLabel:()=>rt(B["input-label"]),getLoader:Tt,getPopup:qe,getProgressSteps:ve,getTimerLeft:()=>Ct.timeout&&Ct.timeout.getTimerLeft(),getTimerProgressBar:Re,getTitle:nt,getValidationMessage:De,increaseTimer:E=>{if(Ct.timeout){const C=Ct.timeout.increase(E);return pn(C,!0),C}},isDeprecatedParameter:ps,isLoading:()=>qe().hasAttribute("data-loading"),isTimerRunning:()=>Ct.timeout&&Ct.timeout.isRunning(),isUpdatableParameter:Ds,isValidParameter:Hs,isVisible:()=>Gn(qe()),mixin:function Ss(E){return class C extends(this){_main(ue,Be){return super._main(ue,Object.assign({},E,Be))}}},resumeTimer:pi,showLoading:Ci,stopTimer:Ui,toggleTimer:()=>{const E=Ct.timeout;return E&&(E.running?Ui():pi())}});class ri{constructor(C,q){this.callback=C,this.remaining=q,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const q=this.running;return q&&this.stop(),this.remaining+=C,q&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Di=["swal-title","swal-html","swal-footer"],Er=E=>{const C={};return Array.from(E.querySelectorAll("swal-param")).forEach(ue=>{Ls(ue,["name","value"]);const Be=ue.getAttribute("name"),Rt=ue.getAttribute("value");C[Be]="boolean"==typeof Cs[Be]?"false"!==Rt:"object"==typeof Cs[Be]?JSON.parse(Rt):Rt}),C},wo=E=>{const C={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(ue=>{const Be=ue.getAttribute("name"),Rt=ue.getAttribute("value");C[Be]=new Function(`return ${Rt}`)()}),C},ta=E=>{const C={};return Array.from(E.querySelectorAll("swal-button")).forEach(ue=>{Ls(ue,["type","color","aria-label"]);const Be=ue.getAttribute("type");C[`${Be}ButtonText`]=ue.innerHTML,C[`show${be(Be)}Button`]=!0,ue.hasAttribute("color")&&(C[`${Be}ButtonColor`]=ue.getAttribute("color")),ue.hasAttribute("aria-label")&&(C[`${Be}ButtonAriaLabel`]=ue.getAttribute("aria-label"))}),C},$i=E=>{const C={},q=E.querySelector("swal-image");return q&&(Ls(q,["src","width","height","alt"]),q.hasAttribute("src")&&(C.imageUrl=q.getAttribute("src")),q.hasAttribute("width")&&(C.imageWidth=q.getAttribute("width")),q.hasAttribute("height")&&(C.imageHeight=q.getAttribute("height")),q.hasAttribute("alt")&&(C.imageAlt=q.getAttribute("alt"))),C},na=E=>{const C={},q=E.querySelector("swal-icon");return q&&(Ls(q,["type","color"]),q.hasAttribute("type")&&(C.icon=q.getAttribute("type")),q.hasAttribute("color")&&(C.iconColor=q.getAttribute("color")),C.iconHtml=q.innerHTML),C},Eo=E=>{const C={},q=E.querySelector("swal-input");q&&(Ls(q,["type","label","placeholder","value"]),C.input=q.getAttribute("type")||"text",q.hasAttribute("label")&&(C.inputLabel=q.getAttribute("label")),q.hasAttribute("placeholder")&&(C.inputPlaceholder=q.getAttribute("placeholder")),q.hasAttribute("value")&&(C.inputValue=q.getAttribute("value")));const ue=Array.from(E.querySelectorAll("swal-input-option"));return ue.length&&(C.inputOptions={},ue.forEach(Be=>{Ls(Be,["value"]);const Rt=Be.getAttribute("value");C.inputOptions[Rt]=Be.innerHTML})),C},As=(E,C)=>{const q={};for(const ue in C){const Be=C[ue],Rt=E.querySelector(Be);Rt&&(Ls(Rt,[]),q[Be.replace(/^swal-/,"")]=Rt.innerHTML.trim())}return q},Io=E=>{const C=Di.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(q=>{const ue=q.tagName.toLowerCase();C.includes(ue)||Te(`Unrecognized element <${ue}>`)})},Ls=(E,C)=>{Array.from(E.attributes).forEach(q=>{-1===C.indexOf(q.name)&&Te([`Unrecognized attribute "${q.name}" on <${E.tagName.toLowerCase()}>.`,C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."])})},Pi=E=>{const C=It(),q=qe();"function"==typeof E.willOpen&&E.willOpen(q);const Be=window.getComputedStyle(document.body).overflowY;Vo(C,q,E),setTimeout(()=>{Ti(C,q)},10),et()&&(Nr(C,E.scrollbarPadding,Be),Array.from(document.body.children).forEach(C=>{C===It()||C.contains(It())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!tt()&&!Ct.previousActiveElement&&(Ct.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(q)),Pt(C,B["no-transition"])},fr=E=>{const C=qe();if(E.target!==C)return;const q=It();C.removeEventListener(er,fr),q.style.overflowY="auto"},Ti=(E,C)=>{er&&Wr(C)?(E.style.overflowY="hidden",C.addEventListener(er,fr)):E.style.overflowY="auto"},Nr=(E,C,q)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!St(document.body,B.iosfix)){const C=document.body.scrollTop;document.body.style.top=-1*C+"px",kt(document.body,B.iosfix),Qr(),ys()}})(),C&&"hidden"!==q&&vs(),setTimeout(()=>{E.scrollTop=0})},Vo=(E,C,q)=>{kt(E,q.showClass.backdrop),C.style.setProperty("opacity","0","important"),xn(C,"grid"),setTimeout(()=>{kt(C,q.showClass.popup),C.style.removeProperty("opacity")},10),kt([document.documentElement,document.body],B.shown),q.heightAuto&&q.backdrop&&!q.toast&&kt([document.documentElement,document.body],B["height-auto"])};var Vs={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function xa(E){(function ra(E){E.inputValidator||Object.keys(Vs).forEach(C=>{E.input===C&&(E.inputValidator=Vs[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&Te("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Yo(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(Te('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),rn(E)}let Us;class xs{constructor(){if(typeof window>"u")return;Us=this;for(var C=arguments.length,q=new Array(C),ue=0;ue<C;ue++)q[ue]=arguments[ue];const Be=Object.freeze(this.constructor.argsToParams(q));Object.defineProperties(this,{params:{value:Be,writable:!1,enumerable:!0,configurable:!0}});const Rt=Us._main(Us.params);Me.promise.set(this,Rt)}_main(C){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!1===E.backdrop&&E.allowOutsideClick&&Te('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)lo(C),E.toast&&Yi(C),mt(C)})(Object.assign({},q,C)),Ct.currentInstance&&(Ct.currentInstance._destroy(),et()&&cs()),Ct.currentInstance=Us;const ue=Ma(C,q);xa(ue),Object.freeze(ue),Ct.timeout&&(Ct.timeout.stop(),delete Ct.timeout),clearTimeout(Ct.restoreFocusTimeout);const Be=A(Us);return Ei(Us,ue),Me.innerParams.set(Us,ue),ma(Us,Be,ue)}then(C){return Me.promise.get(this).then(C)}finally(C){return Me.promise.get(this).finally(C)}}const ma=(E,C,q)=>new Promise((ue,Be)=>{const Rt=Je=>{E.close({isDismissed:!0,dismiss:Je})};qi.swalPromiseResolve.set(E,ue),qi.swalPromiseReject.set(E,Be),C.confirmButton.onclick=()=>{(E=>{const C=Me.innerParams.get(E);E.disableButtons(),C.input?ko(E,"confirm"):Gs(E,!0)})(E)},C.denyButton.onclick=()=>{(E=>{const C=Me.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?ko(E,"deny"):Vi(E,!1)})(E)},C.cancelButton.onclick=()=>{((E,C)=>{E.disableButtons(),C(yt.cancel)})(E,Rt)},C.closeButton.onclick=()=>{Rt(yt.close)},((E,C,q)=>{Me.innerParams.get(E).toast?x(E,C,q):(J(C),Le(C),tn(E,C,q))})(E,C,Rt),((E,C,q,ue)=>{ln(C),q.toast||(C.keydownHandler=Be=>Kr(E,Be,ue),C.keydownTarget=q.keydownListenerCapture?window:qe(),C.keydownListenerCapture=q.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,Ct,q,Rt),((E,C)=>{"select"===C.input||"radio"===C.input?Ts(E,C):["text","email","number","tel","textarea"].includes(C.input)&&(Qe(C.inputValue)||ct(C.inputValue))&&(Ci(At()),ni(E,C))})(E,q),Pi(q),G(Ct,q,Rt),F(C,q),setTimeout(()=>{C.container.scrollTop=0})}),Ma=(E,C)=>{const q=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const q=C.content;return Io(q),Object.assign(Er(q),wo(q),ta(q),$i(q),na(q),Eo(q),As(q,Di))})(E),ue=Object.assign({},Cs,C,q,E);return ue.showClass=Object.assign({},Cs.showClass,ue.showClass),ue.hideClass=Object.assign({},Cs.hideClass,ue.hideClass),ue},A=E=>{const C={popup:qe(),container:It(),actions:Un(),confirmButton:At(),denyButton:bt(),cancelButton:Wt(),loader:Tt(),closeButton:Ve(),validationMessage:De(),progressSteps:ve()};return Me.domCache.set(E,C),C},G=(E,C,q)=>{const ue=Re();on(ue),C.timer&&(E.timeout=new ri(()=>{q("timer"),delete E.timeout},C.timer),C.timerProgressBar&&(xn(ue),_n(ue,C,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&pn(C.timer)})))},F=(E,C)=>{if(!C.toast){if(!we(C.allowEnterKey))return void pe();Q(E,C)||fn(-1,1)}},Q=(E,C)=>C.focusDeny&&Gn(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&Gn(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!Gn(E.confirmButton)||(E.confirmButton.focus(),0)),pe=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const E=new Date,C=localStorage.getItem("swal-initiation");C?(E.getTime()-Date.parse(C))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const q=document.createElement("audio");q.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",q.loop=!0,document.body.appendChild(q),setTimeout(()=>{q.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${E}`)}Object.assign(xs.prototype,jr),Object.assign(xs,Lo),Object.keys(jr).forEach(E=>{xs[E]=function(){if(Us)return Us[E](...arguments)}}),xs.DismissReason=yt,xs.version="11.7.3";const Ke=xs;return Ke.default=Ke,Ke}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Me,H){var p=Me.createElement("style");if(Me.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=H);else try{p.innerHTML=H}catch{p.innerText=H}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},6895:(Zt,Me,H)=>{"use strict";H.d(Me,{Do:()=>qe,EM:()=>ps,HT:()=>_e,JF:()=>Mt,K0:()=>be,Mx:()=>Oi,O5:()=>Ie,PM:()=>Os,RF:()=>ln,S$:()=>It,V_:()=>ke,Ye:()=>ut,b0:()=>rt,bD:()=>Is,ez:()=>fs,n9:()=>En,q:()=>M,sg:()=>Ni,w_:()=>ce});var p=H(4650);let B=null;function M(){return B}function _e(A){B||(B=A)}class ce{}const be=new p.OlP("DocumentToken");let Te=(()=>{class A{historyGo(F){throw new Error("Not implemented")}}return A.\u0275fac=function(F){return new(F||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return function de(){return(0,p.LFG)(ae)}()},providedIn:"platform"}),A})();const ke=new p.OlP("Location Initialized");let ae=(()=>{class A extends Te{constructor(F){super(),this._doc=F,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(F){const Q=M().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",F,!1),()=>Q.removeEventListener("popstate",F)}onHashChange(F){const Q=M().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",F,!1),()=>Q.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,Q,pe){ge()?this._history.pushState(F,Q,pe):this._location.hash=pe}replaceState(F,Q,pe){ge()?this._history.replaceState(F,Q,pe):this._location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return A.\u0275fac=function(F){return new(F||A)(p.LFG(be))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function we(){return new ae((0,p.LFG)(be))}()},providedIn:"platform"}),A})();function ge(){return!!window.history.pushState}function Qe(A,G){if(0==A.length)return G;if(0==G.length)return A;let F=0;return A.endsWith("/")&&F++,G.startsWith("/")&&F++,2==F?A+G.substring(1):1==F?A+G:A+"/"+G}function Xe(A){const G=A.match(/#|\?|$/),F=G&&G.index||A.length;return A.slice(0,F-("/"===A[F-1]?1:0))+A.slice(F)}function ct(A){return A&&"?"!==A[0]?"?"+A:A}let It=(()=>{class A{historyGo(F){throw new Error("Not implemented")}}return A.\u0275fac=function(F){return new(F||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return(0,p.f3M)(rt)},providedIn:"root"}),A})();const Fe=new p.OlP("appBaseHref");let rt=(()=>{class A extends It{constructor(F,Q){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Qe(this._baseHref,F)}path(F=!1){const Q=this._platformLocation.pathname+ct(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&F?`${Q}${pe}`:Q}pushState(F,Q,pe,Ke){const E=this.prepareExternalUrl(pe+ct(Ke));this._platformLocation.pushState(F,Q,E)}replaceState(F,Q,pe,Ke){const E=this.prepareExternalUrl(pe+ct(Ke));this._platformLocation.replaceState(F,Q,E)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return A.\u0275fac=function(F){return new(F||A)(p.LFG(Te),p.LFG(Fe,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),qe=(()=>{class A extends It{constructor(F,Q){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(F){const Q=Qe(this._baseHref,F);return Q.length>0?"#"+Q:Q}pushState(F,Q,pe,Ke){let E=this.prepareExternalUrl(pe+ct(Ke));0==E.length&&(E=this._platformLocation.pathname),this._platformLocation.pushState(F,Q,E)}replaceState(F,Q,pe,Ke){let E=this.prepareExternalUrl(pe+ct(Ke));0==E.length&&(E=this._platformLocation.pathname),this._platformLocation.replaceState(F,Q,E)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return A.\u0275fac=function(F){return new(F||A)(p.LFG(Te),p.LFG(Fe,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac}),A})(),ut=(()=>{class A{constructor(F){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const Q=this._locationStrategy.getBaseHref();this._basePath=function pt(A){if(new RegExp("^(https?:)?//").test(A)){const[,F]=A.split(/\/\/[^\/]+/);return F}return A}(Xe(ot(Q))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,Q=""){return this.path()==this.normalize(F+ct(Q))}normalize(F){return A.stripTrailingSlash(function nt(A,G){if(!A||!G.startsWith(A))return G;const F=G.substring(A.length);return""===F||["/",";","?","#"].includes(F[0])?F:G}(this._basePath,ot(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,Q="",pe=null){this._locationStrategy.pushState(pe,"",F,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ct(Q)),pe)}replaceState(F,Q="",pe=null){this._locationStrategy.replaceState(pe,"",F,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ct(Q)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",Q){this._urlChangeListeners.forEach(pe=>pe(F,Q))}subscribe(F,Q,pe){return this._subject.subscribe({next:F,error:Q,complete:pe})}}return A.normalizeQueryParams=ct,A.joinWithSlash=Qe,A.stripTrailingSlash=Xe,A.\u0275fac=function(F){return new(F||A)(p.LFG(It))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Ze(){return new ut((0,p.LFG)(It))}()},providedIn:"root"}),A})();function ot(A){return A.replace(/\/index.html$/,"")}function Oi(A,G){G=encodeURIComponent(G);for(const F of A.split(";")){const Q=F.indexOf("="),[pe,Ke]=-1==Q?[F,""]:[F.slice(0,Q),F.slice(Q+1)];if(pe.trim()===G)return decodeURIComponent(Ke)}return null}class Vr{constructor(G,F,Q,pe){this.$implicit=G,this.ngForOf=F,this.index=Q,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class A{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,Q,pe){this._viewContainer=F,this._template=Q,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const Q=this._viewContainer;F.forEachOperation((pe,Ke,E)=>{if(null==pe.previousIndex)Q.createEmbeddedView(this._template,new Vr(pe.item,this._ngForOf,-1,-1),null===E?void 0:E);else if(null==E)Q.remove(null===Ke?void 0:Ke);else if(null!==Ke){const C=Q.get(Ke);Q.move(C,E),lr(C,pe)}});for(let pe=0,Ke=Q.length;pe<Ke;pe++){const C=Q.get(pe).context;C.index=pe,C.count=Ke,C.ngForOf=this._ngForOf}F.forEachIdentityChange(pe=>{lr(Q.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(F,Q){return!0}}return A.\u0275fac=function(F){return new(F||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function lr(A,G){A.context.$implicit=G.item}let Ie=(()=>{class A{constructor(F,Q){this._viewContainer=F,this._context=new Ce,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){lt("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){lt("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,Q){return!0}}return A.\u0275fac=function(F){return new(F||A)(p.Y36(p.s_b),p.Y36(p.Rgc))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Ce{constructor(){this.$implicit=null,this.ngIf=null}}function lt(A,G){if(G&&!G.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,p.AaK)(G)}'.`)}class yt{constructor(G,F){this._viewContainerRef=G,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let ln=(()=>{class A{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews.push(F)}_matchCase(F){const Q=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(F){if(this._defaultViews.length>0&&F!==this._defaultUsed){this._defaultUsed=F;for(const Q of this._defaultViews)Q.enforceState(F)}}}return A.\u0275fac=function(F){return new(F||A)},A.\u0275dir=p.lG2({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),A})(),En=(()=>{class A{constructor(F,Q,pe){this.ngSwitch=pe,pe._addCase(),this._view=new yt(F,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return A.\u0275fac=function(F){return new(F||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(ln,9))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),A})(),fs=(()=>{class A{}return A.\u0275fac=function(F){return new(F||A)},A.\u0275mod=p.oAB({type:A}),A.\u0275inj=p.cJS({}),A})();const Is="browser",bs="server";function Os(A){return A===bs}let ps=(()=>{class A{}return A.\u0275prov=(0,p.Yz7)({token:A,providedIn:"root",factory:()=>new lo((0,p.LFG)(be),window)}),A})();class lo{constructor(G,F){this.document=G,this.window=F,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const F=function mt(A,G){const F=A.getElementById(G)||A.getElementsByName(G)[0];if(F)return F;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const Q=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let pe=Q.currentNode;for(;pe;){const Ke=pe.shadowRoot;if(Ke){const E=Ke.getElementById(G)||Ke.querySelector(`[name="${G}"]`);if(E)return E}pe=Q.nextNode()}}return null}(this.document,G);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=G)}}scrollToElement(G){const F=G.getBoundingClientRect(),Q=F.left+this.window.pageXOffset,pe=F.top+this.window.pageYOffset,Ke=this.offset();this.window.scrollTo(Q-Ke[0],pe-Ke[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yi(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Mt{}},4650:(Zt,Me,H)=>{"use strict";H.d(Me,{$8M:()=>os,$WT:()=>Br,$Z:()=>kh,AFp:()=>Z0,AaK:()=>de,CHM:()=>R,CRH:()=>S0,CZH:()=>fy,CqO:()=>Jc,D6c:()=>TI,EJc:()=>jE,EpF:()=>sf,F4k:()=>Em,FYo:()=>Gf,FiY:()=>si,GfV:()=>Dh,Gpc:()=>ge,JOm:()=>Xo,KtG:()=>J,LFG:()=>rn,Lbi:()=>UE,Lck:()=>Pw,MMx:()=>c_,NdJ:()=>Np,OlP:()=>gr,Oqu:()=>nc,P3R:()=>Vf,PXZ:()=>rI,Q6J:()=>Pp,QGY:()=>Ld,Qsj:()=>Py,R0b:()=>Au,RDi:()=>ts,Rgc:()=>ug,SBq:()=>nu,Sil:()=>zE,Suo:()=>T0,TTD:()=>Ds,TgZ:()=>Qc,X6Q:()=>uI,XFs:()=>xt,Xpm:()=>en,Xts:()=>Hl,Y36:()=>kc,YKP:()=>o0,YNc:()=>nf,Yjl:()=>Dn,Yz7:()=>St,Z0I:()=>zn,ZZ4:()=>F_,_Bn:()=>s0,_UZ:()=>Rp,_Vd:()=>gd,_c5:()=>CI,_uU:()=>Kp,aQg:()=>L_,c2e:()=>BE,cJS:()=>_n,cg1:()=>qm,dDg:()=>XE,dqk:()=>pn,eFA:()=>uw,eJc:()=>w_,ekj:()=>Gp,eoX:()=>iw,f3M:()=>Yn,g9A:()=>Q0,h0i:()=>Df,hGG:()=>DI,iGM:()=>D0,ifc:()=>$,ip1:()=>K0,jDz:()=>u0,kL8:()=>Zm,lG2:()=>an,lqb:()=>Ta,lri:()=>nw,n5z:()=>$a,oAB:()=>Oe,oxw:()=>bm,q4F:()=>Th,qLn:()=>gl,qOj:()=>Cp,qZA:()=>kd,rWj:()=>rw,sBO:()=>lI,s_b:()=>cy,soG:()=>py,tb:()=>ow,tp0:()=>$s,uIk:()=>Ap,vHH:()=>Fe,vpe:()=>Pl,wAp:()=>Kn,xp6:()=>Wg,z2F:()=>gy,zSh:()=>wh,zs3:()=>Kl});var p=H(7579),B=H(727),M=H(9751),_e=H(6451),ce=H(3099);function be(n){for(let i in n)if(n[i]===be)return i;throw Error("Could not find renamed property on target object.")}function Te(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function de(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(de).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ke(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ae=be({__forward_ref__:be});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return de(this())},n}function we(n){return Qe(n)?n():n}function Qe(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===ge}function Xe(n){return n&&!!n.\u0275providers}const It="https://g.co/ng/security#xss";class Fe extends Error{constructor(i,o){super(rt(i,o)),this.code=i}}function rt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function qe(n){return"string"==typeof n?n:null==n?"":String(n)}function pt(n,i){throw new Fe(-201,!1)}function et(n,i){null==n&&function tt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function St(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _n(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bn(n){return Ln(n,$n)||Ln(n,xn)}function zn(n){return null!==Bn(n)}function Ln(n,i){return n.hasOwnProperty(i)?n[i]:null}function Pt(n){return n&&(n.hasOwnProperty(jn)||n.hasOwnProperty(on))?n[jn]:null}const $n=be({\u0275prov:be}),jn=be({\u0275inj:be}),xn=be({ngInjectableDef:be}),on=be({ngInjectorDef:be});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let sn;function nr(n){const i=sn;return sn=n,i}function rr(n,i,o){const u=Bn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&xt.Optional?null:void 0!==i?i:void pt(de(n))}const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},or="__NG_DI_FLAG__",Xn="ngTempTokenPath",kr="ngTokenPath",vr=/\n/gm,pr="\u0275",In="__source";let Fr;function bn(n){const i=Fr;return Fr=n,i}function qt(n,i=xt.Default){if(void 0===Fr)throw new Fe(-203,!1);return null===Fr?rr(n,void 0,i):Fr.get(n,i&xt.Optional?null:void 0,i)}function rn(n,i=xt.Default){return(function Gn(){return sn}()||qt)(we(n),i)}function Yn(n,i=xt.Default){return rn(n,Ur(i))}function Ur(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function er(n){const i=[];for(let o=0;o<n.length;o++){const u=we(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,!1);let l,h=xt.Default;for(let y=0;y<u.length;y++){const T=u[y],O=Pr(T);"number"==typeof O?-1===O?l=T.token:h|=O:l=T}i.push(rn(l,h))}else i.push(rn(u))}return i}function Lr(n,i){return n[or]=i,n.prototype[or]=i,n}function Pr(n){return n[or]}function L(n){return{toString:n}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),$=(()=>{return(n=$||($={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$;var n})();const j={},he=[],oe=be({\u0275cmp:be}),le=be({\u0275dir:be}),ie=be({\u0275pipe:be}),Ee=be({\u0275mod:be}),Ue=be({\u0275fac:be}),ht=be({__NG_ELEMENT_ID__:be});let Jt=0;function en(n){return L(()=>{const i=mi(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||$.Emulated,id:"c"+Jt++,styles:n.styles||he,_:null,schemas:n.schemas||null,tView:null};$r(o);const u=n.dependencies;return o.directiveDefs=Oi(u,!1),o.pipeDefs=Oi(u,!0),o})}function Ar(n){return Yt(n)||On(n)}function We(n){return null!==n}function Oe(n){return L(()=>({type:n.type,bootstrap:n.bootstrap||he,declarations:n.declarations||he,imports:n.imports||he,exports:n.exports||he,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ht(n,i){if(null==n)return j;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function an(n){return L(()=>{const i=mi(n);return $r(i),i})}function Dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yt(n){return n[oe]||null}function On(n){return n[le]||null}function kn(n){return n[ie]||null}function Br(n){const i=Yt(n)||On(n)||kn(n);return null!==i&&i.standalone}function Ir(n,i){const o=n[Ee]||null;if(!o&&!0===i)throw new Error(`Type ${de(n)} does not have '\u0275mod' property.`);return o}function mi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||he,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ht(n.inputs,i),outputs:Ht(n.outputs)}}function $r(n){n.features?.forEach(i=>i(n))}function Oi(n,i){if(!n)return null;const o=i?kn:Ar;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(We)}const Rr=0,Bt=1,Tn=2,br=3,ur=4,Ei=5,Vr=6,Ni=7,lr=8,Pe=9,Ie=10,Ce=11,lt=12,yt=13,ln=14,En=15,fn=16,Fn=17,ai=18,Kr=19,Xr=20,Yr=21,Tr=22,qi=1,ki=2,cs=7,ds=8,ys=9,Qr=10;function ui(n){return Array.isArray(n)&&"object"==typeof n[qi]}function ei(n){return Array.isArray(n)&&!0===n[qi]}function bi(n){return 0!=(4&n.flags)}function vs(n){return n.componentOffset>-1}function _s(n){return 1==(1&n.flags)}function ti(n){return!!n.template}function cr(n){return 0!=(256&n[Tn])}function rs(n,i){return n.hasOwnProperty(Ue)?n[Ue]:null}class Hs{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ds(){return ps}function ps(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yi),lo}function lo(){const n=yn(this),i=n?.current;if(i){const o=n.previous;if(o===j)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Yi(n,i,o,u){const l=this.declaredInputs[o],h=yn(n)||function Mt(n,i){return n[mt]=i}(n,{previous:j,current:null}),y=h.current||(h.current={}),T=h.previous,O=T[l];y[l]=new Hs(O&&O.currentValue,i,T===j),n[u]=i}Ds.ngInherit=!0;const mt="__ngSimpleChanges__";function yn(n){return n[mt]||null}const wr=function(n,i,o){};function jr(n){for(;Array.isArray(n);)n=n[Rr];return n}function zs(n,i){return jr(i[n])}function Qn(n,i){return jr(i[n.index])}function No(n,i){return n.data[i]}function li(n,i){const o=i[n];return ui(o)?o:o[Rr]}function ni(n){return 64==(64&n[Tn])}function fi(n,i){return null==i?null:n[i]}function Ns(n){n[ai]=0}function vi(n,i){n[Ei]+=i;let o=n,u=n[br];for(;null!==u&&(1===i&&1===o[Ei]||-1===i&&0===o[Ei]);)u[Ei]+=i,o=u,u=u[br]}const Mn={lFrame:Eo(null),bindingsEnabled:!0};function Fo(){return Mn.bindingsEnabled}function x(){return Mn.lFrame.lView}function k(){return Mn.lFrame.tView}function R(n){return Mn.lFrame.contextLView=n,n[lr]}function J(n){return Mn.lFrame.contextLView=null,n}function Le(){let n=tn();for(;null!==n&&64===n.type;)n=n.parent;return n}function tn(){return Mn.lFrame.currentTNode}function Or(n,i){const o=Mn.lFrame;o.currentTNode=n,o.isParent=i}function is(){return Mn.lFrame.isParent}function Fs(){return Mn.lFrame.bindingIndex++}function ga(n,i){const o=Mn.lFrame;o.bindingIndex=o.bindingRootIndex=n,ri(i)}function ri(n){Mn.lFrame.currentDirectiveIndex=n}function fo(){return Mn.lFrame.currentQueryIndex}function Er(n){Mn.lFrame.currentQueryIndex=n}function wo(n){const i=n[Bt];return 2===i.type?i.declTNode:1===i.type?n[Vr]:null}function ta(n,i,o){if(o&xt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&xt.Host||(l=wo(h),null===l||(h=h[En],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Mn.lFrame=na();return u.currentTNode=i,u.lView=n,!0}function $i(n){const i=na(),o=n[Bt];Mn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function na(){const n=Mn.lFrame,i=null===n?null:n.child;return null===i?Eo(n):i}function Eo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function As(){const n=Mn.lFrame;return Mn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Io=As;function Ls(){const n=As();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fr(){return Mn.lFrame.selectedIndex}function Ti(n){Mn.lFrame.selectedIndex=n}function Nr(){const n=Mn.lFrame;return No(n.tView,n.selectedIndex)}function xs(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:X}=h;y&&(n.contentHooks??(n.contentHooks=[])).push(-o,y),T&&((n.contentHooks??(n.contentHooks=[])).push(o,T),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,T)),O&&(n.viewHooks??(n.viewHooks=[])).push(-o,O),z&&((n.viewHooks??(n.viewHooks=[])).push(o,z),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,z)),null!=X&&(n.destroyHooks??(n.destroyHooks=[])).push(o,X)}}function ma(n,i,o){G(n,i,3,o)}function Ma(n,i,o,u){(3&n[Tn])===o&&G(n,i,o,u)}function A(n,i){let o=n[Tn];(3&o)===i&&(o&=2047,o+=1,n[Tn]=o)}function G(n,i,o,u){const h=u??-1,y=i.length-1;let T=0;for(let O=void 0!==u?65535&n[ai]:0;O<y;O++)if("number"==typeof i[O+1]){if(T=i[O],null!=u&&T>=u)break}else i[O]<0&&(n[ai]+=65536),(T<h||-1==h)&&(F(n,o,i,O),n[ai]=(4294901760&n[ai])+O+2),O++}function F(n,i,o,u){const l=o[u]<0,h=o[u+1],T=n[l?-o[u]:o[u]];if(l){if(n[Tn]>>11<n[ai]>>16&&(3&n[Tn])===i){n[Tn]+=2048,wr(4,T,h);try{h.call(T)}finally{wr(5,T,h)}}}else{wr(4,T,h);try{h.call(T)}finally{wr(5,T,h)}}}const Q=-1;class pe{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function gn(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],y=o[u++],T=o[u++];n.setAttribute(i,y,T,h)}else{const h=l,y=o[++u];wi(h)?n.setProperty(i,h,y):n.setAttribute(i,h,y),u++}}return u}function Hn(n){return 3===n||4===n||6===n}function wi(n){return 64===n.charCodeAt(0)}function Vt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||un(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function un(n,i,o,u,l){let h=0,y=n.length;if(-1===i)y=-1;else for(;h<n.length;){const T=n[h++];if("number"==typeof T){if(T===i){y=-1;break}if(T>i){y=h-1;break}}}for(;h<n.length;){const T=n[h];if("number"==typeof T)break;if(T===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==y&&(n.splice(y,0,i),h=y+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Ri(n){return n!==Q}function Nt(n){return 32767&n}function gt(n,i){let o=function $e(n){return n>>16}(n),u=i;for(;o>0;)u=u[En],o--;return u}let Si=!0;function Pa(n){const i=Si;return Si=n,i}const Ra=255,lu=5;let xu=0;const po={};function Mu(n,i){const o=Ol(n,i);if(-1!==o)return o;const u=i[Bt];u.firstCreatePass&&(n.injectorIndex=i.length,ia(u.data,n),ia(i,null),ia(u.blueprint,null));const l=ii(n,i),h=n.injectorIndex;if(Ri(l)){const y=Nt(l),T=gt(l,i),O=T[Bt].data;for(let z=0;z<8;z++)i[h+z]=T[y+z]|O[y+z]}return i[h+8]=l,h}function ia(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ol(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ii(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=aa(l),null===u)return Q;if(o++,l=l[En],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Q}function Nn(n,i,o){!function Rl(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ht)&&(u=o[ht]),null==u&&(u=o[ht]=xu++);const l=u&Ra;i.data[n+(l>>lu)]|=1<<l}(n,i,o)}function Ba(n,i,o){if(o&xt.Optional||void 0!==n)return n;pt()}function Zr(n,i,o,u){if(o&xt.Optional&&void 0===u&&(u=null),!(o&(xt.Self|xt.Host))){const l=n[Pe],h=nr(void 0);try{return l?l.get(i,u,o&xt.Optional):rr(i,u,o&xt.Optional)}finally{nr(h)}}return Ba(u,0,o)}function Cn(n,i,o,u=xt.Default,l){if(null!==n){if(1024&i[Tn]){const y=function _a(n,i,o,u,l){let h=n,y=i;for(;null!==h&&null!==y&&1024&y[Tn]&&!(256&y[Tn]);){const T=oa(h,y,o,u|xt.Self,po);if(T!==po)return T;let O=h.parent;if(!O){const z=y[Yr];if(z){const X=z.get(o,po,u);if(X!==po)return X}O=aa(y),y=y[En]}h=O}return l}(n,i,o,u,po);if(y!==po)return y}const h=oa(n,i,o,u,po);if(h!==po)return h}return Zr(i,o,u,l)}function oa(n,i,o,u,l){const h=function zt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ht)?n[ht]:void 0;return"number"==typeof i?i>=0?i&Ra:Xu:i}(o);if("function"==typeof h){if(!ta(i,n,u))return u&xt.Host?Ba(l,0,u):Zr(i,o,u,l);try{const y=h(u);if(null!=y||u&xt.Optional)return y;pt()}finally{Io()}}else if("number"==typeof h){let y=null,T=Ol(n,i),O=Q,z=u&xt.Host?i[fn][Vr]:null;for((-1===T||u&xt.SkipSelf)&&(O=-1===T?ii(n,i):i[T+8],O!==Q&&ya(u,!1)?(y=i[Bt],T=Nt(O),i=gt(O,i)):T=-1);-1!==T;){const X=i[Bt];if(Uo(h,T,X.data)){const fe=Rn(T,i,o,y,u,z);if(fe!==po)return fe}O=i[T+8],O!==Q&&ya(u,i[Bt].data[T+8]===z)&&Uo(h,T,i)?(y=X,T=Nt(O),i=gt(O,i)):T=-1}}return l}function Rn(n,i,o,u,l,h){const y=i[Bt],T=y.data[n+8],X=ss(T,y,o,null==u?vs(T)&&Si:u!=y&&0!=(3&T.type),l&xt.Host&&h===T);return null!==X?Zn(i,y,X,T):po}function ss(n,i,o,u,l){const h=n.providerIndexes,y=i.data,T=1048575&h,O=n.directiveStart,X=h>>20,xe=l?T+X:n.directiveEnd;for(let Ge=u?T:T+X;Ge<xe;Ge++){const vt=y[Ge];if(Ge<O&&o===vt||Ge>=O&&vt.type===o)return Ge}if(l){const Ge=y[O];if(Ge&&ti(Ge)&&Ge.type===o)return O}return null}function Zn(n,i,o,u){let l=n[o];const h=i.data;if(function Ke(n){return n instanceof pe}(l)){const y=l;y.resolving&&function Ze(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():qe(n)}(h[o]));const T=Pa(y.canSeeViewProviders);y.resolving=!0;const O=y.injectImpl?nr(y.injectImpl):null;ta(n,u,xt.Default);try{l=n[o]=y.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Us(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const y=ps(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,y)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==O&&nr(O),Pa(T),y.resolving=!1,Io()}}return l}function Uo(n,i,o){return!!(o[i+(n>>lu)]&1<<n)}function ya(n,i){return!(n&xt.Self||n&xt.Host&&i)}class qs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Cn(this._tNode,this._lView,i,Ur(u),o)}}function Xu(){return new qs(Le(),x())}function $a(n){return L(()=>{const i=n.prototype.constructor,o=i[Ue]||va(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Ue]||va(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function va(n){return Qe(n)?()=>{const i=va(we(n));return i&&i()}:rs(n)}function aa(n){const i=n[Bt],o=i.type;return 2===o?i.declTNode:1===o?n[Vr]:null}function os(n){return function sa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Hn(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Le(),n)}const Ks="__parameters__";function bo(n,i,o){return L(()=>{const u=function as(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const y=new l(...h);return T.annotation=y,T;function T(O,z,X){const fe=O.hasOwnProperty(Ks)?O[Ks]:Object.defineProperty(O,Ks,{value:[]})[Ks];for(;fe.length<=X;)fe.push(null);return(fe[X]=fe[X]||[]).push(y),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class gr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=St({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $o(n,i){n.forEach(o=>Array.isArray(o)?$o(o,i):i(o))}function Qs(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ia(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Js(n,i,o){let u=v(n,i);return u>=0?n[1|u]=o:(u=~u,function Ga(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Oa(n,i){const o=v(n,i);if(o>=0)return n[1|o]}function v(n,i){return function m(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),y=n[h<<o];if(i===y)return h<<o;y>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const si=Lr(bo("Optional"),8),$s=Lr(bo("SkipSelf"),4);var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();const gs=new Map;let ud=0;const ye="__ngContext__";function Se(n,i){ui(i)?(n[ye]=i[Xr],function Fa(n){gs.set(n[Xr],n)}(i)):n[ye]=i}let So;function Ao(n,i){return So(n,i)}function pc(n){const i=n[br];return ei(i)?i[br]:i}function da(n){return al(n[yt])}function vu(n){return al(n[ur])}function al(n){for(;null!==n&&!ei(n);)n=n[ur];return n}function Ja(n,i,o,u,l){if(null!=u){let h,y=!1;ei(u)?h=u:ui(u)&&(y=!0,u=u[Rr]);const T=jr(u);0===n&&null!==o?null==l?xo(i,o,T):ir(i,o,T,l||null,!0):1===n&&null!==o?ir(i,o,T,l||null,!0):2===n?function sh(n,i,o){const u=Uu(n,i);u&&function vc(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,T,y):3===n&&i.destroyNode(T),null!=h&&function _y(n,i,o,u,l){const h=o[cs];h!==jr(o)&&Ja(i,n,u,h,l);for(let T=Qr;T<o.length;T++){const O=o[T];bc(O[Bt],O,n,i,u,h)}}(i,n,h,o,l)}}function yc(n,i,o){return n.createElement(i,o)}function b(n,i){const o=n[ys],u=o.indexOf(i),l=i[br];512&i[Tn]&&(i[Tn]&=-513,vi(l,-1)),o.splice(u,1)}function Z(n,i){if(n.length<=Qr)return;const o=Qr+i,u=n[o];if(u){const l=u[Fn];null!==l&&l!==n&&b(l,u),i>0&&(n[o-1][ur]=u[ur]);const h=Ia(n,Qr+i);!function Vu(n,i){bc(n,i,i[Ce],2,null,null),i[Rr]=null,i[Vr]=null}(u[Bt],u);const y=h[Kr];null!==y&&y.detachView(h[Bt]),u[br]=null,u[ur]=null,u[Tn]&=-65}return u}function re(n,i){if(!(128&i[Tn])){const o=i[Ce];o.destroyNode&&bc(n,i,o,3,null,null),function w(n){let i=n[yt];if(!i)return Ae(n[Bt],n);for(;i;){let o=null;if(ui(i))o=i[yt];else{const u=i[Qr];u&&(o=u)}if(!o){for(;i&&!i[ur]&&i!==n;)ui(i)&&Ae(i[Bt],i),i=i[br];null===i&&(i=n),ui(i)&&Ae(i[Bt],i),o=i&&i[ur]}i=o}}(i)}}function Ae(n,i){if(!(128&i[Tn])){i[Tn]&=-65,i[Tn]|=128,function Ut(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof pe)){const h=o[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const T=l[h[y]],O=h[y+1];wr(4,T,O);try{O.call(T)}finally{wr(5,T,O)}}else{wr(4,l,h);try{h.call(l)}finally{wr(5,l,h)}}}}}(n,i),function st(n,i){const o=n.cleanup,u=i[Ni];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const y=o[h+3];y>=0?u[l=y]():u[l=-y].unsubscribe(),h+=2}else{const y=u[l=o[h+1]];o[h].call(y)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[Ni]=null}}(n,i),1===i[Bt].type&&i[Ce].destroy();const o=i[Fn];if(null!==o&&ei(i[br])){o!==i[br]&&b(o,i);const u=i[Kr];null!==u&&u.detachView(n)}!function ol(n){gs.delete(n[Xr])}(i)}}function nn(n,i,o){return function Sn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Rr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===$.None||h===$.Emulated)return null}return Qn(u,o)}}(n,i.parent,o)}function ir(n,i,o,u,l){n.insertBefore(i,o,u,l)}function xo(n,i,o){n.appendChild(i,o)}function eo(n,i,o,u,l){null!==u?ir(n,i,o,u,l):xo(n,i,o)}function Uu(n,i){return n.parentNode(i)}let _u,xf,$l,wc=function ea(n,i,o){return 40&n.type?Qn(n,o):null};function Ul(n,i,o,u){const l=nn(n,u,i),h=i[Ce],T=function _c(n,i,o){return wc(n,i,o)}(u.parent||i[Vr],u,i);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)eo(h,l,o[O],T,!1);else eo(h,l,o,T,!1);void 0!==_u&&_u(h,u,i,o,l)}function tr(n,i){if(null!==i){const o=i.type;if(3&o)return Qn(i,n);if(4&o)return Bl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return tr(n,u);{const l=n[i.index];return ei(l)?Bl(-1,l):jr(l)}}if(32&o)return Ao(i,n)()||jr(n[i.index]);{const u=Ic(n,i);return null!==u?Array.isArray(u)?u[0]:tr(pc(n[fn]),u):tr(n,i.next)}}return null}function Ic(n,i){return null!==i?n[fn][Vr].projection[i.projection]:null}function Bl(n,i){const o=Qr+n+1;if(o<i.length){const u=i[o],l=u[Bt].firstChild;if(null!==l)return tr(u,l)}return i[cs]}function oh(n,i,o,u,l,h,y){for(;null!=o;){const T=u[o.index],O=o.type;if(y&&0===i&&(T&&Se(jr(T),u),o.flags|=2),32!=(32&o.flags))if(8&O)oh(n,i,o.child,u,l,h,!1),Ja(i,n,l,T,h);else if(32&O){const z=Ao(o,u);let X;for(;X=z();)Ja(i,n,l,X,h);Ja(i,n,l,T,h)}else 16&O?cg(n,i,u,o,l,h):Ja(i,n,l,T,h);o=y?o.projectionNext:o.next}}function bc(n,i,o,u,l,h){oh(o,u,n.firstChild,i,l,h,!1)}function cg(n,i,o,u,l,h){const y=o[fn],O=y[Vr].projection[u.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)Ja(i,n,l,O[z],h);else oh(n,i,O,y[br],l,h,!0)}function ll(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Af(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&gn(n,i,u),null!==l&&ll(n,i,l),null!==h&&function Cc(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function ts(n){xf=n}function gg(n){return function ch(){if(void 0===$l&&($l=null,pn.trustedTypes))try{$l=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $l}()?.createScriptURL(n)||n}class Mf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${It})`}}function Da(n){return n instanceof Mf?n.changingThisBreaksApplicationSecurity:n}function jl(n,i){const o=function Pf(n){return n instanceof Mf&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${It})`)}return o===i}const dh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Sr=(()=>((Sr=Sr||{})[Sr.NONE=0]="NONE",Sr[Sr.HTML=1]="HTML",Sr[Sr.STYLE=2]="STYLE",Sr[Sr.SCRIPT=3]="SCRIPT",Sr[Sr.URL=4]="URL",Sr[Sr.RESOURCE_URL=5]="RESOURCE_URL",Sr))();function Pc(n){const i=pd();return i?i.sanitize(Sr.URL,n)||"":jl(n,"URL")?Da(n):function hh(n){return(n=String(n)).match(dh)?n:"unsafe:"+n}(qe(n))}function tu(n){const i=pd();if(i)return gg(i.sanitize(Sr.RESOURCE_URL,n)||"");if(jl(n,"ResourceURL"))return gg(Da(n));throw new Fe(904,!1)}function Vf(n,i,o){return function Sg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?tu:Pc}(i,o)(n)}function pd(){const n=x();return n&&n[lt]}const Hl=new gr("ENVIRONMENT_INITIALIZER"),_h=new gr("INJECTOR",-1),Ag=new gr("INJECTOR_DEF_TYPES");class Uf{get(i,o=sr){if(o===sr){const u=new Error(`NullInjectorError: No provider for ${de(i)}!`);throw u.name="NullInjectorError",u}return o}}function Mg(...n){return{\u0275providers:Pg(0,n),\u0275fromNgModule:!0}}function Pg(n,...i){const o=[],u=new Set;let l;return $o(i,h=>{const y=h;$f(y,o,[],u)&&(l||(l=[]),l.push(y))}),void 0!==l&&Bf(l,o),o}function Bf(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];jf(l,h=>{i.push(h)})}}function $f(n,i,o,u){if(!(n=we(n)))return!1;let l=null,h=Pt(n);const y=!h&&Yt(n);if(h||y){if(y&&!y.standalone)return!1;l=n}else{const O=n.ngModule;if(h=Pt(O),!h)return!1;l=O}const T=u.has(l);if(y){if(T)return!1;if(u.add(l),y.dependencies){const O="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const z of O)$f(z,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let z;u.add(l);try{$o(h.imports,X=>{$f(X,i,o,u)&&(z||(z=[]),z.push(X))})}finally{}void 0!==z&&Bf(z,i)}if(!T){const z=rs(l)||(()=>new l);i.push({provide:l,useFactory:z,deps:he},{provide:Ag,useValue:l,multi:!0},{provide:Hl,useValue:()=>rn(l),multi:!0})}const O=h.providers;null==O||T||jf(O,X=>{i.push(X)})}}return l!==n&&void 0!==n.providers}function jf(n,i){for(let o of n)Xe(o)&&(o=o.\u0275providers),Array.isArray(o)?jf(o,i):i(o)}const cl=be({provide:String,useValue:be});function dl(n){return null!==n&&"object"==typeof n&&cl in n}function hl(n){return"function"==typeof n}const wh=new gr("Set Injector scope."),Eh={},Og={};let Rc;function Eu(){return void 0===Rc&&(Rc=new Uf),Rc}class Ta{}class fl extends Ta{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bh(i,y=>this.processProvider(y)),this.records.set(_h,Gl(void 0,this)),l.has("environment")&&this.records.set(Ta,Gl(void 0,this));const h=this.records.get(wh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ag.multi,he,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=bn(this),u=nr(void 0);try{return i()}finally{bn(o),nr(u)}}get(i,o=sr,u=xt.Default){this.assertNotDestroyed(),u=Ur(u);const l=bn(this),h=nr(void 0);try{if(!(u&xt.SkipSelf)){let T=this.records.get(i);if(void 0===T){const O=function Fg(n){return"function"==typeof n||"object"==typeof n&&n instanceof gr}(i)&&Bn(i);T=O&&this.injectableDefInScope(O)?Gl(zl(i),Eh):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(u&xt.Self?Eu():this.parent).get(i,o=u&xt.Optional&&o===sr?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Xn]=y[Xn]||[]).unshift(de(i)),l)throw y;return function _r(n,i,o,u){const l=n[Xn];throw i[In]&&l.unshift(i[In]),n.message=function ee(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==pr?n.slice(2):n;let l=de(i);if(Array.isArray(i))l=i.map(de).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let T=i[y];h.push(y+":"+("string"==typeof T?JSON.stringify(T):de(T)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(vr,"\n  ")}`}("\n"+n.message,l,o,u),n[kr]=l,n[Xn]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{nr(h),bn(l)}}resolveInjectorInitializers(){const i=bn(this),o=nr(void 0);try{const u=this.get(Hl.multi,he,xt.Self);for(const l of u)l()}finally{bn(i),nr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(de(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(i){let o=hl(i=we(i))?i:we(i&&i.provide);const u=function zf(n){return dl(n)?Gl(void 0,n.useValue):Gl(Ih(n),Eh)}(i);if(hl(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Gl(void 0,Eh,!0),l.factory=()=>er(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===Eh&&(o.value=Og,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Sy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=we(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function zl(n){const i=Bn(n),o=null!==i?i.factory:rs(n);if(null!==o)return o;if(n instanceof gr)throw new Fe(204,!1);if(n instanceof Function)return function Ng(n){const i=n.length;if(i>0)throw function jo(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Fe(204,!1);const o=function kt(n){return n&&(n[$n]||n[xn])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Fe(204,!1)}function Ih(n,i,o){let u;if(hl(n)){const l=we(n);return rs(l)||zl(l)}if(dl(n))u=()=>we(n.useValue);else if(function Rg(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...er(n.deps||[]));else if(function Hf(n){return!(!n||!n.useExisting)}(n))u=()=>rn(we(n.useExisting));else{const l=we(n&&(n.useClass||n.provide));if(!function kg(n){return!!n.deps}(n))return rs(l)||zl(l);u=()=>new l(...er(n.deps))}return u}function Gl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function bh(n,i){for(const o of n)Array.isArray(o)?bh(o,i):o&&Xe(o)?bh(o.\u0275providers,i):i(o)}class Ch{}class Oc{}class xy{resolveComponentFactory(i){throw function Wl(n){const i=Error(`No component factory found for ${de(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let gd=(()=>{class n{}return n.NULL=new xy,n})();function My(){return Iu(Le(),x())}function Iu(n,i){return new nu(Qn(n,i))}let nu=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=My,n})();function pl(n){return n instanceof nu?n.nativeElement:n}class Gf{}let Py=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Vg(){const n=x(),o=li(Le().index,n);return(ui(o)?o:n)[Ce]}(),n})(),Ry=(()=>{class n{}return n.\u0275prov=St({token:n,providedIn:"root",factory:()=>null}),n})();class Dh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Th=new Dh("15.2.9"),Sh={},md="ngOriginalError";function Ah(n){return n[md]}class gl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ah(i);for(;o&&Ah(o);)o=Ah(o);return o||null}}function Cu(n){return n instanceof Function?n():n}function Hu(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const ql="ng-template";function $g(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const y=n[u++];if(o&&"class"===h&&-1!==Hu(y.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function ml(n){return 4===n.type&&n.value!==ql}function Ly(n,i,o){return i===(4!==n.type||o?n.value:ql)}function Nc(n,i,o){let u=4;const l=n.attrs||[],h=function jg(n){for(let i=0;i<n.length;i++)if(Hn(n[i]))return i;return n.length}(l);let y=!1;for(let T=0;T<i.length;T++){const O=i[T];if("number"!=typeof O){if(!y)if(4&u){if(u=2|1&u,""!==O&&!Ly(n,O,o)||""===O&&1===i.length){if(La(u))return!1;y=!0}}else{const z=8&u?O:i[++T];if(8&u&&null!==n.attrs){if(!$g(n.attrs,z,o)){if(La(u))return!1;y=!0}continue}const fe=yl(8&u?"class":O,l,ml(n),o);if(-1===fe){if(La(u))return!1;y=!0;continue}if(""!==z){let xe;xe=fe>h?"":l[fe+1].toLowerCase();const Ge=8&u?xe:null;if(Ge&&-1!==Hu(Ge,z,0)||2&u&&z!==xe){if(La(u))return!1;y=!0}}}}else{if(!y&&!La(u)&&!La(O))return!1;if(y&&La(O))continue;y=!1,u=O|1&u}}return La(u)||y}function La(n){return 0==(1&n)}function yl(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const y=i[l];if(y===n)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let T=i[++l];for(;"string"==typeof T;)T=i[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function Uy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Zf(n,i,o=!1){for(let u=0;u<i.length;u++)if(Nc(n,i[u],o))return!0;return!1}function zg(n,i){return n?":not("+i.trim()+")":i}function Ph(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&u){const T=n[++o];l+="["+y+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?l+="."+y:4&u&&(l+=" "+y);else""!==l&&!La(y)&&(i+=zg(h,l),l=""),u=y,h=h||!La(u);o++}return""!==l&&(i+=zg(h,l)),i}const dr={};function Wg(n){Yf(k(),x(),fr()+n,!1)}function Yf(n,i,o,u){if(!u)if(3==(3&i[Tn])){const h=n.preOrderCheckHooks;null!==h&&ma(i,h,o)}else{const h=n.preOrderHooks;null!==h&&Ma(i,h,0,o)}Ti(o)}function no(n,i=null,o=null,u){const l=Zg(n,i,o,u);return l.resolveInjectorInitializers(),l}function Zg(n,i=null,o=null,u,l=new Set){const h=[o||he,Mg(n)];return u=u||("object"==typeof n?void 0:de(n)),new fl(h,i||Eu(),u||null,l)}let Kl=(()=>{class n{static create(o,u){if(Array.isArray(o))return no({name:""},u,o,"");{const l=o.name??"";return no({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=sr,n.NULL=new Uf,n.\u0275prov=St({token:n,providedIn:"any",factory:()=>rn(_h)}),n.__NG_ELEMENT_ID__=-1,n})();function kc(n,i=xt.Default){const o=x();return null===o?rn(n,i):Cn(Le(),o,we(n),i)}function kh(){throw new Error("invalid")}function Fh(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const y=n.data[h];Er(o[u]),y.contentQueries(2,i[h],h)}}}function Fc(n,i,o,u,l,h,y,T,O,z,X){const fe=i.blueprint.slice();return fe[Rr]=l,fe[Tn]=76|u,(null!==X||n&&1024&n[Tn])&&(fe[Tn]|=1024),Ns(fe),fe[br]=fe[En]=n,fe[lr]=o,fe[Ie]=y||n&&n[Ie],fe[Ce]=T||n&&n[Ce],fe[lt]=O||n&&n[lt]||null,fe[Pe]=z||n&&n[Pe]||null,fe[Vr]=h,fe[Xr]=function ci(){return ud++}(),fe[Yr]=X,fe[fn]=2==i.type?n[fn]:fe,fe}function Gu(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Ql(n,i,o,u,l){const h=tn(),y=is(),O=n.data[i]=function ev(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=O),null!==h&&(y?null==h.child&&null!==O.parent&&(h.child=O):null===h.next&&(h.next=O,O.prev=h)),O}(n,i,o,u,l),function Mi(){return Mn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const y=function hr(){const n=Mn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return Or(h,!0),h}function _l(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Cd(n,i,o){$i(i);try{const u=n.viewQuery;null!==u&&zh(1,u,o);const l=n.template;null!==l&&Lh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fh(n,i),n.staticViewQueries&&zh(2,n.viewQuery,o);const h=n.components;null!==h&&function nm(n,i){for(let o=0;o<i.length;o++)vp(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Tn]&=-5,Ls()}}function Lc(n,i,o,u){const l=i[Tn];if(128!=(128&l)){$i(i);try{Ns(i),function Ws(n){return Mn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lh(n,i,o,2,u);const y=3==(3&l);if(y){const z=n.preOrderCheckHooks;null!==z&&ma(i,z,null)}else{const z=n.preOrderHooks;null!==z&&Ma(i,z,0,null),A(i,0)}if(function ov(n){for(let i=da(n);null!==i;i=vu(i)){if(!i[ki])continue;const o=i[ys];for(let u=0;u<o.length;u++){const l=o[u];512&l[Tn]||vi(l[br],1),l[Tn]|=512}}}(i),function mp(n){for(let i=da(n);null!==i;i=vu(i))for(let o=Qr;o<i.length;o++){const u=i[o],l=u[Bt];ni(u)&&Lc(l,u,l.template,u[lr])}}(i),null!==n.contentQueries&&Fh(n,i),y){const z=n.contentCheckHooks;null!==z&&ma(i,z)}else{const z=n.contentHooks;null!==z&&Ma(i,z,1),A(i,1)}!function Qy(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ti(~l);else{const h=l,y=o[++u],T=o[++u];ga(y,h),T(2,i[h])}}}finally{Ti(-1)}}(n,i);const T=n.components;null!==T&&function tm(n,i){for(let o=0;o<i.length;o++)yp(n,i[o])}(i,T);const O=n.viewQuery;if(null!==O&&zh(2,O,u),y){const z=n.viewCheckHooks;null!==z&&ma(i,z)}else{const z=n.viewHooks;null!==z&&Ma(i,z,2),A(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Tn]&=-41,512&i[Tn]&&(i[Tn]&=-513,vi(i[br],-1))}finally{Ls()}}}function Lh(n,i,o,u,l){const h=fr(),y=2&u;try{Ti(-1),y&&i.length>Tr&&Yf(n,i,Tr,!1),wr(y?2:0,l),o(u,l)}finally{Ti(h),wr(y?3:1,l)}}function Vh(n,i,o){if(bi(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const y=n.data[h];y.contentQueries&&y.contentQueries(1,o[h],h)}}}function ap(n,i,o){Fo()&&(function xd(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;vs(o)&&function pp(n,i,o){const u=Qn(i,n),l=Dd(o),h=n[Ie],y=Wu(n,Fc(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=y}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Mu(o,i),Se(u,i);const y=o.initialInputs;for(let T=l;T<h;T++){const O=n.data[T],z=Zn(i,n,T,o);Se(z,i),null!==y&&sv(0,T-l,z,O,0,y),ti(O)&&(li(o.index,i)[lr]=Zn(i,n,T,o))}}(n,i,o,Qn(o,i)),64==(64&o.flags)&&$h(n,i,o))}function Uh(n,i,o=Qn){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],T=-1===y?o(i,n):n[y];n[l++]=T}}}function Dd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Td(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Td(n,i,o,u,l,h,y,T,O,z){const X=Tr+u,fe=X+l,xe=function Jy(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:dr);return o}(X,fe),Ge="function"==typeof z?z():z;return xe[Bt]={type:n,blueprint:xe,template:o,queries:null,viewQuery:T,declTNode:i,data:xe.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:O,consts:Ge,incompleteFirstPass:!1}}function Mo(n,i,o,u){const l=om(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Gh(n).push(u,l.length-1))}function up(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Sd(o,i,l,h):u.hasOwnProperty(l)&&Sd(o,i,u[l],h)}return o}function Sd(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function cp(n,i,o,u){if(Fo()){const l=null===u?null:{"":-1},h=function dp(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const y=o[h];if(Zf(i,y.selectors,!1))if(u||(u=[]),ti(y))if(null!==y.findHostDirectiveDefs){const T=[];l=l||new Map,y.findHostDirectiveDefs(y,T,l),u.unshift(...T,y),Uc(n,i,T.length)}else u.unshift(y),Uc(n,i,0);else l=l||new Map,y.findHostDirectiveDefs?.(y,u,l),u.push(y)}return null===u?null:[u,l]}(n,o);let y,T;null===h?y=T=null:[y,T]=h,null!==y&&Bh(n,i,o,y,l,T),l&&function Md(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Fe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Vt(o.mergedAttrs,o.attrs)}function Bh(n,i,o,u,l,h){for(let z=0;z<u.length;z++)Nn(Mu(o,i),n,u[z].type);!function rm(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let z=0;z<u.length;z++){const X=u[z];X.providersResolver&&X.providersResolver(X)}let y=!1,T=!1,O=_l(n,i,u.length,null);for(let z=0;z<u.length;z++){const X=u[z];o.mergedAttrs=Vt(o.mergedAttrs,X.hostAttrs),fp(n,o,i,O,X),hp(O,X,l),null!==X.contentQueries&&(o.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(o.flags|=64);const fe=X.type.prototype;!y&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),y=!0),!T&&(fe.ngOnChanges||fe.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),T=!0),O++}!function Ad(n,i,o){const l=i.directiveEnd,h=n.data,y=i.attrs,T=[];let O=null,z=null;for(let X=i.directiveStart;X<l;X++){const fe=h[X],xe=o?o.get(fe):null,vt=xe?xe.outputs:null;O=up(fe.inputs,X,O,xe?xe.inputs:null),z=up(fe.outputs,X,z,vt);const jt=null===O||null===y||ml(i)?null:gp(O,X,y);T.push(jt)}null!==O&&(O.hasOwnProperty("class")&&(i.flags|=8),O.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=T,i.inputs=O,i.outputs=z}(n,o,h)}function $h(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,y=function Lo(){return Mn.lFrame.currentDirectiveIndex}();try{Ti(h);for(let T=u;T<l;T++){const O=n.data[T],z=i[T];ri(T),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Vc(O,z)}}finally{Ti(-1),ri(y)}}function Vc(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Uc(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function hp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;ti(i)&&(o[""]=n)}}function fp(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=rs(l.type)),y=new pe(h,ti(l),kc);n.blueprint[u]=y,o[u]=y,function rv(n,i,o,u,l){const h=l.hostBindings;if(h){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const T=~i.index;(function iv(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=T&&y.push(T),y.push(o,u,h)}}(n,i,u,_l(n,o,l.hostVars,dr),l)}function Po(n,i,o,u,l,h){const y=Qn(n,i);!function jh(n,i,o,u,l,h,y){if(null==h)n.removeAttribute(i,l,o);else{const T=null==y?qe(h):y(h,u||"",l);n.setAttribute(i,l,T,o)}}(i[Ce],y,h,n.value,o,u,l)}function sv(n,i,o,u,l,h){const y=h[i];if(null!==y){const T=u.setInput;for(let O=0;O<y.length;){const z=y[O++],X=y[O++],fe=y[O++];null!==T?u.setInput(o,fe,z,X):o[X]=fe}}}function gp(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const y=n[h];for(let T=0;T<y.length;T+=2)if(y[T]===i){u.push(h,y[T+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function im(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function yp(n,i){const o=li(i,n);if(ni(o)){const u=o[Bt];48&o[Tn]?Lc(u,o,u.template,o[lr]):o[Ei]>0&&Bc(o)}}function Bc(n){for(let u=da(n);null!==u;u=vu(u))for(let l=Qr;l<u.length;l++){const h=u[l];if(ni(h))if(512&h[Tn]){const y=h[Bt];Lc(y,h,y.template,h[lr])}else h[Ei]>0&&Bc(h)}const o=n[Bt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=li(o[u],n);ni(l)&&l[Ei]>0&&Bc(l)}}function vp(n,i){const o=li(i,n),u=o[Bt];(function sm(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Cd(u,o,o[lr])}function Wu(n,i){return n[yt]?n[ln][ur]=i:n[yt]=i,n[ln]=i,i}function $c(n){for(;n;){n[Tn]|=32;const i=pc(n);if(cr(n)&&!i)return n;n=i}return null}function Hh(n,i,o,u=!0){const l=i[Ie];l.begin&&l.begin();try{Lc(n,i,n.template,o)}catch(y){throw u&&Wh(i,y),y}finally{l.end&&l.end()}}function zh(n,i,o){Er(0),i(n,o)}function om(n){return n[Ni]||(n[Ni]=[])}function Gh(n){return n.cleanup||(n.cleanup=[])}function Wh(n,i){const o=n[Pe],u=o?o.get(gl,null):null;u&&u.handleError(i)}function _p(n,i,o,u,l){for(let h=0;h<o.length;){const y=o[h++],T=o[h++],O=i[y],z=n.data[y];null!==z.setInput?z.setInput(O,l,u,T):O[T]=l}}function qh(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const T=i[y];"number"==typeof T?h=T:1==h?l=ke(l,T):2==h&&(u=ke(u,T+": "+i[++y]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function jc(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(jr(h)),ei(h))for(let T=Qr;T<h.length;T++){const O=h[T],z=O[Bt].firstChild;null!==z&&jc(O[Bt],O,z,u)}const y=o.type;if(8&y)jc(n,i,o.child,u);else if(32&y){const T=Ao(o,i);let O;for(;O=T();)u.push(O)}else if(16&y){const T=Ic(i,o);if(Array.isArray(T))u.push(...T);else{const O=pc(i[fn]);jc(O[Bt],O,T,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hc{get rootNodes(){const i=this._lView,o=i[Bt];return jc(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(i){this._lView[lr]=i}get destroyed(){return 128==(128&this._lView[Tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[br];if(ei(i)){const o=i[ds],u=o?o.indexOf(this):-1;u>-1&&(Z(i,u),Ia(o,u))}this._attachedToViewContainer=!1}re(this._lView[Bt],this._lView)}onDestroy(i){Mo(this._lView[Bt],this._lView,null,i)}markForCheck(){$c(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tn]&=-65}reattach(){this._lView[Tn]|=64}detectChanges(){Hh(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dd(n,i){bc(n,i,i[Ce],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=i}}class wp extends Hc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Hh(i[Bt],i,i[lr],!1)}checkNoChanges(){}get context(){return null}}class Kh extends gd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Yt(i);return new Jl(o,this.ngModule)}}function Zh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class wl{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Ur(u);const l=this.injector.get(i,Sh,u);return l!==Sh||o===Sh?l:this.parentInjector.get(i,o,u)}}class Jl extends Oc{get inputs(){return Zh(this.componentDef.inputs)}get outputs(){return Zh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Gg(n){return n.map(Ph).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Ta?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new wl(i,h):i,T=y.get(Gf,null);if(null===T)throw new Fe(407,!1);const O=y.get(Ry,null),z=T.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",fe=u?function Xy(n,i,o){return n.selectRootElement(i,o===$.ShadowDom)}(z,u,this.componentDef.encapsulation):yc(z,X,function zc(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(X)),xe=this.componentDef.onPush?288:272,Ge=Td(0,null,null,1,0,null,null,null,null,null),vt=Fc(null,Ge,null,xe,null,null,T,z,O,y,null);let jt,dn;$i(vt);try{const An=this.componentDef;let Jn,Ot=null;An.findHostDirectiveDefs?(Jn=[],Ot=new Map,An.findHostDirectiveDefs(An,Jn,Ot),Jn.push(An)):Jn=[An];const yr=function um(n,i){const o=n[Bt],u=Tr;return n[u]=i,Gu(o,u,2,"#host",null)}(vt,fe),ms=function Wc(n,i,o,u,l,h,y,T){const O=l[Bt];!function uv(n,i,o,u){for(const l of n)i.mergedAttrs=Vt(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(qh(i,i.mergedAttrs,!0),null!==o&&Af(u,o,i))}(u,n,i,y);const z=h.createRenderer(i,o),X=Fc(l,Dd(o),null,o.onPush?32:16,l[n.index],n,h,z,T||null,null,null);return O.firstCreatePass&&Uc(O,n,u.length-1),Wu(l,X),l[n.index]=X}(yr,fe,An,Jn,vt,T,z);dn=No(Ge,Tr),fe&&function Ep(n,i,o,u){if(u)gn(n,o,["ng-version",Th.full]);else{const{attrs:l,classes:h}=function By(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!La(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&gn(n,o,l),h&&h.length>0&&ll(n,o,h.join(" "))}}(z,An,fe,u),void 0!==o&&function Ip(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(dn,this.ngContentSelectors,o),jt=function lv(n,i,o,u,l,h){const y=Le(),T=l[Bt],O=Qn(y,l);Bh(T,l,y,o,null,u);for(let X=0;X<o.length;X++)Se(Zn(l,T,y.directiveStart+X,y),l);$h(T,l,y),O&&Se(O,l);const z=Zn(l,T,y.directiveStart+y.componentOffset,y);if(n[lr]=l[lr]=z,null!==h)for(const X of h)X(z,i);return Vh(T,y,n),z}(ms,An,Jn,Ot,vt,[bp]),Cd(Ge,vt,null)}finally{Ls()}return new Gc(this.componentType,jt,Iu(dn,vt),vt,dn)}}class Gc extends Ch{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new wp(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;_p(h[Bt],h,l,i,o),$c(li(this._tNode.index,h))}}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function bp(){const n=Le();xs(x()[Bt],n)}function Cp(n){let i=function Yh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(ti(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Fe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const y=n;y.inputs=Rd(n.inputs),y.declaredInputs=Rd(n.declaredInputs),y.outputs=Rd(n.outputs);const T=l.hostBindings;T&&lm(n,T);const O=l.viewQuery,z=l.contentQueries;if(O&&Dp(n,O),z&&dv(n,z),Te(n.inputs,l.inputs),Te(n.declaredInputs,l.declaredInputs),Te(n.outputs,l.outputs),ti(l)&&l.data.animation){const X=n.data;X.animation=(X.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const T=h[y];T&&T.ngInherit&&T(n),T===Cp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function cv(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Vt(l.hostAttrs,o=Vt(o,l.hostAttrs))}}(u)}function Rd(n){return n===j?{}:n===he?[]:n}function Dp(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function dv(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function lm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function qc(n){return!!Od(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Od(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mo(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Ap(n,i,o,u){const l=x();return mo(l,Fs(),i)&&(k(),Po(Nr(),l,n,i,o,u)),Ap}function nf(n,i,o,u,l,h,y,T){const O=x(),z=k(),X=n+Tr,fe=z.firstCreatePass?function mv(n,i,o,u,l,h,y,T,O){const z=i.consts,X=Gu(i,n,4,y||null,fi(z,T));cp(i,o,X,fi(z,O)),xs(i,X);const fe=X.tView=Td(2,X,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,z);return null!==i.queries&&(i.queries.template(i,X),fe.queries=i.queries.embeddedTView(X)),X}(X,z,O,i,o,u,l,h,y):z.data[X];Or(fe,!1);const xe=O[Ce].createComment("");Ul(z,O,xe,fe),Se(xe,O),Wu(O,O[X]=im(xe,O,xe,fe)),_s(fe)&&ap(z,O,fe),null!=y&&Uh(O,fe,T)}function Pp(n,i,o){const u=x();return mo(u,Fs(),i)&&function ha(n,i,o,u,l,h,y,T){const O=Qn(i,o);let X,z=i.inputs;!T&&null!=z&&(X=z[u])?(_p(n,o,X,u,l),vs(i)&&function tv(n,i){const o=li(i,n);16&o[Tn]||(o[Tn]|=32)}(o,i.index)):3&i.type&&(u=function lp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=y?y(l,i.value||"",u):l,h.setProperty(O,u,l))}(k(),Nr(),u,n,i,u[Ce],o,!1),Pp}function Nd(n,i,o,u,l){const y=l?"class":"style";_p(n,o,i.inputs[y],y,u)}function Qc(n,i,o,u){const l=x(),h=k(),y=Tr+n,T=l[Ce],O=h.firstCreatePass?function wm(n,i,o,u,l,h){const y=i.consts,O=Gu(i,n,2,u,fi(y,l));return cp(i,o,O,fi(y,h)),null!==O.attrs&&qh(O,O.attrs,!1),null!==O.mergedAttrs&&qh(O,O.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,O),O}(y,h,l,i,o,u):h.data[y],z=l[y]=yc(T,i,function xa(){return Mn.lFrame.currentNamespace}()),X=_s(O);return Or(O,!0),Af(T,z,O),32!=(32&O.flags)&&Ul(h,l,z,O),0===function vo(){return Mn.lFrame.elementDepthCount}()&&Se(z,l),function Vi(){Mn.lFrame.elementDepthCount++}(),X&&(ap(h,l,O),Vh(h,O,l)),null!==u&&Uh(l,O),Qc}function kd(){let n=Le();is()?function Ji(){Mn.lFrame.isParent=!1}():(n=n.parent,Or(n,!1));const i=n;!function ks(){Mn.lFrame.elementDepthCount--}();const o=k();return o.firstCreatePass&&(xs(o,n),bi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ue(n){return 0!=(8&n.flags)}(i)&&Nd(o,i,x(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Be(n){return 0!=(16&n.flags)}(i)&&Nd(o,i,x(),i.stylesWithoutHost,!1),kd}function Rp(n,i,o,u){return Qc(n,i,o,u),kd(),Rp}function sf(){return x()}function Ld(n){return!!n&&"function"==typeof n.then}function Em(n){return!!n&&"function"==typeof n.subscribe}const Jc=Em;function Np(n,i,o,u){const l=x(),h=k(),y=Le();return function ec(n,i,o,u,l,h,y){const T=_s(u),z=n.firstCreatePass&&Gh(n),X=i[lr],fe=om(i);let xe=!0;if(3&u.type||y){const jt=Qn(u,i),dn=y?y(jt):jt,An=fe.length,Jn=y?yr=>y(jr(yr[u.index])):u.index;let Ot=null;if(!y&&T&&(Ot=function Im(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===o&&l[h+1]===u){const T=i[Ni],O=l[h+2];return T.length>O?T[O]:null}"string"==typeof y&&(h+=2)}return null}(n,i,l,u.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=h,Ot.__ngLastListenerFn__=h,xe=!1;else{h=Vd(u,i,X,h,!1);const yr=o.listen(dn,l,h);fe.push(h,yr),z&&z.push(l,Jn,An,An+1)}}else h=Vd(u,i,X,h,!1);const Ge=u.outputs;let vt;if(xe&&null!==Ge&&(vt=Ge[l])){const jt=vt.length;if(jt)for(let dn=0;dn<jt;dn+=2){const ms=i[vt[dn]][vt[dn+1]].subscribe(h),so=fe.length;fe.push(h,ms),z&&z.push(l,u.index,so,-(so+1))}}}(h,l,l[Ce],y,n,i,u),Np}function kp(n,i,o,u){try{return wr(6,i,o),!1!==o(u)}catch(l){return Wh(n,l),!1}finally{wr(7,i,o)}}function Vd(n,i,o,u,l){return function h(y){if(y===Function)return u;$c(n.componentOffset>-1?li(n.index,i):i);let O=kp(i,o,u,y),z=h.__ngNextListenerFn__;for(;z;)O=kp(i,o,z,y)&&O,z=z.__ngNextListenerFn__;return l&&!1===O&&(y.preventDefault(),y.returnValue=!1),O}}function bm(n=1){return function ji(n){return(Mn.lFrame.contextLView=function Pi(n,i){for(;n>0;)i=i[En],n--;return i}(n,Mn.lFrame.contextLView))[lr]}(n)}function tc(n,i){return n<<17|i<<2}function qu(n){return n>>17&32767}function Sl(n){return 2|n}function Ku(n){return(131068&n)>>2}function Up(n,i){return-131069&n|i<<2}function Bp(n){return 1|n}function Tm(n,i,o,u,l){const h=n[o+1],y=null===i;let T=u?qu(h):Ku(h),O=!1;for(;0!==T&&(!1===O||y);){const X=n[T+1];Dv(n[T],i)&&(O=!0,n[T+1]=u?Bp(X):Sl(X)),T=u?qu(X):Ku(X)}O&&(n[o+1]=u?Sl(h):Bp(h))}function Dv(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&v(n,i)>=0}function Gp(n,i){return function ou(n,i,o,u){const l=x(),h=k(),y=function Xi(n){const i=Mn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);h.firstUpdatePass&&function Nm(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[fr()],y=function Om(n,i){return i>=n.expandoStartIndex}(n,o);(function Lm(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!y&&(i=!1),i=function Gi(n,i,o,u){const l=function Di(n){const i=Mn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=Hd(o=ff(null,n,i,o,u),i.attrs,u),h=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==l)if(o=ff(l,n,i,o,u),null===h){let O=function K_(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Ku(u))return n[qu(u)]}(n,i,u);void 0!==O&&Array.isArray(O)&&(O=ff(null,n,i,O[1],u),O=Hd(O,i.attrs,u),function Sv(n,i,o,u){n[qu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,O))}else h=function Ps(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=Hd(u,n[h].hostAttrs,o);return Hd(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function Dm(n,i,o,u,l,h){let y=h?i.classBindings:i.styleBindings,T=qu(y),O=Ku(y);n[u]=o;let X,z=!1;if(Array.isArray(o)?(X=o[1],(null===X||v(o,X)>0)&&(z=!0)):X=o,l)if(0!==O){const xe=qu(n[T+1]);n[u+1]=tc(xe,T),0!==xe&&(n[xe+1]=Up(n[xe+1],u)),n[T+1]=function Cm(n,i){return 131071&n|i<<17}(n[T+1],u)}else n[u+1]=tc(T,0),0!==T&&(n[T+1]=Up(n[T+1],u)),T=u;else n[u+1]=tc(O,0),0===T?T=u:n[O+1]=Up(n[O+1],u),O=u;z&&(n[u+1]=Sl(n[u+1])),Tm(n,X,u,!0),Tm(n,X,u,!1),function Cv(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&v(h,i)>=0&&(o[u+1]=Bp(o[u+1]))}(i,X,n,u,h),y=tc(T,O),h?i.classBindings=y:i.styleBindings=y}(l,h,i,o,y,u)}}(h,n,y,u),i!==dr&&mo(l,y,i)&&function km(n,i,o,u,l,h,y,T){if(!(3&i.type))return;const O=n.data,z=O[T+1],X=function Iv(n){return 1==(1&n)}(z)?Fm(O,i,o,l,Ku(z),y):void 0;qp(X)||(qp(h)||function Vp(n){return 2==(2&n)}(z)&&(h=Fm(O,null,o,l,T,y)),function dg(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Xo.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Xo.Important),n.setStyle(o,u,l,h))}}(u,y,zs(fr(),o),l,h))}(h,h.data[fr()],l,l[Ce],n,l[y+1]=function Pv(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=de(Da(n)))),n}(i,o),u,y)}(n,i,null,!0),Gp}function ff(n,i,o,u,l){let h=null;const y=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<y&&(h=i[T],u=Hd(u,h.hostAttrs,l),h!==n);)T++;return null!==n&&(o.directiveStylingLast=T),u}function Hd(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?l=y:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Js(n,y,!!o||i[++h]))}return void 0===n?null:n}function Fm(n,i,o,u,l,h){const y=null===i;let T;for(;l>0;){const O=n[l],z=Array.isArray(O),X=z?O[1]:O,fe=null===X;let xe=o[l+1];xe===dr&&(xe=fe?he:void 0);let Ge=fe?Oa(xe,u):X===u?xe:void 0;if(z&&!qp(Ge)&&(Ge=Oa(O,u)),qp(Ge)&&(T=Ge,y))return T;const vt=n[l+1];l=y?qu(vt):Ku(vt)}if(null!==i){let O=h?i.residualClasses:i.residualStyles;null!=O&&(T=Oa(O,u))}return T}function qp(n){return void 0!==n}function Kp(n,i=""){const o=x(),u=k(),l=n+Tr,h=u.firstCreatePass?Gu(u,l,1,i,null):u.data[l],y=o[l]=function mc(n,i){return n.createText(i)}(o[Ce],i);Ul(u,o,y,h),Or(h,!1)}function nc(n){return Zp("",n,""),nc}function Zp(n,i,o){const u=x(),l=function Zc(n,i,o,u){return mo(n,Fs(),o)?i+qe(o)+u:dr}(u,n,i,o);return l!==dr&&function ru(n,i,o){const u=zs(i,n);!function cd(n,i,o){n.setValue(i,o)}(n[Ce],u,o)}(u,fr(),l),Zp}const sc=void 0;var Lv=["en",[["a","p"],["AM","PM"],sc],[["AM","PM"],sc,sc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sc,"{1} 'at' {0}",sc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zd(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let au={};function qm(n){const i=function yf(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Yd(i);if(o)return o;const u=i.split("-")[0];if(o=Yd(u),o)return o;if("en"===u)return Lv;throw new Fe(701,!1)}function Zm(n){return qm(n)[Kn.PluralCase]}function Yd(n){return n in au||(au[n]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[n]),au[n]}var Kn=(()=>((Kn=Kn||{})[Kn.LocaleId=0]="LocaleId",Kn[Kn.DayPeriodsFormat=1]="DayPeriodsFormat",Kn[Kn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kn[Kn.DaysFormat=3]="DaysFormat",Kn[Kn.DaysStandalone=4]="DaysStandalone",Kn[Kn.MonthsFormat=5]="MonthsFormat",Kn[Kn.MonthsStandalone=6]="MonthsStandalone",Kn[Kn.Eras=7]="Eras",Kn[Kn.FirstDayOfWeek=8]="FirstDayOfWeek",Kn[Kn.WeekendRange=9]="WeekendRange",Kn[Kn.DateFormat=10]="DateFormat",Kn[Kn.TimeFormat=11]="TimeFormat",Kn[Kn.DateTimeFormat=12]="DateTimeFormat",Kn[Kn.NumberSymbols=13]="NumberSymbols",Kn[Kn.NumberFormats=14]="NumberFormats",Kn[Kn.CurrencyCode=15]="CurrencyCode",Kn[Kn.CurrencySymbol=16]="CurrencySymbol",Kn[Kn.CurrencyName=17]="CurrencyName",Kn[Kn.Currencies=18]="Currencies",Kn[Kn.Directionality=19]="Directionality",Kn[Kn.PluralCase=20]="PluralCase",Kn[Kn.ExtraData=21]="ExtraData",Kn))();const Qu="en-US";let rg=Qu;function Cf(n,i,o,u,l){if(n=we(n),Array.isArray(n))for(let h=0;h<n.length;h++)Cf(n[h],i,o,u,l);else{const h=k(),y=x();let T=hl(n)?n:we(n.provide),O=Ih(n);const z=Le(),X=1048575&z.providerIndexes,fe=z.directiveStart,xe=z.providerIndexes>>20;if(hl(n)||!n.multi){const Ge=new pe(O,l,kc),vt=a_(T,i,l?X:X+xe,fe);-1===vt?(Nn(Mu(z,y),h,T),o_(h,n,i.length),i.push(T),z.directiveStart++,z.directiveEnd++,l&&(z.providerIndexes+=1048576),o.push(Ge),y.push(Ge)):(o[vt]=Ge,y[vt]=Ge)}else{const Ge=a_(T,i,X+xe,fe),vt=a_(T,i,X,X+xe),dn=vt>=0&&o[vt];if(l&&!dn||!l&&!(Ge>=0&&o[Ge])){Nn(Mu(z,y),h,T);const An=function Mw(n,i,o,u,l){const h=new pe(n,o,kc);return h.multi=[],h.index=i,h.componentProviders=0,r0(h,l,u&&!o),h}(l?xw:Aw,o.length,l,u,O);!l&&dn&&(o[vt].providerFactory=An),o_(h,n,i.length,0),i.push(T),z.directiveStart++,z.directiveEnd++,l&&(z.providerIndexes+=1048576),o.push(An),y.push(An)}else o_(h,n,Ge>-1?Ge:vt,r0(o[l?vt:Ge],O,!l&&u));!l&&u&&dn&&o[vt].componentProviders++}}}function o_(n,i,o,u){const l=hl(i),h=function ju(n){return!!n.useClass}(i);if(l||h){const O=(h?we(i.useClass):i).prototype.ngOnDestroy;if(O){const z=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const X=z.indexOf(o);-1===X?z.push(o,[u,O]):z[X+1].push(u,O)}else z.push(o,O)}}}function r0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function a_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function Aw(n,i,o,u){return u_(this.multi,[])}function xw(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,T=Zn(o,o[Bt],this.providerFactory.index,u);h=T.slice(0,y),u_(l,h);for(let O=y;O<T.length;O++)h.push(T[O])}else h=[],u_(l,h);return h}function u_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function s0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function uc(n,i,o){const u=k();if(u.firstCreatePass){const l=ti(n);Cf(o,u.data,u.blueprint,l,!0),Cf(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Df{}class o0{}function Pw(n,i){return new a0(n,i??null)}class a0 extends Df{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);const u=Ir(i);this._bootstrapComponents=Cu(u.bootstrap),this._r3Injector=Zg(i,o,[{provide:Df,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],de(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class l_ extends o0{constructor(i){super(),this.moduleType=i}create(i){return new a0(this.moduleType,i)}}class Rw extends Df{constructor(i,o,u){super(),this.componentFactoryResolver=new Kh(this),this.instance=null;const l=new fl([...i,{provide:Df,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],o||Eu(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function c_(n,i,o=null){return new Rw(n,i,o).injector}let Ow=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Pg(0,o.type),l=u.length>0?c_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=St({token:n,providedIn:"environment",factory:()=>new n(rn(Ta))}),n})();function u0(n){n.getStandaloneInjector=i=>i.get(Ow).getOrCreateStandaloneInjector(n)}function h_(n){return i=>{setTimeout(n,void 0,i)}}const Pl=class sE extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),y=u;if(i&&"object"==typeof i){const O=i;l=O.next?.bind(O),h=O.error?.bind(O),y=O.complete?.bind(O)}this.__isAsync&&(h=h_(h),l&&(l=h_(l)),y&&(y=h_(y)));const T=super.subscribe({next:l,error:h,complete:y});return i instanceof B.w0&&i.add(T),T}};function oE(){return this._results[Symbol.iterator]()}class f_{get changes(){return this._changes||(this._changes=new Pl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=f_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=oE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Bs(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Hi(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ug=(()=>{class n{}return n.__NG_ELEMENT_ID__=lE,n})();const aE=ug,uE=class extends aE{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Fc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Fn]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Kr];return null!==y&&(l[Kr]=y.createEmbeddedView(u)),Cd(u,l,i),new Hc(l)}};function lE(){return ly(Le(),x())}function ly(n,i){return 4&n.type?new uE(i,n,Iu(n,i)):null}let cy=(()=>{class n{}return n.__NG_ELEMENT_ID__=cE,n})();function cE(){return I0(Le(),x())}const dE=cy,w0=class extends dE{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Iu(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const i=ii(this._hostTNode,this._hostLView);if(Ri(i)){const o=gt(i,this._hostLView),u=Nt(i);return new qs(o[Bt].data[u+8],o)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=E0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Qr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const y=i.createEmbeddedView(o||{},h);return this.insert(y,l),y}createComponent(i,o,u,l,h){const y=i&&!function za(n){return"function"==typeof n}(i);let T;if(y)T=o;else{const fe=o||{};T=fe.index,u=fe.injector,l=fe.projectableNodes,h=fe.environmentInjector||fe.ngModuleRef}const O=y?i:new Jl(Yt(i)),z=u||this.parentInjector;if(!h&&null==O.ngModule){const xe=(y?z:this.parentInjector).get(Ta,null);xe&&(h=xe)}const X=O.create(z,l,void 0,h);return this.insert(X.hostView,T),X}insert(i,o){const u=i._lView,l=u[Bt];if(function Zo(n){return ei(n[br])}(u)){const X=this.indexOf(i);if(-1!==X)this.detach(X);else{const fe=u[br],xe=new w0(fe,fe[Vr],fe[br]);xe.detach(xe.indexOf(i))}}const h=this._adjustIndex(o),y=this._lContainer;!function d(n,i,o,u){const l=Qr+u,h=o.length;u>0&&(o[l-1][ur]=i),u<h-Qr?(i[ur]=o[l],Qs(o,Qr+u,i)):(o.push(i),i[ur]=null),i[br]=o;const y=i[Fn];null!==y&&o!==y&&function g(n,i){const o=n[ys];i[fn]!==i[br][br][fn]&&(n[ki]=!0),null===o?n[ys]=[i]:o.push(i)}(y,i);const T=i[Kr];null!==T&&T.insertView(n),i[Tn]|=64}(l,u,y,h);const T=Bl(h,y),O=u[Ce],z=Uu(O,y[cs]);return null!==z&&function ih(n,i,o,u,l,h){u[Rr]=l,u[Vr]=i,bc(n,u,o,1,l,h)}(l,y[Vr],O,u,z,T),i.attachToViewContainerRef(),Qs(p_(y),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=E0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Z(this._lContainer,o);u&&(Ia(p_(this._lContainer),o),re(u[Bt],u))}detach(i){const o=this._adjustIndex(i,-1),u=Z(this._lContainer,o);return u&&null!=Ia(p_(this._lContainer),o)?new Hc(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function E0(n){return n[ds]}function p_(n){return n[ds]||(n[ds]=[])}function I0(n,i){let o;const u=i[n.index];if(ei(u))o=u;else{let l;if(8&n.type)l=jr(u);else{const h=i[Ce];l=h.createComment("");const y=Qn(n,i);ir(h,Uu(h,y),l,function ul(n,i){return n.nextSibling(i)}(h,y),!1)}i[n.index]=o=im(u,i,l,n),Wu(i,o)}return new w0(o,n,i)}class g_{constructor(i){this.queryList=i,this.matches=null}clone(){return new g_(this.queryList)}setDirty(){this.queryList.setDirty()}}class m_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const y=o.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new m_(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==M0(i,o).matches&&this.queries[o].setDirty()}}class b0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class y_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new y_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class v_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new v_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,hE(o,h)),this.matchTNodeWithReadOption(i,o,ss(o,i,h,!1,!1))}else u===ug?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ss(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===nu||l===cy||l===ug&&4&o.type)this.addMatch(o.index,-2);else{const h=ss(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function hE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function pE(n,i,o,u){return-1===o?function fE(n,i){return 11&n.type?Iu(n,i):4&n.type?ly(n,i):null}(i,n):-2===o?function gE(n,i,o){return o===nu?Iu(i,n):o===ug?ly(i,n):o===cy?I0(i,n):void 0}(n,i,u):Zn(n,n[Bt],o,i)}function C0(n,i,o,u){const l=i[Kr].queries[u];if(null===l.matches){const h=n.data,y=o.matches,T=[];for(let O=0;O<y.length;O+=2){const z=y[O];T.push(z<0?null:pE(i,h[z],y[O+1],o.metadata.read))}l.matches=T}return l.matches}function __(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const y=C0(n,i,l,o);for(let T=0;T<h.length;T+=2){const O=h[T];if(O>0)u.push(y[T/2]);else{const z=h[T+1],X=i[-O];for(let fe=Qr;fe<X.length;fe++){const xe=X[fe];xe[Fn]===xe[br]&&__(xe[Bt],xe,z,u)}if(null!==X[ys]){const fe=X[ys];for(let xe=0;xe<fe.length;xe++){const Ge=fe[xe];__(Ge[Bt],Ge,z,u)}}}}}return u}function D0(n){const i=x(),o=k(),u=fo();Er(u+1);const l=M0(o,u);if(n.dirty&&function Ts(n){return 4==(4&n[Tn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?__(o,i,u,[]):C0(o,i,l,u);n.reset(h,pl),n.notifyOnChanges()}return!0}return!1}function T0(n,i,o,u){const l=k();if(l.firstCreatePass){const h=Le();(function x0(n,i,o){null===n.queries&&(n.queries=new y_),n.queries.track(new v_(i,o))})(l,new b0(i,o,u),h.index),function vE(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function A0(n,i,o){const u=new f_(4==(4&o));Mo(n,i,u,u.destroy),null===i[Kr]&&(i[Kr]=new m_),i[Kr].queries.push(new g_(u))}(l,x(),o)}function S0(){return function yE(n,i){return n[Kr].queries[i].queryList}(x(),fo())}function M0(n,i){return n.queries.getByIndex(i)}function w_(n){return!!Ir(n)}function hy(...n){}const K0=new gr("Application Initializer");let fy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=hy,this.reject=hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Ld(h))o.push(h);else if(Jc(h)){const y=new Promise((T,O)=>{h.subscribe({complete:T,error:O})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(rn(K0,8))},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z0=new gr("AppId",{providedIn:"root",factory:function Y0(){return`${D_()}${D_()}${D_()}`}});function D_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Q0=new gr("Platform Initializer"),UE=new gr("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let BE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const py=new gr("LocaleId",{providedIn:"root",factory:()=>Yn(py,xt.Optional|xt.SkipSelf)||function $E(){return typeof $localize<"u"&&$localize.locale||Qu}()}),jE=new gr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class HE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let zE=(()=>{class n{compileModuleSync(o){return new l_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Cu(Ir(o).declarations).reduce((y,T)=>{const O=Yt(T);return O&&y.push(new Jl(O)),y},[]);return new HE(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function T_(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Au{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function KE(){let n=pn.requestAnimationFrame,i=pn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function QE(n){const i=()=>{!function YE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,A_(n),n.isCheckStableRunning=!0,S_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),A_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,y,T)=>{try{return ew(n),o.invokeTask(l,h,y,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tw(n)}},onInvoke:(o,u,l,h,y,T,O)=>{try{return ew(n),o.invoke(l,h,y,T,O)}finally{n.shouldCoalesceRunChangeDetection&&i(),tw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,A_(n),S_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Fe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,i,ZE,hy,hy);try{return h.runTask(y,o,u)}finally{h.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const ZE={};function S_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function A_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ew(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tw(n){n._nesting--,S_(n)}class JE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const nw=new gr(""),rw=new gr("");let x_,XE=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,x_||(function eI(n){x_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(rn(Au),rn(iw),rn(rw))},n.\u0275prov=St({token:n,factory:n.\u0275fac}),n})(),iw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return x_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const lc=!1;let id=null;const sw=new gr("AllowMultipleToken"),M_=new gr("PlatformDestroyListeners"),ow=new gr("appBootstrapListener");class rI{constructor(i,o){this.name=i,this.token=o}}function uw(n,i,o=[]){const u=`Platform: ${i}`,l=new gr(u);return(h=[])=>{let y=P_();if(!y||y.injector.get(sw,!1)){const T=[...o,...h,{provide:l,useValue:!0}];n?n(T):function iI(n){if(id&&!id.get(sw,!1))throw new Fe(400,!1);id=n;const i=n.get(cw);(function aw(n){const i=n.get(Q0,null);i&&i.forEach(o=>o())})(n)}(function lw(n=[],i){return Kl.create({name:i,providers:[{provide:wh,useValue:"platform"},{provide:M_,useValue:new Set([()=>id=null])},...n]})}(T,u))}return function oI(n){const i=P_();if(!i)throw new Fe(401,!1);return i}()}}function P_(){return id?.get(cw)??null}let cw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function hw(n,i){let o;return o="noop"===n?new JE:("zone.js"===n?void 0:n)||new Au(i),o}(u?.ngZone,function dw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Au,useValue:l}];return l.run(()=>{const y=Kl.create({providers:h,parent:this.injector,name:o.moduleType.name}),T=o.create(y),O=T.injector.get(gl,null);if(!O)throw new Fe(402,!1);return l.runOutsideAngular(()=>{const z=l.onError.subscribe({next:X=>{O.handleError(X)}});T.onDestroy(()=>{my(this._modules,T),z.unsubscribe()})}),function fw(n,i,o){try{const u=o();return Ld(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(O,l,()=>{const z=T.injector.get(fy);return z.runInitializers(),z.donePromise.then(()=>(function ig(n){et(n,"Expected localeId to be defined"),"string"==typeof n&&(rg=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(py,Qu)||Qu),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const l=pw({},u);return function tI(n,i,o){const u=new l_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(gy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(M_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(rn(Kl))},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function pw(n,i){return Array.isArray(i)?i.reduce(pw,n):{...n,...i}}let gy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new M.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),y=new M.y(T=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{O.unsubscribe(),z.unsubscribe()}});this.isStable=(0,_e.T)(h,y.pipe((0,ce.B)()))}bootstrap(o,u){const l=o instanceof Oc;if(!this._injector.get(fy).done){!l&&Br(o);throw new Fe(405,lc)}let y;y=l?o:this._injector.get(gd).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const T=function nI(n){return n.isBoundToModule}(y)?void 0:this._injector.get(Df),z=y.create(Kl.NULL,[],u||y.selector,T),X=z.location.nativeElement,fe=z.injector.get(nw,null);return fe?.registerApplication(X),z.onDestroy(()=>{this.detachView(z.hostView),my(this.components,z),fe?.unregisterApplication(X)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;my(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(ow,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>my(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Fe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(rn(Au),rn(Ta),rn(gl))},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function my(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function uI(){return!1}let lI=(()=>{class n{}return n.__NG_ELEMENT_ID__=cI,n})();function cI(n){return function dI(n,i,o){if(vs(n)&&!o){const u=li(n.index,i);return new Hc(u,u)}return 47&n.type?new Hc(i[fn],i):null}(Le(),x(),16==(16&n))}class _w{constructor(){}supports(i){return qc(i)}create(i){return new yI(i)}}const mI=(n,i)=>i;class yI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||mI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const y=!u||o&&o.currentIndex<Ew(u,l,h)?o:u,T=Ew(y,l,h),O=y.currentIndex;if(y===u)l--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)l++;else{h||(h=[]);const z=T-l,X=O-l;if(z!=X){for(let xe=0;xe<z;xe++){const Ge=xe<h.length?h[xe]:h[xe]=0,vt=Ge+xe;X<=vt&&vt<z&&(h[xe]=Ge+1)}h[y.previousIndex]=X-z}}T!==O&&i(y,T,O)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!qc(i))throw new Fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)h=i[T],y=this._trackByFn(T,h),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,h,y,T)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,y,T),u=!0),o=o._next}else l=0,function pv(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,T=>{y=this._trackByFn(l,T),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,T,y,l)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,y,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new vI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new ww),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ww),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class vI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _I{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class ww{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new _I,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ew(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Iw{constructor(){}supports(i){return i instanceof Map||Od(i)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Od(i)))throw new Fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const u=new EI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class EI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bw(){return new F_([new _w])}let F_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||bw()),deps:[[n,new $s,new si]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Fe(901,!1)}}return n.\u0275prov=St({token:n,providedIn:"root",factory:bw}),n})();function Cw(){return new L_([new Iw])}let L_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Cw()),deps:[[n,new $s,new si]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Fe(901,!1)}}return n.\u0275prov=St({token:n,providedIn:"root",factory:Cw}),n})();const CI=uw(null,"core",[]);let DI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(rn(gy))},n.\u0275mod=Oe({type:n}),n.\u0275inj=_n({}),n})();function TI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Zt,Me,H)=>{"use strict";H.d(Me,{Fj:()=>Ze,qu:()=>vo,NI:()=>fn,u:()=>Li,sg:()=>oo,u5:()=>Gs,JJ:()=>pn,JL:()=>hn,wV:()=>ui,UX:()=>_o,kI:()=>Wt,_Y:()=>Qr});var p=H(4650),B=H(6895),M=H(8996),_e=H(9751),ce=H(4742),be=H(8421),Te=H(7669),de=H(5403),ke=H(3268),ae=H(1810),we=H(4004);let Qe=(()=>{class x{constructor(R,J){this._renderer=R,this._elementRef=J,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(R,J){this._renderer.setProperty(this._elementRef.nativeElement,R,J)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(p.Qsj),p.Y36(p.SBq))},x.\u0275dir=p.lG2({type:x}),x})(),Xe=(()=>{class x extends Qe{}return x.\u0275fac=function(){let k;return function(J){return(k||(k=p.n5z(x)))(J||x)}}(),x.\u0275dir=p.lG2({type:x,features:[p.qOj]}),x})();const ct=new p.OlP("NgValueAccessor"),rt={provide:ct,useExisting:(0,p.Gpc)(()=>Ze),multi:!0},ut=new p.OlP("CompositionEventMode");let Ze=(()=>{class x extends Qe{constructor(R,J,Le){super(R,J),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qe(){const x=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ut,8))},x.\u0275dir=p.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,J){1&R&&p.NdJ("input",function(tn){return J._handleInput(tn.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(tn){return J._compositionEnd(tn.target.value)})},features:[p._Bn([rt]),p.qOj]}),x})();const nt=!1;function ot(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function pt(x){return null!=x&&"number"==typeof x.length}const ve=new p.OlP("NgValidators"),De=new p.OlP("NgAsyncValidators"),At=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Wt{static min(k){return function bt(x){return k=>{if(ot(k.value)||ot(x))return null;const R=parseFloat(k.value);return!isNaN(R)&&R<x?{min:{min:x,actual:k.value}}:null}}(k)}static max(k){return function Et(x){return k=>{if(ot(k.value)||ot(x))return null;const R=parseFloat(k.value);return!isNaN(R)&&R>x?{max:{max:x,actual:k.value}}:null}}(k)}static required(k){return function Tt(x){return ot(x.value)?{required:!0}:null}(k)}static requiredTrue(k){return function Un(x){return!0===x.value?null:{required:!0}}(k)}static email(k){return function je(x){return ot(x.value)||At.test(x.value)?null:{email:!0}}(k)}static minLength(k){return function Re(x){return k=>ot(k.value)||!pt(k.value)?null:k.value.length<x?{minlength:{requiredLength:x,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function Ve(x){return k=>pt(k.value)&&k.value.length>x?{maxlength:{requiredLength:x,actualLength:k.value.length}}:null}(k)}static pattern(k){return function Ye(x){if(!x)return at;let k,R;return"string"==typeof x?(R="","^"!==x.charAt(0)&&(R+="^"),R+=x,"$"!==x.charAt(x.length-1)&&(R+="$"),k=new RegExp(R)):(R=x.toString(),k=x),J=>{if(ot(J.value))return null;const Le=J.value;return k.test(Le)?null:{pattern:{requiredPattern:R,actualValue:Le}}}}(k)}static nullValidator(k){return null}static compose(k){return Xt(k)}static composeAsync(k){return Bn(k)}}function at(x){return null}function et(x){return null!=x}function tt(x){const k=(0,p.QGY)(x)?(0,M.D)(x):x;if(nt&&!(0,p.CqO)(k)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof x&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,R)}return k}function Dt(x){let k={};return x.forEach(R=>{k=null!=R?{...k,...R}:k}),0===Object.keys(k).length?null:k}function vn(x,k){return k.map(R=>R(x))}function St(x){return x.map(k=>function _t(x){return!x.validate}(k)?k:R=>k.validate(R))}function Xt(x){if(!x)return null;const k=x.filter(et);return 0==k.length?null:function(R){return Dt(vn(R,k))}}function _n(x){return null!=x?Xt(St(x)):null}function Bn(x){if(!x)return null;const k=x.filter(et);return 0==k.length?null:function(R){return function ge(...x){const k=(0,Te.jO)(x),{args:R,keys:J}=(0,ce.D)(x),Le=new _e.y(tn=>{const{length:hr}=R;if(!hr)return void tn.complete();const Or=new Array(hr);let is=hr,Ji=hr;for(let Ss=0;Ss<hr;Ss++){let _i=!1;(0,be.Xf)(R[Ss]).subscribe((0,de.x)(tn,Ui=>{_i||(_i=!0,Ji--),Or[Ss]=Ui},()=>is--,void 0,()=>{(!is||!_i)&&(Ji||tn.next(J?(0,ae.n)(J,Or):Or),tn.complete())}))}});return k?Le.pipe((0,ke.Z)(k)):Le}(vn(R,k).map(tt)).pipe((0,we.U)(Dt))}}function zn(x){return null!=x?Bn(St(x)):null}function Ln(x,k){return null===x?[k]:Array.isArray(x)?[...x,k]:[x,k]}function kt(x){return x._rawValidators}function Pt(x){return x._rawAsyncValidators}function $n(x){return x?Array.isArray(x)?x:[x]:[]}function jn(x,k){return Array.isArray(x)?x.includes(k):x===k}function xn(x,k){const R=$n(k);return $n(x).forEach(Le=>{jn(R,Le)||R.push(Le)}),R}function on(x,k){return $n(k).filter(R=>!jn(x,R))}class xt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=_n(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,R){return!!this.control&&this.control.hasError(k,R)}getError(k,R){return this.control?this.control.getError(k,R):null}}class sn extends xt{get formDirective(){return null}get path(){return null}}class Gn extends xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pn=(()=>{class x extends nr{constructor(R){super(R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(Gn,2))},x.\u0275dir=p.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,J){2&R&&p.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)},features:[p.qOj]}),x})(),hn=(()=>{class x extends nr{constructor(R){super(R)}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(sn,10))},x.\u0275dir=p.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,J){2&R&&p.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)("ng-submitted",J.isSubmitted)},features:[p.qOj]}),x})();function ar(x,k){return x?`with name: '${k}'`:`at index: ${k}`}const Lr=!1,Pr="VALID",_r="INVALID",ee="PENDING",L="DISABLED";function N(x){return(oe(x)?x.validators:x)||null}function j(x,k){return(oe(k)?k.asyncValidators:x)||null}function oe(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function le(x,k,R){const J=x.controls;if(!(k?Object.keys(J):J).length)throw new p.vHH(1e3,Lr?function Yn(x){return`\n    There are no form controls registered with this ${x?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(k):"");if(!J[R])throw new p.vHH(1001,Lr?function Ur(x,k){return`Cannot find form control ${ar(x,k)}`}(k,R):"")}function ie(x,k,R){x._forEachChild((J,Le)=>{if(void 0===R[Le])throw new p.vHH(1002,Lr?function er(x,k){return`Must supply a value for form control ${ar(x,k)}`}(k,Le):"")})}class Ee{constructor(k,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Pr}get invalid(){return this.status===_r}get pending(){return this.status==ee}get disabled(){return this.status===L}get enabled(){return this.status!==L}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(xn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(xn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(on(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(on(k,this._rawAsyncValidators))}hasValidator(k){return jn(this._rawValidators,k)}hasAsyncValidator(k){return jn(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=ee,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=L,this.errors=null,this._forEachChild(J=>{J.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:R}),this._onDisabledChange.forEach(J=>J(!0))}enable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=Pr,this._forEachChild(J=>{J.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:R}),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pr||this.status===ee)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?L:Pr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=ee,this._hasOwnPendingAsyncValidator=!0;const R=tt(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,R={}){this.errors=k,this._updateControlsErrors(!1!==R.emitEvent)}get(k){let R=k;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((J,Le)=>J&&J._find(Le),this)}getError(k,R){const J=R?this.get(R):this;return J&&J.errors?J.errors[k]:null}hasError(k,R){return!!this.getError(k,R)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?L:this.errors?_r:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ee)?ee:this._anyControlsHaveStatus(_r)?_r:Pr}_anyControlsHaveStatus(k){return this._anyControls(R=>R.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){oe(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function $(x){return Array.isArray(x)?_n(x):x||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function he(x){return Array.isArray(x)?zn(x):x||null}(this._rawAsyncValidators)}}class Ue extends Ee{constructor(k,R,J){super(N(R),j(J,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,R){return this.controls[k]?this.controls[k]:(this.controls[k]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(k,R,J={}){this.registerControl(k,R),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(k,R,J={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],R&&this.registerControl(k,R),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,R={}){ie(this,!0,k),Object.keys(k).forEach(J=>{le(this,!0,J),this.controls[J].setValue(k[J],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(Object.keys(k).forEach(J=>{const Le=this.controls[J];Le&&Le.patchValue(k[J],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k={},R={}){this._forEachChild((J,Le)=>{J.reset(k[Le],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(k,R,J)=>(k[J]=R.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(R,J)=>!!J._syncPendingControls()||R);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(R=>{const J=this.controls[R];J&&k(J,R)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[R,J]of Object.entries(this.controls))if(this.contains(R)&&k(J))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,J,Le)=>((J.enabled||this.disabled)&&(R[Le]=J.value),R))}_reduceChildren(k,R){let J=k;return this._forEachChild((Le,tn)=>{J=R(J,Le,tn)}),J}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class en extends Ue{}const Ar=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>We}),We="always";function wt(x,k,R=We){Yt(x,k),k.valueAccessor.writeValue(x.value),(x.disabled||"always"===R)&&k.valueAccessor.setDisabledState?.(x.disabled),function kn(x,k){k.valueAccessor.registerOnChange(R=>{x._pendingValue=R,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Ir(x,k)})}(x,k),function mi(x,k){const R=(J,Le)=>{k.valueAccessor.writeValue(J),Le&&k.viewToModelUpdate(J)};x.registerOnChange(R),k._registerOnDestroy(()=>{x._unregisterOnChange(R)})}(x,k),function Br(x,k){k.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Ir(x,k),"submit"!==x.updateOn&&x.markAsTouched()})}(x,k),function Dn(x,k){if(k.valueAccessor.setDisabledState){const R=J=>{k.valueAccessor.setDisabledState(J)};x.registerOnDisabledChange(R),k._registerOnDestroy(()=>{x._unregisterOnDisabledChange(R)})}}(x,k)}function Ht(x,k,R=!0){const J=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(J),k.valueAccessor.registerOnTouched(J)),On(x,k),x&&(k._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function an(x,k){x.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(k)})}function Yt(x,k){const R=kt(x);null!==k.validator?x.setValidators(Ln(R,k.validator)):"function"==typeof R&&x.setValidators([R]);const J=Pt(x);null!==k.asyncValidator?x.setAsyncValidators(Ln(J,k.asyncValidator)):"function"==typeof J&&x.setAsyncValidators([J]);const Le=()=>x.updateValueAndValidity();an(k._rawValidators,Le),an(k._rawAsyncValidators,Le)}function On(x,k){let R=!1;if(null!==x){if(null!==k.validator){const Le=kt(x);if(Array.isArray(Le)&&Le.length>0){const tn=Le.filter(hr=>hr!==k.validator);tn.length!==Le.length&&(R=!0,x.setValidators(tn))}}if(null!==k.asyncValidator){const Le=Pt(x);if(Array.isArray(Le)&&Le.length>0){const tn=Le.filter(hr=>hr!==k.asyncValidator);tn.length!==Le.length&&(R=!0,x.setAsyncValidators(tn))}}}const J=()=>{};return an(k._rawValidators,J),an(k._rawAsyncValidators,J),R}function Ir(x,k){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function ln(x,k){const R=x.indexOf(k);R>-1&&x.splice(R,1)}function En(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const fn=class extends Ee{constructor(k=null,R,J){super(N(R),j(J,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=En(k)?k.value:k)}setValue(k,R={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(k,R={}){this.setValue(k,R)}reset(k=this.defaultValue,R={}){this._applyFormState(k),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){ln(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){ln(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){En(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}};let Qr=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275dir=p.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const Ro={provide:ct,useExisting:(0,p.Gpc)(()=>ui),multi:!0};let ui=(()=>{class x extends Xe{writeValue(R){this.setProperty("value",R??"")}registerOnChange(R){this.onChange=J=>{R(""==J?null:parseFloat(J))}}}return x.\u0275fac=function(){let k;return function(J){return(k||(k=p.n5z(x)))(J||x)}}(),x.\u0275dir=p.lG2({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,J){1&R&&p.NdJ("input",function(tn){return J.onChange(tn.target.value)})("blur",function(){return J.onTouched()})},features:[p._Bn([Ro]),p.qOj]}),x})(),vs=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})();const ws=new p.OlP("NgModelWithFormControlWarning"),Fi={provide:sn,useExisting:(0,p.Gpc)(()=>oo)};let oo=(()=>{class x extends sn{constructor(R,J,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(R),this._setAsyncValidators(J)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(On(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const J=this.form.get(R.path);return wt(J,R,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),J}getControl(R){return this.form.get(R.path)}removeControl(R){Ht(R.control||null,R,!1),function Pe(x,k){const R=x.indexOf(k);R>-1&&x.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,J){this.form.get(R.path).setValue(J)}onSubmit(R){return this.submitted=!0,function Ni(x,k){x._syncPendingControls(),k.forEach(R=>{const J=R.control;"submit"===J.updateOn&&J._pendingChange&&(R.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const J=R.control,Le=this.form.get(R.path);J!==Le&&(Ht(J||null,R),(x=>x instanceof fn)(Le)&&(wt(Le,R,this.callSetDisabledState),R.control=Le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const J=this.form.get(R.path);(function $r(x,k){Yt(x,k)})(J,R),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const J=this.form.get(R.path);J&&function Oi(x,k){return On(x,k)}(J,R)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yt(this.form,this),this._oldForm&&On(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(R){return new(R||x)(p.Y36(ve,10),p.Y36(De,10),p.Y36(Ar,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(R,J){1&R&&p.NdJ("submit",function(tn){return J.onSubmit(tn)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Fi]),p.qOj,p.TTD]}),x})();const ao={provide:Gn,useExisting:(0,p.Gpc)(()=>Li)};let Li=(()=>{class x extends Gn{set isDisabled(R){}constructor(R,J,Le,tn,hr){super(),this._ngModelWarningConfig=hr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(J),this._setAsyncValidators(Le),this.valueAccessor=function lr(x,k){if(!k)return null;let R,J,Le;return Array.isArray(k),k.forEach(tn=>{tn.constructor===Ze?R=tn:function Vr(x){return Object.getPrototypeOf(x.constructor)===Xe}(tn)?J=tn:Le=tn}),Le||J||R||null}(0,tn)}ngOnChanges(R){this._added||this._setUpControl(),function Ei(x,k){if(!x.hasOwnProperty("model"))return!1;const R=x.model;return!!R.isFirstChange()||!Object.is(k,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function Oe(x,k){return[...k.path,x]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(R){return new(R||x)(p.Y36(sn,13),p.Y36(ve,10),p.Y36(De,10),p.Y36(ct,10),p.Y36(ws,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([ao]),p.qOj,p.TTD]}),x})(),Ns=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[vs]}),x})();class vi extends Ee{constructor(k,R,J){super(N(R),j(J,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,R={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(k,R,J={}){this.controls.splice(k,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(k,R={}){let J=this._adjustIndex(k);J<0&&(J=0),this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),this.controls.splice(J,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(k,R,J={}){let Le=this._adjustIndex(k);Le<0&&(Le=0),this.controls[Le]&&this.controls[Le]._registerOnCollectionChange(()=>{}),this.controls.splice(Le,1),R&&(this.controls.splice(Le,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,R={}){ie(this,!1,k),k.forEach((J,Le)=>{le(this,!1,Le),this.at(Le).setValue(J,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(k.forEach((J,Le)=>{this.at(Le)&&this.at(Le).patchValue(J,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k=[],R={}){this._forEachChild((J,Le)=>{J.reset(k[Le],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((R,J)=>!!J._syncPendingControls()||R,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((R,J)=>{k(R,J)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(R=>R.enabled&&k(R))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){return this.at(k)??null}}function ko(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let vo=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new x;return R.useNonNullable=!0,R}group(R,J=null){const Le=this._reduceControls(R);let tn={};return ko(J)?tn=J:null!==J&&(tn.validators=J.validator,tn.asyncValidators=J.asyncValidator),new Ue(Le,tn)}record(R,J=null){const Le=this._reduceControls(R);return new en(Le,J)}control(R,J,Le){let tn={};return this.useNonNullable?(ko(J)?tn=J:(tn.validators=J,tn.asyncValidators=Le),new fn(R,{...tn,nonNullable:!0})):new fn(R,J,Le)}array(R,J,Le){const tn=R.map(hr=>this._createControl(hr));return new vi(tn,J,Le)}_reduceControls(R){const J={};return Object.keys(R).forEach(Le=>{J[Le]=this._createControl(R[Le])}),J}_createControl(R){return R instanceof fn||R instanceof Ee?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Gs=(()=>{class x{static withConfig(R){return{ngModule:x,providers:[{provide:Ar,useValue:R.callSetDisabledState??We}]}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[Ns]}),x})(),_o=(()=>{class x{static withConfig(R){return{ngModule:x,providers:[{provide:ws,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:Ar,useValue:R.callSetDisabledState??We}]}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[Ns]}),x})()},1481:(Zt,Me,H)=>{"use strict";H.d(Me,{Dx:()=>hn,b2:()=>Gn,q6:()=>xn});var p=H(6895),B=H(4650);class M extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends M{static makeCurrent(){(0,p.HT)(new _e)}onAndCancel(le,ie,Ee){return le.addEventListener(ie,Ee,!1),()=>{le.removeEventListener(ie,Ee,!1)}}dispatchEvent(le,ie){le.dispatchEvent(ie)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,ie){return(ie=ie||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,ie){return"window"===ie?window:"document"===ie?le:"body"===ie?le.body:null}getBaseHref(le){const ie=function be(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==ie?null:function de(oe){Te=Te||document.createElement("a"),Te.setAttribute("href",oe);const le=Te.pathname;return"/"===le.charAt(0)?le:`/${le}`}(ie)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,p.Mx)(document.cookie,le)}}let Te,ce=null;const ke=new B.OlP("TRANSITION_ID"),ge=[{provide:B.ip1,useFactory:function ae(oe,le,ie){return()=>{ie.get(B.CZH).donePromise.then(()=>{const Ee=(0,p.q)(),Ue=le.querySelectorAll(`style[ng-transition="${oe}"]`);for(let ht=0;ht<Ue.length;ht++)Ee.remove(Ue[ht])})}},deps:[ke,p.K0,B.zs3],multi:!0}];let Qe=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(ie){return new(ie||oe)},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Xe=new B.OlP("EventManagerPlugins");let ct=(()=>{class oe{constructor(ie,Ee){this._zone=Ee,this._eventNameToPlugin=new Map,ie.forEach(Ue=>{Ue.manager=this}),this._plugins=ie.slice().reverse()}addEventListener(ie,Ee,Ue){return this._findPluginFor(Ee).addEventListener(ie,Ee,Ue)}addGlobalEventListener(ie,Ee,Ue){return this._findPluginFor(Ee).addGlobalEventListener(ie,Ee,Ue)}getZone(){return this._zone}_findPluginFor(ie){const Ee=this._eventNameToPlugin.get(ie);if(Ee)return Ee;const Ue=this._plugins;for(let ht=0;ht<Ue.length;ht++){const Jt=Ue[ht];if(Jt.supports(ie))return this._eventNameToPlugin.set(ie,Jt),Jt}throw new Error(`No event manager plugin found for event ${ie}`)}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(Xe),B.LFG(B.R0b))},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class It{constructor(le){this._doc=le}addGlobalEventListener(le,ie,Ee){const Ue=(0,p.q)().getGlobalEventTarget(this._doc,le);if(!Ue)throw new Error(`Unsupported event target ${Ue} for event ${ie}`);return this.addEventListener(Ue,ie,Ee)}}let Fe=(()=>{class oe{constructor(){this.usageCount=new Map}addStyles(ie){for(const Ee of ie)1===this.changeUsageCount(Ee,1)&&this.onStyleAdded(Ee)}removeStyles(ie){for(const Ee of ie)0===this.changeUsageCount(Ee,-1)&&this.onStyleRemoved(Ee)}onStyleRemoved(ie){}onStyleAdded(ie){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ie,Ee){const Ue=this.usageCount;let ht=Ue.get(ie)??0;return ht+=Ee,ht>0?Ue.set(ie,ht):Ue.delete(ie),ht}ngOnDestroy(){for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.usageCount.clear()}}return oe.\u0275fac=function(ie){return new(ie||oe)},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),rt=(()=>{class oe extends Fe{constructor(ie){super(),this.doc=ie,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ie){for(const Ee of this.hostNodes)this.addStyleToHost(Ee,ie)}onStyleRemoved(ie){const Ee=this.styleRef;Ee.get(ie)?.forEach(ht=>ht.remove()),Ee.delete(ie)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ie){this.hostNodes.add(ie);for(const Ee of this.getAllStyles())this.addStyleToHost(ie,Ee)}removeHost(ie){this.hostNodes.delete(ie)}addStyleToHost(ie,Ee){const Ue=this.doc.createElement("style");Ue.textContent=Ee,ie.appendChild(Ue);const ht=this.styleRef.get(Ee);ht?ht.push(Ue):this.styleRef.set(Ee,[Ue])}resetHostNodes(){const ie=this.hostNodes;ie.clear(),ie.add(this.doc.head)}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(p.K0))},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g,De=new B.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bt(oe,le){return le.flat(100).map(ie=>ie.replace(ut,oe))}function Et(oe){return le=>{if("__ngUnwrap__"===le)return oe;!1===oe(le)&&(le.preventDefault(),le.returnValue=!1)}}let Tt=(()=>{class oe{constructor(ie,Ee,Ue,ht){this.eventManager=ie,this.sharedStylesHost=Ee,this.appId=Ue,this.removeStylesOnCompDestory=ht,this.rendererByCompId=new Map,this.defaultRenderer=new Un(ie)}createRenderer(ie,Ee){if(!ie||!Ee)return this.defaultRenderer;const Ue=this.getOrCreateRenderer(ie,Ee);return Ue instanceof et?Ue.applyToHost(ie):Ue instanceof at&&Ue.applyStyles(),Ue}getOrCreateRenderer(ie,Ee){const Ue=this.rendererByCompId;let ht=Ue.get(Ee.id);if(!ht){const Jt=this.eventManager,en=this.sharedStylesHost,Vn=this.removeStylesOnCompDestory;switch(Ee.encapsulation){case B.ifc.Emulated:ht=new et(Jt,en,Ee,this.appId,Vn);break;case B.ifc.ShadowDom:return new Ye(Jt,en,ie,Ee);default:ht=new at(Jt,en,Ee,Vn)}ht.onDestroy=()=>Ue.delete(Ee.id),Ue.set(Ee.id,ht)}return ht}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(ct),B.LFG(rt),B.LFG(B.AFp),B.LFG(De))},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Un{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,ie){return ie?document.createElementNS(qe[ie]||ie,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,ie){(Ve(le)?le.content:le).appendChild(ie)}insertBefore(le,ie,Ee){le&&(Ve(le)?le.content:le).insertBefore(ie,Ee)}removeChild(le,ie){le&&le.removeChild(ie)}selectRootElement(le,ie){let Ee="string"==typeof le?document.querySelector(le):le;if(!Ee)throw new Error(`The selector "${le}" did not match any elements`);return ie||(Ee.textContent=""),Ee}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,ie,Ee,Ue){if(Ue){ie=Ue+":"+ie;const ht=qe[Ue];ht?le.setAttributeNS(ht,ie,Ee):le.setAttribute(ie,Ee)}else le.setAttribute(ie,Ee)}removeAttribute(le,ie,Ee){if(Ee){const Ue=qe[Ee];Ue?le.removeAttributeNS(Ue,ie):le.removeAttribute(`${Ee}:${ie}`)}else le.removeAttribute(ie)}addClass(le,ie){le.classList.add(ie)}removeClass(le,ie){le.classList.remove(ie)}setStyle(le,ie,Ee,Ue){Ue&(B.JOm.DashCase|B.JOm.Important)?le.style.setProperty(ie,Ee,Ue&B.JOm.Important?"important":""):le.style[ie]=Ee}removeStyle(le,ie,Ee){Ee&B.JOm.DashCase?le.style.removeProperty(ie):le.style[ie]=""}setProperty(le,ie,Ee){le[ie]=Ee}setValue(le,ie){le.nodeValue=ie}listen(le,ie,Ee){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,ie,Et(Ee)):this.eventManager.addEventListener(le,ie,Et(Ee))}}function Ve(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class Ye extends Un{constructor(le,ie,Ee,Ue){super(le),this.sharedStylesHost=ie,this.hostEl=Ee,this.shadowRoot=Ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ht=bt(Ue.id,Ue.styles);for(const Jt of ht){const en=document.createElement("style");en.textContent=Jt,this.shadowRoot.appendChild(en)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}appendChild(le,ie){return super.appendChild(this.nodeOrShadowRoot(le),ie)}insertBefore(le,ie,Ee){return super.insertBefore(this.nodeOrShadowRoot(le),ie,Ee)}removeChild(le,ie){return super.removeChild(this.nodeOrShadowRoot(le),ie)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class at extends Un{constructor(le,ie,Ee,Ue,ht=Ee.id){super(le),this.sharedStylesHost=ie,this.removeStylesOnCompDestory=Ue,this.rendererUsageCount=0,this.styles=bt(ht,Ee.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class et extends at{constructor(le,ie,Ee,Ue,ht){const Jt=Ue+"-"+Ee.id;super(le,ie,Ee,ht,Jt),this.contentAttr=function At(oe){return"_ngcontent-%COMP%".replace(ut,oe)}(Jt),this.hostAttr=function Wt(oe){return"_nghost-%COMP%".replace(ut,oe)}(Jt)}applyToHost(le){this.applyStyles(),this.setAttribute(le,this.hostAttr,"")}createElement(le,ie){const Ee=super.createElement(le,ie);return super.setAttribute(Ee,this.contentAttr,""),Ee}}let tt=(()=>{class oe extends It{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Ee,Ue){return ie.addEventListener(Ee,Ue,!1),()=>this.removeEventListener(ie,Ee,Ue)}removeEventListener(ie,Ee,Ue){return ie.removeEventListener(Ee,Ue)}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(p.K0))},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Dt=["alt","control","meta","shift"],vn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let St=(()=>{class oe extends It{constructor(ie){super(ie)}supports(ie){return null!=oe.parseEventName(ie)}addEventListener(ie,Ee,Ue){const ht=oe.parseEventName(Ee),Jt=oe.eventCallback(ht.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ie,ht.domEventName,Jt))}static parseEventName(ie){const Ee=ie.toLowerCase().split("."),Ue=Ee.shift();if(0===Ee.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const ht=oe._normalizeKey(Ee.pop());let Jt="",en=Ee.indexOf("code");if(en>-1&&(Ee.splice(en,1),Jt="code."),Dt.forEach(Ar=>{const We=Ee.indexOf(Ar);We>-1&&(Ee.splice(We,1),Jt+=Ar+".")}),Jt+=ht,0!=Ee.length||0===ht.length)return null;const Vn={};return Vn.domEventName=Ue,Vn.fullKey=Jt,Vn}static matchEventFullKeyCode(ie,Ee){let Ue=vn[ie.key]||ie.key,ht="";return Ee.indexOf("code.")>-1&&(Ue=ie.code,ht="code."),!(null==Ue||!Ue)&&(Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),Dt.forEach(Jt=>{Jt!==Ue&&(0,_t[Jt])(ie)&&(ht+=Jt+".")}),ht+=Ue,ht===Ee)}static eventCallback(ie,Ee,Ue){return ht=>{oe.matchEventFullKeyCode(ht,ie)&&Ue.runGuarded(()=>Ee(ht))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(p.K0))},oe.\u0275prov=B.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const xn=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:p.bD},{provide:B.g9A,useValue:function kt(){_e.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function $n(){return(0,B.RDi)(document),document},deps:[]}]),on=new B.OlP(""),xt=[{provide:B.rWj,useClass:class we{addToWindow(le){B.dqk.getAngularTestability=(Ee,Ue=!0)=>{const ht=le.findTestabilityInTree(Ee,Ue);if(null==ht)throw new Error("Could not find testability for element.");return ht},B.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(Ee=>{const Ue=B.dqk.getAllAngularTestabilities();let ht=Ue.length,Jt=!1;const en=function(Vn){Jt=Jt||Vn,ht--,0==ht&&Ee(Jt)};Ue.forEach(function(Vn){Vn.whenStable(en)})})}findTestabilityInTree(le,ie,Ee){return null==ie?null:le.getTestability(ie)??(Ee?(0,p.q)().isShadowRoot(ie)?this.findTestabilityInTree(le,ie.host,!0):this.findTestabilityInTree(le,ie.parentElement,!0):null)}},deps:[]},{provide:B.lri,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]}],sn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function Pt(){return new B.qLn},deps:[]},{provide:Xe,useClass:tt,multi:!0,deps:[p.K0,B.R0b,B.Lbi]},{provide:Xe,useClass:St,multi:!0,deps:[p.K0]},{provide:Tt,useClass:Tt,deps:[ct,rt,B.AFp,De]},{provide:B.FYo,useExisting:Tt},{provide:Fe,useExisting:rt},{provide:rt,useClass:rt,deps:[p.K0]},{provide:ct,useClass:ct,deps:[Xe,B.R0b]},{provide:p.JF,useClass:Qe,deps:[]},[]];let Gn=(()=>{class oe{constructor(ie){}static withServerTransition(ie){return{ngModule:oe,providers:[{provide:B.AFp,useValue:ie.appId},{provide:ke,useExisting:B.AFp},ge]}}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(on,12))},oe.\u0275mod=B.oAB({type:oe}),oe.\u0275inj=B.cJS({providers:[...sn,...xt],imports:[p.ez,B.hGG]}),oe})(),hn=(()=>{class oe{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return oe.\u0275fac=function(ie){return new(ie||oe)(B.LFG(p.K0))},oe.\u0275prov=B.Yz7({token:oe,factory:function(ie){let Ee=null;return Ee=ie?new ie:function pn(){return new hn((0,B.LFG)(p.K0))}(),Ee},providedIn:"root"}),oe})();typeof window<"u"&&window},9051:(Zt,Me,H)=>{"use strict";H.d(Me,{F0:()=>ss,rH:()=>zt,Bz:()=>Qs,lC:()=>Pn});var p=H(4650),B=H(8996),M=H(9646),_e=H(7579);class ce extends _e.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const m=super._subscribe(_);return!m.closed&&_.next(this._value),m}getValue(){const{hasError:_,thrownError:m,_value:S}=this;if(_)throw m;return this._throwIfClosed(),S}next(_){super.next(this._value=_)}}var be=H(6805),Te=H(9751),de=H(4742),ke=H(4671),ae=H(3268),ge=H(7669),we=H(1810),Qe=H(5403),Xe=H(9672);function ct(...v){const _=(0,ge.yG)(v),m=(0,ge.jO)(v),{args:S,keys:U}=(0,de.D)(v);if(0===S.length)return(0,B.D)([],_);const Y=new Te.y(function It(v,_,m=ke.y){return S=>{Fe(_,()=>{const{length:U}=v,Y=new Array(U);let ne=U,Ne=U;for(let ft=0;ft<U;ft++)Fe(_,()=>{const $t=(0,B.D)(v[ft],_);let Kt=!1;$t.subscribe((0,Qe.x)(S,Cr=>{Y[ft]=Cr,Kt||(Kt=!0,Ne--),Ne||S.next(m(Y.slice()))},()=>{--ne||S.complete()}))},S)},S)}}(S,_,U?ne=>(0,we.n)(U,ne):ke.y));return m?Y.pipe((0,ae.Z)(m)):Y}function Fe(v,_,m){v?(0,Xe.f)(m,v,_):_()}var rt=H(7272),qe=H(8421);function ut(v){return new Te.y(_=>{(0,qe.Xf)(v()).subscribe(_)})}var Ze=H(9635),nt=H(576);function ot(v,_){const m=(0,nt.m)(v)?v:()=>v,S=U=>U.error(m());return new Te.y(_?U=>_.schedule(S,0,U):S)}var pt=H(515),ve=H(727),De=H(4482);function At(){return(0,De.e)((v,_)=>{let m=null;v._refCount++;const S=(0,Qe.x)(_,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const U=v._connection,Y=m;m=null,U&&(!Y||U===Y)&&U.unsubscribe(),_.unsubscribe()});v.subscribe(S),S.closed||(m=v.connect())})}class Wt extends Te.y{constructor(_,m){super(),this.source=_,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new ve.w0;const m=this.getSubject();_.add(this.source.subscribe((0,Qe.x)(m,void 0,()=>{this._teardown(),m.complete()},S=>{this._teardown(),m.error(S)},()=>this._teardown()))),_.closed&&(this._connection=null,_=ve.w0.EMPTY)}return _}refCount(){return At()(this)}}var bt=H(6895),Et=H(4004),Tt=H(3900),Un=H(5698),je=H(8675),Re=H(9300),Ve=H(5577),Ye=H(590);function at(v,_){return(0,nt.m)(_)?(0,Ve.z)(v,_,1):(0,Ve.z)(v,1)}var et=H(8505);function tt(v){return(0,De.e)((_,m)=>{let Y,S=null,U=!1;S=_.subscribe((0,Qe.x)(m,void 0,void 0,ne=>{Y=(0,qe.Xf)(v(ne,tt(v)(_))),S?(S.unsubscribe(),S=null,Y.subscribe(m)):U=!0})),U&&(S.unsubscribe(),S=null,Y.subscribe(m))})}var Dt=H(5026);function vn(v){return v<=0?()=>pt.E:(0,De.e)((_,m)=>{let S=[];_.subscribe((0,Qe.x)(m,U=>{S.push(U),v<S.length&&S.shift()},()=>{for(const U of S)m.next(U);m.complete()},void 0,()=>{S=null}))})}var _t=H(8068),St=H(6590);function Xt(v,_){const m=arguments.length>=2;return S=>S.pipe(v?(0,Re.h)((U,Y)=>v(U,Y,S)):ke.y,vn(1),m?(0,St.d)(_):(0,_t.T)(()=>new be.K))}function zn(v){return(0,De.e)((_,m)=>{try{_.subscribe(m)}finally{m.add(v)}})}var Ln=H(8189),kt=H(1481);const Pt="primary",$n=Symbol("RouteTitle");class jn{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const m=this.params[_];return Array.isArray(m)?m[0]:m}return null}getAll(_){if(this.has(_)){const m=this.params[_];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function xn(v){return new jn(v)}function on(v,_,m){const S=m.path.split("/");if(S.length>v.length||"full"===m.pathMatch&&(_.hasChildren()||S.length<v.length))return null;const U={};for(let Y=0;Y<S.length;Y++){const ne=S[Y],Ne=v[Y];if(ne.startsWith(":"))U[ne.substring(1)]=Ne;else if(ne!==Ne.path)return null}return{consumed:v.slice(0,S.length),posParams:U}}function sn(v,_){const m=v?Object.keys(v):void 0,S=_?Object.keys(_):void 0;if(!m||!S||m.length!=S.length)return!1;let U;for(let Y=0;Y<m.length;Y++)if(U=m[Y],!Gn(v[U],_[U]))return!1;return!0}function Gn(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const m=[...v].sort(),S=[..._].sort();return m.every((U,Y)=>S[Y]===U)}return v===_}function nr(v){return Array.prototype.concat.apply([],v)}function rr(v){return v.length>0?v[v.length-1]:null}function pn(v,_){for(const m in v)v.hasOwnProperty(m)&&_(v[m],m)}function hn(v){return(0,p.CqO)(v)?v:(0,p.QGY)(v)?(0,B.D)(Promise.resolve(v)):(0,M.of)(v)}const Lt=!1,Ct={exact:function kr(v,_,m){if(!Yn(v.segments,_.segments)||!Fr(v.segments,_.segments,m)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const S in _.children)if(!v.children[S]||!kr(v.children[S],_.children[S],m))return!1;return!0},subset:pr},sr={exact:function Xn(v,_){return sn(v,_)},subset:function vr(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(m=>Gn(v[m],_[m]))},ignored:()=>!0};function or(v,_,m){return Ct[m.paths](v.root,_.root,m.matrixParams)&&sr[m.queryParams](v.queryParams,_.queryParams)&&!("exact"===m.fragment&&v.fragment!==_.fragment)}function pr(v,_,m){return In(v,_,_.segments,m)}function In(v,_,m,S){if(v.segments.length>m.length){const U=v.segments.slice(0,m.length);return!(!Yn(U,m)||_.hasChildren()||!Fr(U,m,S))}if(v.segments.length===m.length){if(!Yn(v.segments,m)||!Fr(v.segments,m,S))return!1;for(const U in _.children)if(!v.children[U]||!pr(v.children[U],_.children[U],S))return!1;return!0}{const U=m.slice(0,v.segments.length),Y=m.slice(v.segments.length);return!!(Yn(v.segments,U)&&Fr(v.segments,U,S)&&v.children[Pt])&&In(v.children[Pt],_,Y,S)}}function Fr(v,_,m){return _.every((S,U)=>sr[m](v[U].parameters,S.parameters))}class bn{constructor(_=new qt([],{}),m={},S=null){this.root=_,this.queryParams=m,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return Pr.serialize(this)}}class qt{constructor(_,m){this.segments=_,this.children=m,this.parent=null,pn(m,(S,U)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _r(this)}}class rn{constructor(_,m){this.path=_,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=xn(this.parameters)),this._parameterMap}toString(){return le(this)}}function Yn(v,_){return v.length===_.length&&v.every((m,S)=>m.path===_[S].path)}let er=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return new Lr},providedIn:"root"}),v})();class Lr{parse(_){const m=new We(_);return new bn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(_){const m=`/${ee(_.root,!0)}`,S=function Ee(v){const _=Object.keys(v).map(m=>{const S=v[m];return Array.isArray(S)?S.map(U=>`${N(m)}=${N(U)}`).join("&"):`${N(m)}=${N(S)}`}).filter(m=>!!m);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${m}${S}${"string"==typeof _.fragment?`#${function $(v){return encodeURI(v)}(_.fragment)}`:""}`}}const Pr=new Lr;function _r(v){return v.segments.map(_=>le(_)).join("/")}function ee(v,_){if(!v.hasChildren())return _r(v);if(_){const m=v.children[Pt]?ee(v.children[Pt],!1):"",S=[];return pn(v.children,(U,Y)=>{Y!==Pt&&S.push(`${Y}:${ee(U,!1)}`)}),S.length>0?`${m}(${S.join("//")})`:m}{const m=function Ur(v,_){let m=[];return pn(v.children,(S,U)=>{U===Pt&&(m=m.concat(_(S,U)))}),pn(v.children,(S,U)=>{U!==Pt&&(m=m.concat(_(S,U)))}),m}(v,(S,U)=>U===Pt?[ee(v.children[Pt],!1)]:[`${U}:${ee(S,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Pt]?`${_r(v)}/${m[0]}`:`${_r(v)}/(${m.join("//")})`}}function L(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function N(v){return L(v).replace(/%3B/gi,";")}function j(v){return L(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(v){return decodeURIComponent(v)}function oe(v){return he(v.replace(/\+/g,"%20"))}function le(v){return`${j(v.path)}${function ie(v){return Object.keys(v).map(_=>`;${j(_)}=${j(v[_])}`).join("")}(v.parameters)}`}const Ue=/^[^\/()?;=#]+/;function ht(v){const _=v.match(Ue);return _?_[0]:""}const Jt=/^[^=?&#]+/,Vn=/^[^&#]+/;class We{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(_.length>0||Object.keys(m).length>0)&&(S[Pt]=new qt(_,m)),S}parseSegment(){const _=ht(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new p.vHH(4009,Lt);return this.capture(_),new rn(he(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const m=ht(this.remaining);if(!m)return;this.capture(m);let S="";if(this.consumeOptional("=")){const U=ht(this.remaining);U&&(S=U,this.capture(S))}_[he(m)]=he(S)}parseQueryParam(_){const m=function en(v){const _=v.match(Jt);return _?_[0]:""}(this.remaining);if(!m)return;this.capture(m);let S="";if(this.consumeOptional("=")){const ne=function Ar(v){const _=v.match(Vn);return _?_[0]:""}(this.remaining);ne&&(S=ne,this.capture(S))}const U=oe(m),Y=oe(S);if(_.hasOwnProperty(U)){let ne=_[U];Array.isArray(ne)||(ne=[ne],_[U]=ne),ne.push(Y)}else _[U]=Y}parseParens(_){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=ht(this.remaining),U=this.remaining[S.length];if("/"!==U&&")"!==U&&";"!==U)throw new p.vHH(4010,Lt);let Y;S.indexOf(":")>-1?(Y=S.slice(0,S.indexOf(":")),this.capture(Y),this.capture(":")):_&&(Y=Pt);const ne=this.parseChildren();m[Y]=1===Object.keys(ne).length?ne[Pt]:new qt([],ne),this.consumeOptional("//")}return m}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new p.vHH(4011,Lt)}}function Oe(v){return v.segments.length>0?new qt([],{[Pt]:v}):v}function wt(v){const _={};for(const S of Object.keys(v.children)){const Y=wt(v.children[S]);(Y.segments.length>0||Y.hasChildren())&&(_[S]=Y)}return function Ht(v){if(1===v.numberOfChildren&&v.children[Pt]){const _=v.children[Pt];return new qt(v.segments.concat(_.segments),_.children)}return v}(new qt(v.segments,_))}function an(v){return v instanceof bn}const Dn=!1;function Br(v,_,m,S,U){if(0===m.length)return $r(_.root,_.root,_.root,S,U);const Y=function Bt(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Rr(!0,0,v);let _=0,m=!1;const S=v.reduce((U,Y,ne)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ne={};return pn(Y.outlets,(ft,$t)=>{Ne[$t]="string"==typeof ft?ft.split("/"):ft}),[...U,{outlets:Ne}]}if(Y.segmentPath)return[...U,Y.segmentPath]}return"string"!=typeof Y?[...U,Y]:0===ne?(Y.split("/").forEach((Ne,ft)=>{0==ft&&"."===Ne||(0==ft&&""===Ne?m=!0:".."===Ne?_++:""!=Ne&&U.push(Ne))}),U):[...U,Y]},[]);return new Rr(m,_,S)}(m);return Y.toRoot()?$r(_.root,_.root,new qt([],{}),S,U):function ne(ft){const $t=function ur(v,_,m,S){if(v.isAbsolute)return new Tn(_.root,!0,0);if(-1===S)return new Tn(m,m===_.root,0);return function Ei(v,_,m){let S=v,U=_,Y=m;for(;Y>U;){if(Y-=U,S=S.parent,!S)throw new p.vHH(4005,Dn&&"Invalid number of '../'");U=S.segments.length}return new Tn(S,!1,U-Y)}(m,S+(Ir(v.commands[0])?0:1),v.numberOfDoubleDots)}(Y,_,v.snapshot?._urlSegment,ft),Kt=$t.processChildren?lr($t.segmentGroup,$t.index,Y.commands):Ni($t.segmentGroup,$t.index,Y.commands);return $r(_.root,$t.segmentGroup,Kt,S,U)}(v.snapshot?._lastPathIndex)}function Ir(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function mi(v){return"object"==typeof v&&null!=v&&v.outlets}function $r(v,_,m,S,U){let ne,Y={};S&&pn(S,(ft,$t)=>{Y[$t]=Array.isArray(ft)?ft.map(Kt=>`${Kt}`):`${ft}`}),ne=v===_?m:Oi(v,_,m);const Ne=Oe(wt(ne));return new bn(Ne,Y,U)}function Oi(v,_,m){const S={};return pn(v.children,(U,Y)=>{S[Y]=U===_?m:Oi(U,_,m)}),new qt(v.segments,S)}class Rr{constructor(_,m,S){if(this.isAbsolute=_,this.numberOfDoubleDots=m,this.commands=S,_&&S.length>0&&Ir(S[0]))throw new p.vHH(4003,Dn&&"Root segment cannot have matrix parameters");const U=S.find(mi);if(U&&U!==rr(S))throw new p.vHH(4004,Dn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tn{constructor(_,m,S){this.segmentGroup=_,this.processChildren=m,this.index=S}}function Ni(v,_,m){if(v||(v=new qt([],{})),0===v.segments.length&&v.hasChildren())return lr(v,_,m);const S=function Pe(v,_,m){let S=0,U=_;const Y={match:!1,pathIndex:0,commandIndex:0};for(;U<v.segments.length;){if(S>=m.length)return Y;const ne=v.segments[U],Ne=m[S];if(mi(Ne))break;const ft=`${Ne}`,$t=S<m.length-1?m[S+1]:null;if(U>0&&void 0===ft)break;if(ft&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!yt(ft,$t,ne))return Y;S+=2}else{if(!yt(ft,{},ne))return Y;S++}U++}return{match:!0,pathIndex:U,commandIndex:S}}(v,_,m),U=m.slice(S.commandIndex);if(S.match&&S.pathIndex<v.segments.length){const Y=new qt(v.segments.slice(0,S.pathIndex),{});return Y.children[Pt]=new qt(v.segments.slice(S.pathIndex),v.children),lr(Y,0,U)}return S.match&&0===U.length?new qt(v.segments,{}):S.match&&!v.hasChildren()?Ie(v,_,m):S.match?lr(v,0,U):Ie(v,_,m)}function lr(v,_,m){if(0===m.length)return new qt(v.segments,{});{const S=function Vr(v){return mi(v[0])?v[0].outlets:{[Pt]:v}}(m),U={};if(!S[Pt]&&v.children[Pt]&&1===v.numberOfChildren&&0===v.children[Pt].segments.length){const Y=lr(v.children[Pt],_,m);return new qt(v.segments,Y.children)}return pn(S,(Y,ne)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(U[ne]=Ni(v.children[ne],_,Y))}),pn(v.children,(Y,ne)=>{void 0===S[ne]&&(U[ne]=Y)}),new qt(v.segments,U)}}function Ie(v,_,m){const S=v.segments.slice(0,_);let U=0;for(;U<m.length;){const Y=m[U];if(mi(Y)){const ft=Ce(Y.outlets);return new qt(S,ft)}if(0===U&&Ir(m[0])){S.push(new rn(v.segments[_].path,lt(m[0]))),U++;continue}const ne=mi(Y)?Y.outlets[Pt]:`${Y}`,Ne=U<m.length-1?m[U+1]:null;ne&&Ne&&Ir(Ne)?(S.push(new rn(ne,lt(Ne))),U+=2):(S.push(new rn(ne,{})),U++)}return new qt(S,{})}function Ce(v){const _={};return pn(v,(m,S)=>{"string"==typeof m&&(m=[m]),null!==m&&(_[S]=Ie(new qt([],{}),0,m))}),_}function lt(v){const _={};return pn(v,(m,S)=>_[S]=`${m}`),_}function yt(v,_,m){return v==m.path&&sn(_,m.parameters)}const ln="imperative";class En{constructor(_,m){this.id=_,this.url=m}}class fn extends En{constructor(_,m,S="imperative",U=null){super(_,m),this.type=0,this.navigationTrigger=S,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fn extends En{constructor(_,m,S){super(_,m),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ai extends En{constructor(_,m,S,U){super(_,m),this.reason=S,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kr extends En{constructor(_,m,S,U){super(_,m),this.reason=S,this.code=U,this.type=16}}class Xr extends En{constructor(_,m,S,U){super(_,m),this.error=S,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yr extends En{constructor(_,m,S,U){super(_,m),this.urlAfterRedirects=S,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends En{constructor(_,m,S,U){super(_,m),this.urlAfterRedirects=S,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends En{constructor(_,m,S,U,Y){super(_,m),this.urlAfterRedirects=S,this.state=U,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qi extends En{constructor(_,m,S,U){super(_,m),this.urlAfterRedirects=S,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki extends En{constructor(_,m,S,U){super(_,m),this.urlAfterRedirects=S,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ds{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ys{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ei{constructor(_,m,S){this.routerEvent=_,this.position=m,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let _s=(()=>{class v{createUrlTree(m,S,U,Y,ne,Ne){return Br(m||S.root,U,Y,ne,Ne)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),cr=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(_){return _s.\u0275fac(_)},providedIn:"root"}),v})();class xi{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const m=this.pathFromRoot(_);return m.length>1?m[m.length-2]:null}children(_){const m=ws(_,this._root);return m?m.children.map(S=>S.value):[]}firstChild(_){const m=ws(_,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(_){const m=di(_,this._root);return m.length<2?[]:m[m.length-2].children.map(U=>U.value).filter(U=>U!==_)}pathFromRoot(_){return di(_,this._root).map(m=>m.value)}}function ws(v,_){if(v===_.value)return _;for(const m of _.children){const S=ws(v,m);if(S)return S}return null}function di(v,_){if(v===_.value)return[_];for(const m of _.children){const S=di(v,m);if(S.length)return S.unshift(_),S}return[]}class hs{constructor(_,m){this.value=_,this.children=m}toString(){return`TreeNode(${this.value})`}}function Fi(v){const _={};return v&&v.children.forEach(m=>_[m.value.outlet]=m),_}class oo extends xi{constructor(_,m){super(_),this.snapshot=m,fs(this,_)}toString(){return this.snapshot.toString()}}function Oo(v,_){const m=function Ko(v,_){const ne=new ao([],{},{},"",{},Pt,_,null,v.root,-1,{});return new Li("",new hs(ne,[]))}(v,_),S=new ce([new rn("",{})]),U=new ce({}),Y=new ce({}),ne=new ce({}),Ne=new ce(""),ft=new Es(S,U,ne,Ne,Y,Pt,_,m.root);return ft.snapshot=m.root,new oo(new hs(ft,[]),m)}class Es{constructor(_,m,S,U,Y,ne,Ne,ft){this.url=_,this.params=m,this.queryParams=S,this.fragment=U,this.data=Y,this.outlet=ne,this.component=Ne,this.title=this.data?.pipe((0,Et.U)($t=>$t[$n]))??(0,M.of)(void 0),this._futureSnapshot=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(_=>xn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(_=>xn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ns(v,_="emptyOnly"){const m=v.pathFromRoot;let S=0;if("always"!==_)for(S=m.length-1;S>=1;){const U=m[S],Y=m[S-1];if(U.routeConfig&&""===U.routeConfig.path)S--;else{if(Y.component)break;S--}}return function Ki(v){return v.reduce((_,m)=>({params:{..._.params,...m.params},data:{..._.data,...m.data},resolve:{...m.data,..._.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(S))}class ao{get title(){return this.data?.[$n]}constructor(_,m,S,U,Y,ne,Ne,ft,$t,Kt,Cr){this.url=_,this.params=m,this.queryParams=S,this.fragment=U,this.data=Y,this.outlet=ne,this.component=Ne,this.routeConfig=ft,this._urlSegment=$t,this._lastPathIndex=Kt,this._resolve=Cr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Li extends xi{constructor(_,m){super(m),this.url=_,fs(this,m)}toString(){return Is(this._root)}}function fs(v,_){_.value._routerState=v,_.children.forEach(m=>fs(v,m))}function Is(v){const _=v.children.length>0?` { ${v.children.map(Is).join(", ")} } `:"";return`${v.value}${_}`}function bs(v){if(v.snapshot){const _=v.snapshot,m=v._futureSnapshot;v.snapshot=m,sn(_.queryParams,m.queryParams)||v.queryParams.next(m.queryParams),_.fragment!==m.fragment&&v.fragment.next(m.fragment),sn(_.params,m.params)||v.params.next(m.params),function xt(v,_){if(v.length!==_.length)return!1;for(let m=0;m<v.length;++m)if(!sn(v[m],_[m]))return!1;return!0}(_.url,m.url)||v.url.next(m.url),sn(_.data,m.data)||v.data.next(m.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function uo(v,_){const m=sn(v.params,_.params)&&function ar(v,_){return Yn(v,_)&&v.every((m,S)=>sn(m.parameters,_[S].parameters))}(v.url,_.url);return m&&!(!v.parent!=!_.parent)&&(!v.parent||uo(v.parent,_.parent))}function Zi(v,_,m){if(m&&v.shouldReuseRoute(_.value,m.value.snapshot)){const S=m.value;S._futureSnapshot=_.value;const U=function Os(v,_,m){return _.children.map(S=>{for(const U of m.children)if(v.shouldReuseRoute(S.value,U.value.snapshot))return Zi(v,S,U);return Zi(v,S)})}(v,_,m);return new hs(S,U)}{if(v.shouldAttach(_.value)){const Y=v.retrieve(_.value);if(null!==Y){const ne=Y.route;return ne.value._futureSnapshot=_.value,ne.children=_.children.map(Ne=>Zi(v,Ne)),ne}}const S=function rs(v){return new Es(new ce(v.url),new ce(v.params),new ce(v.queryParams),new ce(v.fragment),new ce(v.data),v.outlet,v.component,v)}(_.value),U=_.children.map(Y=>Zi(v,Y));return new hs(S,U)}}const Hs="ngNavigationCancelingError";function Ds(v,_){const{redirectTo:m,navigationBehaviorOptions:S}=an(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,U=ps(!1,0,_);return U.url=m,U.navigationBehaviorOptions=S,U}function ps(v,_,m){const S=new Error("NavigationCancelingError: "+(v||""));return S[Hs]=!0,S.cancellationCode=_,m&&(S.url=m),S}function lo(v){return Yi(v)&&an(v.url)}function Yi(v){return v&&v[Hs]}class mt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yn,this.attachRef=null}}let yn=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,S){const U=this.getOrCreateContext(m);U.outlet=S,this.contexts.set(m,U)}onChildOutletDestroyed(m){const S=this.getContext(m);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let S=this.getContext(m);return S||(S=new mt,this.contexts.set(m,S)),S}getContext(m){return this.contexts.get(m)||null}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Mt=!1;let Pn=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(yn),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:S,previousValue:U}=m.name;if(S)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Mt);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Mt);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Mt);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,S){this.activated=m,this._activatedRoute=S,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,S){if(this.isActivated)throw new p.vHH(4013,Mt);this._activatedRoute=m;const U=this.location,ne=m.snapshot.component,Ne=this.parentContexts.getOrCreateContext(this.name).children,ft=new xr(m,Ne,U.injector);if(S&&function wr(v){return!!v.resolveComponentFactory}(S)){const $t=S.resolveComponentFactory(ne);this.activated=U.createComponent($t,U.length,ft)}else this.activated=U.createComponent(ne,{index:U.length,injector:ft,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),v})();class xr{constructor(_,m,S){this.route=_,this.childContexts=m,this.parent=S}get(_,m){return _===Es?this.route:_===yn?this.childContexts:this.parent.get(_,m)}}let hi=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,S){1&m&&p._UZ(0,"router-outlet")},dependencies:[Pn],encapsulation:2}),v})();function Qi(v,_){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function Ts(v){const _=v.children&&v.children.map(Ts),m=_?{...v,children:_}:{...v};return!m.component&&!m.loadComponent&&(_||m.loadChildren)&&m.outlet&&m.outlet!==Pt&&(m.component=hi),m}function ni(v){return v.outlet||Pt}function Zo(v,_){const m=v.filter(S=>ni(S)===_);return m.push(...v.filter(S=>ni(S)!==_)),m}function fi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const m=_.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class vi{constructor(_,m,S,U){this.routeReuseStrategy=_,this.futureState=m,this.currState=S,this.forwardEvent=U}activate(_){const m=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,S,_),bs(this.futureState.root),this.activateChildRoutes(m,S,_)}deactivateChildRoutes(_,m,S){const U=Fi(m);_.children.forEach(Y=>{const ne=Y.value.outlet;this.deactivateRoutes(Y,U[ne],S),delete U[ne]}),pn(U,(Y,ne)=>{this.deactivateRouteAndItsChildren(Y,S)})}deactivateRoutes(_,m,S){const U=_.value,Y=m?m.value:null;if(U===Y)if(U.component){const ne=S.getContext(U.outlet);ne&&this.deactivateChildRoutes(_,m,ne.children)}else this.deactivateChildRoutes(_,m,S);else Y&&this.deactivateRouteAndItsChildren(m,S)}deactivateRouteAndItsChildren(_,m){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,m):this.deactivateRouteAndOutlet(_,m)}detachAndStoreRouteSubtree(_,m){const S=m.getContext(_.value.outlet),U=S&&_.value.component?S.children:m,Y=Fi(_);for(const ne of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ne],U);if(S&&S.outlet){const ne=S.outlet.detach(),Ne=S.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:ne,route:_,contexts:Ne})}}deactivateRouteAndOutlet(_,m){const S=m.getContext(_.value.outlet),U=S&&_.value.component?S.children:m,Y=Fi(_);for(const ne of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ne],U);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(_,m,S){const U=Fi(m);_.children.forEach(Y=>{this.activateRoutes(Y,U[Y.value.outlet],S),this.forwardEvent(new ui(Y.value.snapshot))}),_.children.length&&this.forwardEvent(new Qr(_.value.snapshot))}activateRoutes(_,m,S){const U=_.value,Y=m?m.value:null;if(bs(U),U===Y)if(U.component){const ne=S.getOrCreateContext(U.outlet);this.activateChildRoutes(_,m,ne.children)}else this.activateChildRoutes(_,m,S);else if(U.component){const ne=S.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Ne=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),ne.children.onOutletReAttached(Ne.contexts),ne.attachRef=Ne.componentRef,ne.route=Ne.route.value,ne.outlet&&ne.outlet.attach(Ne.componentRef,Ne.route.value),bs(Ne.route.value),this.activateChildRoutes(_,null,ne.children)}else{const Ne=fi(U.snapshot),ft=Ne?.get(p._Vd)??null;ne.attachRef=null,ne.route=U,ne.resolver=ft,ne.injector=Ne,ne.outlet&&ne.outlet.activateWith(U,ne.injector),this.activateChildRoutes(_,null,ne.children)}}else this.activateChildRoutes(_,null,S)}}class Mn{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class co{constructor(_,m){this.component=_,this.route=m}}function ko(v,_,m){const S=v._root;return ks(S,_?_._root:null,m,[S.value])}function Vi(v,_){const m=Symbol(),S=_.get(v,m);return S===m?"function"!=typeof v||(0,p.Z0I)(v)?_.get(v):v:S}function ks(v,_,m,S,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Fi(_);return v.children.forEach(ne=>{(function Fo(v,_,m,S,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=v.value,ne=_?_.value:null,Ne=m?m.getContext(v.value.outlet):null;if(ne&&Y.routeConfig===ne.routeConfig){const ft=function Gs(v,_,m){if("function"==typeof m)return m(v,_);switch(m){case"pathParamsChange":return!Yn(v.url,_.url);case"pathParamsOrQueryParamsChange":return!Yn(v.url,_.url)||!sn(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uo(v,_)||!sn(v.queryParams,_.queryParams);default:return!uo(v,_)}}(ne,Y,Y.routeConfig.runGuardsAndResolvers);ft?U.canActivateChecks.push(new Mn(S)):(Y.data=ne.data,Y._resolvedData=ne._resolvedData),ks(v,_,Y.component?Ne?Ne.children:null:m,S,U),ft&&Ne&&Ne.outlet&&Ne.outlet.isActivated&&U.canDeactivateChecks.push(new co(Ne.outlet.component,ne))}else ne&&_o(_,Ne,U),U.canActivateChecks.push(new Mn(S)),ks(v,null,Y.component?Ne?Ne.children:null:m,S,U)})(ne,Y[ne.value.outlet],m,S.concat([ne.value]),U),delete Y[ne.value.outlet]}),pn(Y,(ne,Ne)=>_o(ne,m.getContext(Ne),U)),U}function _o(v,_,m){const S=Fi(v),U=v.value;pn(S,(Y,ne)=>{_o(Y,U.component?_?_.children.getContext(ne):null:_,m)}),m.canDeactivateChecks.push(new co(U.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,U))}function x(v){return"function"==typeof v}function Ji(v){return v instanceof be.K||"EmptyError"===v?.name}const Ss=Symbol("INITIAL_VALUE");function _i(){return(0,Tt.w)(v=>ct(v.map(_=>_.pipe((0,Un.q)(1),(0,je.O)(Ss)))).pipe((0,Et.U)(_=>{for(const m of _)if(!0!==m){if(m===Ss)return Ss;if(!1===m||m instanceof bn)return m}return!0}),(0,Re.h)(_=>_!==Ss),(0,Un.q)(1)))}function Lo(v){return(0,Ze.z)((0,et.b)(_=>{if(an(_))throw Ds(0,_)}),(0,Et.U)(_=>!0===_))}const Di={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fo(v,_,m,S,U){const Y=Er(v,_,m);return Y.matched?function ri(v,_,m,S){const U=_.canMatch;if(!U||0===U.length)return(0,M.of)(!0);const Y=U.map(ne=>{const Ne=Vi(ne,v);return hn(function hr(v){return v&&x(v.canMatch)}(Ne)?Ne.canMatch(_,m):v.runInContext(()=>Ne(_,m)))});return(0,M.of)(Y).pipe(_i(),Lo())}(S=Qi(_,S),_,m).pipe((0,Et.U)(ne=>!0===ne?Y:{...Di})):(0,M.of)(Y)}function Er(v,_,m){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||m.length>0)?{...Di}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const U=(_.matcher||on)(m,v,_);if(!U)return{...Di};const Y={};pn(U.posParams,(Ne,ft)=>{Y[ft]=Ne.path});const ne=U.consumed.length>0?{...Y,...U.consumed[U.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:U.consumed,remainingSegments:m.slice(U.consumed.length),parameters:ne,positionalParamSegments:U.posParams??{}}}function wo(v,_,m,S){if(m.length>0&&function na(v,_,m){return m.some(S=>As(v,_,S)&&ni(S)!==Pt)}(v,m,S)){const Y=new qt(_,function $i(v,_,m,S){const U={};U[Pt]=S,S._sourceSegment=v,S._segmentIndexShift=_.length;for(const Y of m)if(""===Y.path&&ni(Y)!==Pt){const ne=new qt([],{});ne._sourceSegment=v,ne._segmentIndexShift=_.length,U[ni(Y)]=ne}return U}(v,_,S,new qt(m,v.children)));return Y._sourceSegment=v,Y._segmentIndexShift=_.length,{segmentGroup:Y,slicedSegments:[]}}if(0===m.length&&function Eo(v,_,m){return m.some(S=>As(v,_,S))}(v,m,S)){const Y=new qt(v.segments,function ta(v,_,m,S,U){const Y={};for(const ne of S)if(As(v,m,ne)&&!U[ni(ne)]){const Ne=new qt([],{});Ne._sourceSegment=v,Ne._segmentIndexShift=_.length,Y[ni(ne)]=Ne}return{...U,...Y}}(v,_,m,S,v.children));return Y._sourceSegment=v,Y._segmentIndexShift=_.length,{segmentGroup:Y,slicedSegments:m}}const U=new qt(v.segments,v.children);return U._sourceSegment=v,U._segmentIndexShift=_.length,{segmentGroup:U,slicedSegments:m}}function As(v,_,m){return(!(v.hasChildren()||_.length>0)||"full"!==m.pathMatch)&&""===m.path}function Io(v,_,m,S){return!!(ni(v)===S||S!==Pt&&As(_,m,v))&&("**"===v.path||Er(_,v,m).matched)}function Ls(v,_,m){return 0===_.length&&!v.children[m]}const ji=!1;class Pi{constructor(_){this.segmentGroup=_||null}}class fr{constructor(_){this.urlTree=_}}function Ti(v){return ot(new Pi(v))}function Nr(v){return ot(new fr(v))}class Yo{constructor(_,m,S,U,Y){this.injector=_,this.configLoader=m,this.urlSerializer=S,this.urlTree=U,this.config=Y,this.allowRedirects=!0}apply(){const _=wo(this.urlTree.root,[],[],this.config).segmentGroup,m=new qt(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,m,Pt).pipe((0,Et.U)(Y=>this.createUrlTree(wt(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tt(Y=>{if(Y instanceof fr)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof Pi?this.noMatchError(Y):Y}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,Pt).pipe((0,Et.U)(U=>this.createUrlTree(wt(U),_.queryParams,_.fragment))).pipe(tt(U=>{throw U instanceof Pi?this.noMatchError(U):U}))}noMatchError(_){return new p.vHH(4002,ji)}createUrlTree(_,m,S){const U=Oe(_);return new bn(U,m,S)}expandSegmentGroup(_,m,S,U){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(_,m,S).pipe((0,Et.U)(Y=>new qt([],Y))):this.expandSegment(_,S,m,S.segments,U,!0)}expandChildren(_,m,S){const U=[];for(const Y of Object.keys(S.children))"primary"===Y?U.unshift(Y):U.push(Y);return(0,B.D)(U).pipe(at(Y=>{const ne=S.children[Y],Ne=Zo(m,Y);return this.expandSegmentGroup(_,Ne,ne,Y).pipe((0,Et.U)(ft=>({segment:ft,outlet:Y})))}),(0,Dt.R)((Y,ne)=>(Y[ne.outlet]=ne.segment,Y),{}),Xt())}expandSegment(_,m,S,U,Y,ne){return(0,B.D)(S).pipe(at(Ne=>this.expandSegmentAgainstRoute(_,m,S,Ne,U,Y,ne).pipe(tt($t=>{if($t instanceof Pi)return(0,M.of)(null);throw $t}))),(0,Ye.P)(Ne=>!!Ne),tt((Ne,ft)=>{if(Ji(Ne))return Ls(m,U,Y)?(0,M.of)(new qt([],{})):Ti(m);throw Ne}))}expandSegmentAgainstRoute(_,m,S,U,Y,ne,Ne){return Io(U,m,Y,ne)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(_,m,U,Y,ne):Ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,m,S,U,Y,ne):Ti(m):Ti(m)}expandSegmentAgainstRouteUsingRedirect(_,m,S,U,Y,ne){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,S,U,ne):this.expandRegularSegmentAgainstRouteUsingRedirect(_,m,S,U,Y,ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,m,S,U){const Y=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Nr(Y):this.lineralizeSegments(S,Y).pipe((0,Ve.z)(ne=>{const Ne=new qt(ne,{});return this.expandSegment(_,Ne,m,ne,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,m,S,U,Y,ne){const{matched:Ne,consumedSegments:ft,remainingSegments:$t,positionalParamSegments:Kt}=Er(m,U,Y);if(!Ne)return Ti(m);const Cr=this.applyRedirectCommands(ft,U.redirectTo,Kt);return U.redirectTo.startsWith("/")?Nr(Cr):this.lineralizeSegments(U,Cr).pipe((0,Ve.z)(si=>this.expandSegment(_,m,S,si.concat($t),ne,!1)))}matchSegmentAgainstRoute(_,m,S,U,Y){return"**"===S.path?(_=Qi(S,_),S.loadChildren?(S._loadedRoutes?(0,M.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(_,S)).pipe((0,Et.U)(Ne=>(S._loadedRoutes=Ne.routes,S._loadedInjector=Ne.injector,new qt(U,{})))):(0,M.of)(new qt(U,{}))):fo(m,S,U,_).pipe((0,Tt.w)(({matched:ne,consumedSegments:Ne,remainingSegments:ft})=>ne?this.getChildConfig(_=S._injector??_,S,U).pipe((0,Ve.z)(Kt=>{const Cr=Kt.injector??_,si=Kt.routes,{segmentGroup:Ho,slicedSegments:$s}=wo(m,Ne,ft,si),Co=new qt(Ho.segments,Ho.children);if(0===$s.length&&Co.hasChildren())return this.expandChildren(Cr,si,Co).pipe((0,Et.U)(tl=>new qt(Ne,tl)));if(0===si.length&&0===$s.length)return(0,M.of)(new qt(Ne,{}));const Hr=ni(S)===Y;return this.expandSegment(Cr,Co,si,$s,Hr?Pt:Y,!0).pipe((0,Et.U)(go=>new qt(Ne.concat(go.segments),go.children)))})):Ti(m)))}getChildConfig(_,m,S){return m.children?(0,M.of)({routes:m.children,injector:_}):m.loadChildren?void 0!==m._loadedRoutes?(0,M.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function ga(v,_,m,S){const U=_.canLoad;if(void 0===U||0===U.length)return(0,M.of)(!0);const Y=U.map(ne=>{const Ne=Vi(ne,v);return hn(function R(v){return v&&x(v.canLoad)}(Ne)?Ne.canLoad(_,m):v.runInContext(()=>Ne(_,m)))});return(0,M.of)(Y).pipe(_i(),Lo())}(_,m,S).pipe((0,Ve.z)(U=>U?this.configLoader.loadChildren(_,m).pipe((0,et.b)(Y=>{m._loadedRoutes=Y.routes,m._loadedInjector=Y.injector})):function Vs(v){return ot(ps(ji,3))}())):(0,M.of)({routes:[],injector:_})}lineralizeSegments(_,m){let S=[],U=m.root;for(;;){if(S=S.concat(U.segments),0===U.numberOfChildren)return(0,M.of)(S);if(U.numberOfChildren>1||!U.children[Pt])return _.redirectTo,ot(new p.vHH(4e3,ji));U=U.children[Pt]}}applyRedirectCommands(_,m,S){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),_,S)}applyRedirectCreateUrlTree(_,m,S,U){const Y=this.createSegmentGroup(_,m.root,S,U);return new bn(Y,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(_,m){const S={};return pn(_,(U,Y)=>{if("string"==typeof U&&U.startsWith(":")){const Ne=U.substring(1);S[Y]=m[Ne]}else S[Y]=U}),S}createSegmentGroup(_,m,S,U){const Y=this.createSegments(_,m.segments,S,U);let ne={};return pn(m.children,(Ne,ft)=>{ne[ft]=this.createSegmentGroup(_,Ne,S,U)}),new qt(Y,ne)}createSegments(_,m,S,U){return m.map(Y=>Y.path.startsWith(":")?this.findPosParam(_,Y,U):this.findOrReturn(Y,S))}findPosParam(_,m,S){const U=S[m.path.substring(1)];if(!U)throw new p.vHH(4001,ji);return U}findOrReturn(_,m){let S=0;for(const U of m){if(U.path===_.path)return m.splice(S),U;S++}return _}}class xs{}class A{constructor(_,m,S,U,Y,ne,Ne){this.injector=_,this.rootComponentType=m,this.config=S,this.urlTree=U,this.url=Y,this.paramsInheritanceStrategy=ne,this.urlSerializer=Ne}recognize(){const _=wo(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,Pt).pipe((0,Et.U)(m=>{if(null===m)return null;const S=new ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new hs(S,m),Y=new Li(this.url,U);return this.inheritParamsAndData(Y._root),Y}))}inheritParamsAndData(_){const m=_.value,S=ns(m,this.paramsInheritanceStrategy);m.params=Object.freeze(S.params),m.data=Object.freeze(S.data),_.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(_,m,S,U){return 0===S.segments.length&&S.hasChildren()?this.processChildren(_,m,S):this.processSegment(_,m,S,S.segments,U)}processChildren(_,m,S){return(0,B.D)(Object.keys(S.children)).pipe(at(U=>{const Y=S.children[U],ne=Zo(m,U);return this.processSegmentGroup(_,ne,Y,U)}),(0,Dt.R)((U,Y)=>U&&Y?(U.push(...Y),U):null),function _n(v,_=!1){return(0,De.e)((m,S)=>{let U=0;m.subscribe((0,Qe.x)(S,Y=>{const ne=v(Y,U++);(ne||_)&&S.next(Y),!ne&&S.complete()}))})}(U=>null!==U),(0,St.d)(null),Xt(),(0,Et.U)(U=>{if(null===U)return null;const Y=pe(U);return function G(v){v.sort((_,m)=>_.value.outlet===Pt?-1:m.value.outlet===Pt?1:_.value.outlet.localeCompare(m.value.outlet))}(Y),Y}))}processSegment(_,m,S,U,Y){return(0,B.D)(m).pipe(at(ne=>this.processSegmentAgainstRoute(ne._injector??_,ne,S,U,Y)),(0,Ye.P)(ne=>!!ne),tt(ne=>{if(Ji(ne))return Ls(S,U,Y)?(0,M.of)([]):(0,M.of)(null);throw ne}))}processSegmentAgainstRoute(_,m,S,U,Y){if(m.redirectTo||!Io(m,S,U,Y))return(0,M.of)(null);let ne;if("**"===m.path){const Ne=U.length>0?rr(U).parameters:{},ft=C(S)+U.length,$t=new ao(U,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ue(m),ni(m),m.component??m._loadedComponent??null,m,E(S),ft,Be(m));ne=(0,M.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else ne=fo(S,m,U,_).pipe((0,Et.U)(({matched:Ne,consumedSegments:ft,remainingSegments:$t,parameters:Kt})=>{if(!Ne)return null;const Cr=C(S)+ft.length;return{snapshot:new ao(ft,Kt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ue(m),ni(m),m.component??m._loadedComponent??null,m,E(S),Cr,Be(m)),consumedSegments:ft,remainingSegments:$t}}));return ne.pipe((0,Tt.w)(Ne=>{if(null===Ne)return(0,M.of)(null);const{snapshot:ft,consumedSegments:$t,remainingSegments:Kt}=Ne;_=m._injector??_;const Cr=m._loadedInjector??_,si=function F(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(m),{segmentGroup:Ho,slicedSegments:$s}=wo(S,$t,Kt,si.filter(Hr=>void 0===Hr.redirectTo));if(0===$s.length&&Ho.hasChildren())return this.processChildren(Cr,si,Ho).pipe((0,Et.U)(Hr=>null===Hr?null:[new hs(ft,Hr)]));if(0===si.length&&0===$s.length)return(0,M.of)([new hs(ft,[])]);const Co=ni(m)===Y;return this.processSegment(Cr,si,Ho,$s,Co?Pt:Y).pipe((0,Et.U)(Hr=>null===Hr?null:[new hs(ft,Hr)]))}))}}function Q(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function pe(v){const _=[],m=new Set;for(const S of v){if(!Q(S)){_.push(S);continue}const U=_.find(Y=>S.value.routeConfig===Y.value.routeConfig);void 0!==U?(U.children.push(...S.children),m.add(U)):_.push(S)}for(const S of m){const U=pe(S.children);_.push(new hs(S.value,U))}return _.filter(S=>!m.has(S))}function E(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function C(v){let _=v,m=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,m+=_._segmentIndexShift??0;return m-1}function ue(v){return v.data||{}}function Be(v){return v.resolve||{}}function un(v){return"string"==typeof v.title||null===v.title}function Ri(v){return(0,Tt.w)(_=>{const m=v(_);return m?(0,B.D)(m).pipe((0,Et.U)(()=>_)):(0,M.of)(_)})}const $e=new p.OlP("ROUTES");let gt=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,M.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const S=hn(m.loadComponent()).pipe((0,Et.U)(Pa),(0,et.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=Y}),zn(()=>{this.componentLoaders.delete(m)})),U=new Wt(S,()=>new _e.x).pipe(At());return this.componentLoaders.set(m,U),U}loadChildren(m,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,M.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Y=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Et.U)(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(S);let ft,$t,Kt=!1;Array.isArray(Ne)?$t=Ne:(ft=Ne.create(m).injector,$t=nr(ft.get($e,[],p.XFs.Self|p.XFs.Optional)));return{routes:$t.map(Ts),injector:ft}}),zn(()=>{this.childrenLoaders.delete(S)})),ne=new Wt(Y,()=>new _e.x).pipe(At());return this.childrenLoaders.set(S,ne),ne}loadModuleFactoryOrRoutes(m){return hn(m()).pipe((0,Et.U)(Pa),(0,Ve.z)(S=>S instanceof p.YKP||Array.isArray(S)?(0,M.of)(S):(0,B.D)(this.compiler.compileModuleAsync(S))))}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Pa(v){return function Si(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Ra=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _e.x,this.configLoader=(0,p.f3M)(gt),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(er),this.rootContexts=(0,p.f3M)(yn),this.navigationId=0,this.afterPreactivation=()=>(0,M.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new ds(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new cs(U))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:S})}setupNavigations(m){return this.transitions=new ce({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ln,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Re.h)(S=>0!==S.id),(0,Et.U)(S=>({...S,extractedUrl:m.urlHandlingStrategy.extract(S.rawUrl)})),(0,Tt.w)(S=>{let U=!1,Y=!1;return(0,M.of)(S).pipe((0,et.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Tt.w)(ne=>{const Ne=m.browserUrlTree.toString(),ft=!m.navigated||ne.extractedUrl.toString()!==Ne||Ne!==m.currentUrlTree.toString();if(!ft&&"reload"!==(ne.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Kt="";return this.events.next(new Kr(ne.id,m.serializeUrl(S.rawUrl),Kt,0)),m.rawUrlTree=ne.rawUrl,ne.resolve(null),pt.E}if(m.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return lu(ne.source)&&(m.browserUrlTree=ne.extractedUrl),(0,M.of)(ne).pipe((0,Tt.w)(Kt=>{const Cr=this.transitions?.getValue();return this.events.next(new fn(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),Kt.source,Kt.restoredState)),Cr!==this.transitions?.getValue()?pt.E:Promise.resolve(Kt)}),function xa(v,_,m,S){return(0,Tt.w)(U=>function ra(v,_,m,S,U){return new Yo(v,_,m,S,U).apply()}(v,_,m,U.extractedUrl,S).pipe((0,Et.U)(Y=>({...U,urlAfterRedirects:Y}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,et.b)(Kt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Kt.urlAfterRedirects},S.urlAfterRedirects=Kt.urlAfterRedirects}),function Rt(v,_,m,S,U){return(0,Ve.z)(Y=>function Ma(v,_,m,S,U,Y,ne="emptyOnly"){return new A(v,_,m,S,U,ne,Y).recognize().pipe((0,Tt.w)(Ne=>null===Ne?function ma(v){return new Te.y(_=>_.error(v))}(new xs):(0,M.of)(Ne)))}(v,_,m,Y.urlAfterRedirects,S.serialize(Y.urlAfterRedirects),S,U).pipe((0,Et.U)(ne=>({...Y,targetSnapshot:ne}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,et.b)(Kt=>{if(S.targetSnapshot=Kt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Kt.extras.skipLocationChange){const si=m.urlHandlingStrategy.merge(Kt.urlAfterRedirects,Kt.rawUrl);m.setBrowserUrl(si,Kt)}m.browserUrlTree=Kt.urlAfterRedirects}const Cr=new Yr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Cr)}));if(ft&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Kt,extractedUrl:Cr,source:si,restoredState:Ho,extras:$s}=ne,Co=new fn(Kt,this.urlSerializer.serialize(Cr),si,Ho);this.events.next(Co);const Hr=Oo(Cr,this.rootComponentType).snapshot;return S={...ne,targetSnapshot:Hr,urlAfterRedirects:Cr,extras:{...$s,skipLocationChange:!1,replaceUrl:!1}},(0,M.of)(S)}{const Kt="";return this.events.next(new Kr(ne.id,m.serializeUrl(S.extractedUrl),Kt,1)),m.rawUrlTree=ne.rawUrl,ne.resolve(null),pt.E}}),(0,et.b)(ne=>{const Ne=new Tr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(ne.urlAfterRedirects),ne.targetSnapshot);this.events.next(Ne)}),(0,Et.U)(ne=>S={...ne,guards:ko(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)}),function Ui(v,_){return(0,Ve.z)(m=>{const{targetSnapshot:S,currentSnapshot:U,guards:{canActivateChecks:Y,canDeactivateChecks:ne}}=m;return 0===ne.length&&0===Y.length?(0,M.of)({...m,guardsResult:!0}):function pi(v,_,m,S){return(0,B.D)(v).pipe((0,Ve.z)(U=>function ho(v,_,m,S,U){const Y=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,M.of)(!0);const ne=Y.map(Ne=>{const ft=fi(_)??U,$t=Vi(Ne,ft);return hn(function tn(v){return v&&x(v.canDeactivate)}($t)?$t.canDeactivate(v,_,m,S):ft.runInContext(()=>$t(v,_,m,S))).pipe((0,Ye.P)())});return(0,M.of)(ne).pipe(_i())}(U.component,U.route,m,_,S)),(0,Ye.P)(U=>!0!==U,!0))}(ne,S,U,v).pipe((0,Ve.z)(Ne=>Ne&&function k(v){return"boolean"==typeof v}(Ne)?function Bi(v,_,m,S){return(0,B.D)(_).pipe(at(U=>(0,rt.z)(function Fs(v,_){return null!==v&&_&&_(new ys(v)),(0,M.of)(!0)}(U.route.parent,S),function Ws(v,_){return null!==v&&_&&_(new Ro(v)),(0,M.of)(!0)}(U.route,S),function Mi(v,_,m){const S=_[_.length-1],Y=_.slice(0,_.length-1).reverse().map(ne=>function vo(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(ne)).filter(ne=>null!==ne).map(ne=>ut(()=>{const Ne=ne.guards.map(ft=>{const $t=fi(ne.node)??m,Kt=Vi(ft,$t);return hn(function Le(v){return v&&x(v.canActivateChild)}(Kt)?Kt.canActivateChild(S,v):$t.runInContext(()=>Kt(S,v))).pipe((0,Ye.P)())});return(0,M.of)(Ne).pipe(_i())}));return(0,M.of)(Y).pipe(_i())}(v,U.path,m),function Xi(v,_,m){const S=_.routeConfig?_.routeConfig.canActivate:null;if(!S||0===S.length)return(0,M.of)(!0);const U=S.map(Y=>ut(()=>{const ne=fi(_)??m,Ne=Vi(Y,ne);return hn(function J(v){return v&&x(v.canActivate)}(Ne)?Ne.canActivate(_,v):ne.runInContext(()=>Ne(_,v))).pipe((0,Ye.P)())}));return(0,M.of)(U).pipe(_i())}(v,U.route,m))),(0,Ye.P)(U=>!0!==U,!0))}(S,Y,v,_):(0,M.of)(Ne)),(0,Et.U)(Ne=>({...m,guardsResult:Ne})))})}(this.environmentInjector,ne=>this.events.next(ne)),(0,et.b)(ne=>{if(S.guardsResult=ne.guardsResult,an(ne.guardsResult))throw Ds(0,ne.guardsResult);const Ne=new Ii(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.events.next(Ne)}),(0,Re.h)(ne=>!!ne.guardsResult||(m.restoreHistory(ne),this.cancelNavigationTransition(ne,"",3),!1)),Ri(ne=>{if(ne.guards.canActivateChecks.length)return(0,M.of)(ne).pipe((0,et.b)(Ne=>{const ft=new qi(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(ft)}),(0,Tt.w)(Ne=>{let ft=!1;return(0,M.of)(Ne).pipe(function Je(v,_){return(0,Ve.z)(m=>{const{targetSnapshot:S,guards:{canActivateChecks:U}}=m;if(!U.length)return(0,M.of)(m);let Y=0;return(0,B.D)(U).pipe(at(ne=>function gn(v,_,m,S){const U=v.routeConfig,Y=v._resolve;return void 0!==U?.title&&!un(U)&&(Y[$n]=U.title),function Hn(v,_,m,S){const U=function wi(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===U.length)return(0,M.of)({});const Y={};return(0,B.D)(U).pipe((0,Ve.z)(ne=>function Vt(v,_,m,S){const U=fi(_)??S,Y=Vi(v,U);return hn(Y.resolve?Y.resolve(_,m):U.runInContext(()=>Y(_,m)))}(v[ne],_,m,S).pipe((0,Ye.P)(),(0,et.b)(Ne=>{Y[ne]=Ne}))),vn(1),function Bn(v){return(0,Et.U)(()=>v)}(Y),tt(ne=>Ji(ne)?pt.E:ot(ne)))}(Y,v,_,S).pipe((0,Et.U)(ne=>(v._resolvedData=ne,v.data=ns(v,m).resolve,U&&un(U)&&(v.data[$n]=U.title),null)))}(ne.route,S,v,_)),(0,et.b)(()=>Y++),vn(1),(0,Ve.z)(ne=>Y===U.length?(0,M.of)(m):pt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,et.b)({next:()=>ft=!0,complete:()=>{ft||(m.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",2))}}))}),(0,et.b)(Ne=>{const ft=new ki(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(ft)}))}),Ri(ne=>{const Ne=ft=>{const $t=[];ft.routeConfig?.loadComponent&&!ft.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(ft.routeConfig).pipe((0,et.b)(Kt=>{ft.component=Kt}),(0,Et.U)(()=>{})));for(const Kt of ft.children)$t.push(...Ne(Kt));return $t};return ct(Ne(ne.targetSnapshot.root)).pipe((0,St.d)(),(0,Un.q)(1))}),Ri(()=>this.afterPreactivation()),(0,Et.U)(ne=>{const Ne=function Cs(v,_,m){const S=Zi(v,_._root,m?m._root:void 0);return new oo(S,_)}(m.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return S={...ne,targetRouterState:Ne}}),(0,et.b)(ne=>{m.currentUrlTree=ne.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),m.routerState=ne.targetRouterState,"deferred"===m.urlUpdateStrategy&&(ne.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,ne),m.browserUrlTree=ne.urlAfterRedirects)}),((v,_,m)=>(0,Et.U)(S=>(new vi(_,S.targetRouterState,S.currentRouterState,m).activate(v),S)))(this.rootContexts,m.routeReuseStrategy,ne=>this.events.next(ne)),(0,Un.q)(1),(0,et.b)({next:ne=>{U=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Fn(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(ne.targetRouterState.snapshot),ne.resolve(!0)},complete:()=>{U=!0}}),zn(()=>{U||Y||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),tt(ne=>{if(Y=!0,Yi(ne)){lo(ne)||(m.navigated=!0,m.restoreHistory(S,!0));const Ne=new ai(S.id,this.urlSerializer.serialize(S.extractedUrl),ne.message,ne.cancellationCode);if(this.events.next(Ne),lo(ne)){const ft=m.urlHandlingStrategy.merge(ne.url,m.rawUrlTree),$t={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||lu(S.source)};m.scheduleNavigation(ft,ln,null,$t,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{m.restoreHistory(S,!0);const Ne=new Xr(S.id,this.urlSerializer.serialize(S.extractedUrl),ne,S.targetSnapshot??void 0);this.events.next(Ne);try{S.resolve(m.errorHandler(ne))}catch(ft){S.reject(ft)}}return pt.E}))}))}cancelNavigationTransition(m,S,U){const Y=new ai(m.id,this.urlSerializer.serialize(m.extractedUrl),S,U);this.events.next(Y),m.resolve(!1)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function lu(v){return v!==ln}let xu=(()=>{class v{buildTitle(m){let S,U=m.root;for(;void 0!==U;)S=this.getResolvedTitleForRoute(U)??S,U=U.children.find(Y=>Y.outlet===Pt);return S}getResolvedTitleForRoute(m){return m.data[$n]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(po)},providedIn:"root"}),v})(),po=(()=>{class v extends xu{constructor(m){super(),this.title=m}updateTitle(m){const S=this.buildTitle(m);void 0!==S&&this.title.setTitle(S)}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(kt.Dx))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Rl=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(ia)},providedIn:"root"}),v})();class Mu{shouldDetach(_){return!1}store(_,m){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,m){return _.routeConfig===m.routeConfig}}let ia=(()=>{class v extends Mu{}return v.\u0275fac=function(){let _;return function(S){return(_||(_=p.n5z(v)))(S||v)}}(),v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ii=new p.OlP("",{providedIn:"root",factory:()=>({})});let Nn=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(sa)},providedIn:"root"}),v})(),sa=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,S){return m}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Zr(v){throw v}function Cn(v,_,m){return _.parse("/")}const oa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(ii,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Zr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Cn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Nn),this.routeReuseStrategy=(0,p.f3M)(Rl),this.urlCreationStrategy=(0,p.f3M)(cr),this.titleStrategy=(0,p.f3M)(xu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nr((0,p.f3M)($e,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ra),this.urlSerializer=(0,p.f3M)(er),this.location=(0,p.f3M)(bt.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Oo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ln,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const S="popstate"===m.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,S,m.state)},0)}))}navigateToSyncWithBrowser(m,S,U){const Y={replaceUrl:!0},ne=U?.navigationId?U:null;if(U){const ft={...U};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(Y.state=ft)}const Ne=this.parseUrl(m);this.scheduleNavigation(Ne,S,ne,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(Ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,S={}){const{relativeTo:U,queryParams:Y,fragment:ne,queryParamsHandling:Ne,preserveFragment:ft}=S,$t=ft?this.currentUrlTree.fragment:ne;let Kt=null;switch(Ne){case"merge":Kt={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Kt=this.currentUrlTree.queryParams;break;default:Kt=Y||null}return null!==Kt&&(Kt=this.removeEmptyProps(Kt)),this.urlCreationStrategy.createUrlTree(U,this.routerState,this.currentUrlTree,m,Kt,$t??null)}navigateByUrl(m,S={skipLocationChange:!1}){const U=an(m)?m:this.parseUrl(m),Y=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Y,ln,null,S)}navigate(m,S={skipLocationChange:!1}){return function Zn(v){for(let _=0;_<v.length;_++){const m=v[_];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,S),S)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let S;try{S=this.urlSerializer.parse(m)}catch(U){S=this.malformedUriErrorHandler(U,this.urlSerializer,m)}return S}isActive(m,S){let U;if(U=!0===S?{...oa}:!1===S?{...Rn}:S,an(m))return or(this.currentUrlTree,m,U);const Y=this.parseUrl(m);return or(this.currentUrlTree,Y,U)}removeEmptyProps(m){return Object.keys(m).reduce((S,U)=>{const Y=m[U];return null!=Y&&(S[U]=Y),S},{})}scheduleNavigation(m,S,U,Y,ne){if(this.disposed)return Promise.resolve(!1);let Ne,ft,$t,Kt;return ne?(Ne=ne.resolve,ft=ne.reject,$t=ne.promise):$t=new Promise((Cr,si)=>{Ne=Cr,ft=si}),Kt="computed"===this.canceledNavigationResolution?U&&U.\u0275routerPageId?U.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Kt,source:S,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:Y,resolve:Ne,reject:ft,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Cr=>Promise.reject(Cr))}setBrowserUrl(m,S){const U=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(U)||S.extras.replaceUrl){const ne={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(U,"",ne)}else{const Y={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(U,"",Y)}}restoreHistory(m,S=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,S){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:S}:{navigationId:m}}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),zt=(()=>{class v{constructor(m,S,U,Y,ne,Ne){this.router=m,this.route=S,this.tabIndexAttribute=U,this.renderer=Y,this.el=ne,this.locationStrategy=Ne,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new _e.x;const ft=ne.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=m.events.subscribe($t=>{$t instanceof Fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,S,U,Y,ne){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||S||U||Y||ne||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,S){const U=this.renderer,Y=this.el.nativeElement;null!==S?U.setAttribute(Y,m,S):U.removeAttribute(Y,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(m){return new(m||v)(p.Y36(ss),p.Y36(Es),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(bt.S$))},v.\u0275dir=p.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,S){1&m&&p.NdJ("click",function(Y){return S.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&m&&p.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})();class qs{}let va=(()=>{class v{constructor(m,S,U,Y,ne){this.router=m,this.injector=U,this.preloadingStrategy=Y,this.loader=ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,Re.h)(m=>m instanceof Fn),at(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,S){const U=[];for(const Y of S){Y.providers&&!Y._injector&&(Y._injector=(0,p.MMx)(Y.providers,m,`Route: ${Y.path}`));const ne=Y._injector??m,Ne=Y._loadedInjector??ne;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&U.push(this.preloadConfig(ne,Y)),(Y.children||Y._loadedRoutes)&&U.push(this.processRoutes(Ne,Y.children??Y._loadedRoutes))}return(0,B.D)(U).pipe((0,Ln.J)())}preloadConfig(m,S){return this.preloadingStrategy.preload(S,()=>{let U;U=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(m,S):(0,M.of)(null);const Y=U.pipe((0,Ve.z)(ne=>null===ne?(0,M.of)(void 0):(S._loadedRoutes=ne.routes,S._loadedInjector=ne.injector,this.processRoutes(ne.injector??m,ne.routes))));if(S.loadComponent&&!S._loadedComponent){const ne=this.loader.loadComponent(S);return(0,B.D)([Y,ne]).pipe((0,Ln.J)())}return Y})}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(ss),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(qs),p.LFG(gt))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const _a=new p.OlP("");let aa=(()=>{class v{constructor(m,S,U,Y,ne={}){this.urlSerializer=m,this.transitions=S,this.viewportScroller=U,this.zone=Y,this.options=ne,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ne.scrollPositionRestoration=ne.scrollPositionRestoration||"disabled",ne.anchorScrolling=ne.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Fn&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ei&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ei(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(m){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();var os=(()=>((os=os||{})[os.COMPLETE=0]="COMPLETE",os[os.FAILED=1]="FAILED",os[os.REDIRECTING=2]="REDIRECTING",os))();const Ks=!1;function as(v,_){return{\u0275kind:v,\u0275providers:_}}const bo=new p.OlP("",{providedIn:"root",factory:()=>!1});function cu(){const v=(0,p.f3M)(p.zs3);return _=>{const m=v.get(p.z2F);if(_!==m.components[0])return;const S=v.get(ss),U=v.get(wa);1===v.get(Bo)&&S.initialNavigation(),v.get(Ru,null,p.XFs.Optional)?.setUpPreloading(),v.get(_a,null,p.XFs.Optional)?.init(),S.resetRootComponentType(m.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const wa=new p.OlP(Ks?"bootstrap done indicator":"",{factory:()=>new _e.x}),Bo=new p.OlP(Ks?"initial navigation":"",{providedIn:"root",factory:()=>1});function Nl(){let v=[];return v=Ks?[{provide:p.Xts,multi:!0,useFactory:()=>{const _=(0,p.f3M)(ss);return()=>_.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function bi(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 16:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],as(1,v)}const Ru=new p.OlP(Ks?"router preloader":"");function Ea(v){return as(0,[{provide:Ru,useExisting:va},{provide:qs,useExisting:v}])}const Ys=!1,Hi=new p.OlP(Ys?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Bs=[bt.Ye,{provide:er,useClass:Lr},ss,yn,{provide:Es,useFactory:function Ha(v){return v.routerState.root},deps:[ss]},gt,Ys?{provide:bo,useValue:!0}:[]];function $o(){return new p.PXZ("Router",ss)}let Qs=(()=>{class v{constructor(m){}static forRoot(m,S){return{ngModule:v,providers:[Bs,Ys&&S?.enableTracing?Nl().\u0275providers:[],{provide:$e,multi:!0,useValue:m},{provide:Hi,useFactory:hu,deps:[[ss,new p.FiY,new p.tp0]]},{provide:ii,useValue:S||{}},S?.useHash?{provide:bt.S$,useClass:bt.Do}:{provide:bt.S$,useClass:bt.b0},{provide:_a,useFactory:()=>{const v=(0,p.f3M)(bt.EM),_=(0,p.f3M)(p.R0b),m=(0,p.f3M)(ii),S=(0,p.f3M)(Ra),U=(0,p.f3M)(er);return m.scrollOffset&&v.setOffset(m.scrollOffset),new aa(U,S,v,_,m)}},S?.preloadingStrategy?Ea(S.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:$o},S?.initialNavigation?Ga(S):[],[{provide:fu,useFactory:cu},{provide:p.tb,multi:!0,useExisting:fu}]]}}static forChild(m){return{ngModule:v,providers:[{provide:$e,multi:!0,useValue:m}]}}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(Hi,8))},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[hi]}),v})();function hu(v){if(Ys&&v)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ga(v){return["disabled"===v.initialNavigation?as(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const _=(0,p.f3M)(ss);return()=>{_.setUpLocationChangeListener()}}},{provide:Bo,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?as(2,[{provide:Bo,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:_=>{const m=_.get(bt.V_,Promise.resolve());return()=>m.then(()=>new Promise(S=>{const U=_.get(ss),Y=_.get(wa);(function es(v,_){v.events.pipe((0,Re.h)(m=>m instanceof Fn||m instanceof ai||m instanceof Xr||m instanceof Kr),(0,Et.U)(m=>m instanceof Fn||m instanceof Kr?os.COMPLETE:m instanceof ai&&(0===m.code||1===m.code)?os.REDIRECTING:os.FAILED),(0,Re.h)(m=>m!==os.REDIRECTING),(0,Un.q)(1)).subscribe(()=>{_()})})(U,()=>{S(!0)}),_.get(Ra).afterPreactivation=()=>(S(!0),Y.closed?(0,M.of)(void 0):Y),U.initialNavigation()}))}}]).\u0275providers:[]]}const fu=new p.OlP(Ys?"Router Initializer":"")},3942:(Zt,Me,H)=>{"use strict";H.d(Me,{Z:()=>ct});var p=H(2090),B=H(4859),M=H(6881),_e=H(1877);class ce{constructor(Fe,rt){this._delegate=Fe,this.firebase=rt,(0,M._addComponent)(Fe,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(Fe,rt=M._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Fe);return!ut.isInitialized()&&"EXPLICIT"===(null===(qe=ut.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:rt})}_removeServiceInstance(Fe,rt=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(rt)}_addComponent(Fe){(0,M._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,M._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function ke(){const It=function de(It){const Fe={},rt={__esModule:!0,initializeApp:function Ze(ve,De={}){const At=M.initializeApp(ve,De);if((0,p.r3)(Fe,At.name))return Fe[At.name];const Wt=new It(At,rt);return Fe[At.name]=Wt,Wt},app:ut,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function ot(ve){const De=ve.name,At=De.replace("-compat","");if(M._registerComponent(ve)&&"PUBLIC"===ve.type){const Wt=(bt=ut())=>{if("function"!=typeof bt[At])throw Te.create("invalid-app-argument",{appName:De});return bt[At]()};void 0!==ve.serviceProps&&(0,p.ZB)(Wt,ve.serviceProps),rt[At]=Wt,It.prototype[At]=function(...bt){return this._getService.bind(this,De).apply(this,ve.multipleInstances?bt:[])}}return"PUBLIC"===ve.type?rt[At]:null},removeApp:function qe(ve){delete Fe[ve]},useAsService:function pt(ve,De){return"serverAuth"===De?null:De},modularAPIs:M}};function ut(ve){if(!(0,p.r3)(Fe,ve=ve||M._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:ve});return Fe[ve]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function nt(){return Object.keys(Fe).map(ve=>Fe[ve])}}),ut.App=It,rt}(ce);return It.INTERNAL=Object.assign(Object.assign({},It.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Fe(rt){(0,p.ZB)(It,rt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),It}(),ge=new _e.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const It=self.firebase.SDK_VERSION;It&&It.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=ae;!function Xe(It){(0,M.registerVersion)("@firebase/app-compat","0.2.11",It)}()},6881:(Zt,Me,H)=>{"use strict";H.r(Me),H.d(Me,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>rr,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Ct,_apps:()=>pn,_clearComponents:()=>kr,_components:()=>hn,_getProvider:()=>or,_registerComponent:()=>sr,_removeServiceInstance:()=>Xn,deleteApp:()=>ar,getApp:()=>qt,getApps:()=>rn,initializeApp:()=>bn,onLog:()=>er,registerVersion:()=>Ur,setLogLevel:()=>Lr});var p=H(5861),B=H(4859),M=H(1877),_e=H(2090);const ce=(We,Oe)=>Oe.some(wt=>We instanceof wt);let be,Te;const ae=new WeakMap,ge=new WeakMap,we=new WeakMap,Qe=new WeakMap,Xe=new WeakMap;let Fe={get(We,Oe,wt){if(We instanceof IDBTransaction){if("done"===Oe)return ge.get(We);if("objectStoreNames"===Oe)return We.objectStoreNames||we.get(We);if("store"===Oe)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return Ze(We[Oe])},set:(We,Oe,wt)=>(We[Oe]=wt,!0),has:(We,Oe)=>We instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in We};function ut(We){return"function"==typeof We?function qe(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...Oe){return We.apply(nt(this),Oe),Ze(ae.get(this))}:function(...Oe){return Ze(We.apply(nt(this),Oe))}:function(Oe,...wt){const Ht=We.call(nt(this),Oe,...wt);return we.set(Ht,Oe.sort?Oe.sort():[Oe]),Ze(Ht)}}(We):(We instanceof IDBTransaction&&function It(We){if(ge.has(We))return;const Oe=new Promise((wt,Ht)=>{const an=()=>{We.removeEventListener("complete",Dn),We.removeEventListener("error",Yt),We.removeEventListener("abort",Yt)},Dn=()=>{wt(),an()},Yt=()=>{Ht(We.error||new DOMException("AbortError","AbortError")),an()};We.addEventListener("complete",Dn),We.addEventListener("error",Yt),We.addEventListener("abort",Yt)});ge.set(We,Oe)}(We),ce(We,function de(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,Fe):We)}function Ze(We){if(We instanceof IDBRequest)return function ct(We){const Oe=new Promise((wt,Ht)=>{const an=()=>{We.removeEventListener("success",Dn),We.removeEventListener("error",Yt)},Dn=()=>{wt(Ze(We.result)),an()},Yt=()=>{Ht(We.error),an()};We.addEventListener("success",Dn),We.addEventListener("error",Yt)});return Oe.then(wt=>{wt instanceof IDBCursor&&ae.set(wt,We)}).catch(()=>{}),Xe.set(Oe,We),Oe}(We);if(Qe.has(We))return Qe.get(We);const Oe=ut(We);return Oe!==We&&(Qe.set(We,Oe),Xe.set(Oe,We)),Oe}const nt=We=>Xe.get(We),ve=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],At=new Map;function Wt(We,Oe){if(!(We instanceof IDBDatabase)||Oe in We||"string"!=typeof Oe)return;if(At.get(Oe))return At.get(Oe);const wt=Oe.replace(/FromIndex$/,""),Ht=Oe!==wt,an=De.includes(wt);if(!(wt in(Ht?IDBIndex:IDBObjectStore).prototype)||!an&&!ve.includes(wt))return;const Dn=function(){var Yt=(0,p.Z)(function*(On,...kn){const Br=this.transaction(On,an?"readwrite":"readonly");let Ir=Br.store;return Ht&&(Ir=Ir.index(kn.shift())),(yield Promise.all([Ir[wt](...kn),an&&Br.done]))[0]});return function(kn){return Yt.apply(this,arguments)}}();return At.set(Oe,Dn),Dn}!function rt(We){Fe=We(Fe)}(We=>({...We,get:(Oe,wt,Ht)=>Wt(Oe,wt)||We.get(Oe,wt,Ht),has:(Oe,wt)=>!!Wt(Oe,wt)||We.has(Oe,wt)}));class bt{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Et(We){return"VERSION"===We.getComponent()?.type}(wt)){const Ht=wt.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(wt=>wt).join(" ")}}const Tt="@firebase/app",je=new M.Yd("@firebase/app"),rr="[DEFAULT]",Wr={[Tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,hn=new Map;function Lt(We,Oe){try{We.container.addComponent(Oe)}catch(wt){je.debug(`Component ${Oe.name} failed to register with FirebaseApp ${We.name}`,wt)}}function Ct(We,Oe){We.container.addOrOverwriteComponent(Oe)}function sr(We){const Oe=We.name;if(hn.has(Oe))return je.debug(`There were multiple attempts to register component ${Oe}.`),!1;hn.set(Oe,We);for(const wt of pn.values())Lt(wt,We);return!0}function or(We,Oe){const wt=We.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),We.container.getProvider(Oe)}function Xn(We,Oe,wt=rr){or(We,Oe).clearInstance(wt)}function kr(){hn.clear()}const pr=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(Oe,wt,Ht){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Fr="9.22.1";function bn(We,Oe={}){let wt=We;"object"!=typeof Oe&&(Oe={name:Oe});const Ht=Object.assign({name:rr,automaticDataCollectionEnabled:!1},Oe),an=Ht.name;if("string"!=typeof an||!an)throw pr.create("bad-app-name",{appName:String(an)});if(wt||(wt=(0,_e.aH)()),!wt)throw pr.create("no-options");const Dn=pn.get(an);if(Dn){if((0,_e.vZ)(wt,Dn.options)&&(0,_e.vZ)(Ht,Dn.config))return Dn;throw pr.create("duplicate-app",{appName:an})}const Yt=new B.H0(an);for(const kn of hn.values())Yt.addComponent(kn);const On=new In(wt,Ht,Yt);return pn.set(an,On),On}function qt(We=rr){const Oe=pn.get(We);if(!Oe&&We===rr&&(0,_e.aH)())return bn();if(!Oe)throw pr.create("no-app",{appName:We});return Oe}function rn(){return Array.from(pn.values())}function ar(We){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(We){const Oe=We.name;pn.has(Oe)&&(pn.delete(Oe),yield Promise.all(We.container.getProviders().map(wt=>wt.delete())),We.isDeleted=!0)})).apply(this,arguments)}function Ur(We,Oe,wt){var Ht;let an=null!==(Ht=Wr[We])&&void 0!==Ht?Ht:We;wt&&(an+=`-${wt}`);const Dn=an.match(/\s|\//),Yt=Oe.match(/\s|\//);if(Dn||Yt){const On=[`Unable to register library "${an}" with version "${Oe}":`];return Dn&&On.push(`library name "${an}" contains illegal characters (whitespace or "/")`),Dn&&Yt&&On.push("and"),Yt&&On.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void je.warn(On.join(" "))}sr(new B.wA(`${an}-version`,()=>({library:an,version:Oe}),"VERSION"))}function er(We,Oe){if(null!==We&&"function"!=typeof We)throw pr.create("invalid-log-argument");(0,M.Am)(We,Oe)}function Lr(We){(0,M.Ub)(We)}const Pr="firebase-heartbeat-database",_r=1,ee="firebase-heartbeat-store";let L=null;function N(){return L||(L=function ot(We,Oe,{blocked:wt,upgrade:Ht,blocking:an,terminated:Dn}={}){const Yt=indexedDB.open(We,Oe),On=Ze(Yt);return Ht&&Yt.addEventListener("upgradeneeded",kn=>{Ht(Ze(Yt.result),kn.oldVersion,kn.newVersion,Ze(Yt.transaction),kn)}),wt&&Yt.addEventListener("blocked",kn=>wt(kn.oldVersion,kn.newVersion,kn)),On.then(kn=>{Dn&&kn.addEventListener("close",()=>Dn()),an&&kn.addEventListener("versionchange",Br=>an(Br.oldVersion,Br.newVersion,Br))}).catch(()=>{}),On}(Pr,_r,{upgrade:(We,Oe)=>{0===Oe&&We.createObjectStore(ee)}}).catch(We=>{throw pr.create("idb-open",{originalErrorMessage:We.message})})),L}function j(){return(j=(0,p.Z)(function*(We){try{return yield(yield N()).transaction(ee).objectStore(ee).get(le(We))}catch(Oe){if(Oe instanceof _e.ZR)je.warn(Oe.message);else{const wt=pr.create("idb-get",{originalErrorMessage:Oe?.message});je.warn(wt.message)}}})).apply(this,arguments)}function he(We,Oe){return oe.apply(this,arguments)}function oe(){return(oe=(0,p.Z)(function*(We,Oe){try{const Ht=(yield N()).transaction(ee,"readwrite");yield Ht.objectStore(ee).put(Oe,le(We)),yield Ht.done}catch(wt){if(wt instanceof _e.ZR)je.warn(wt.message);else{const Ht=pr.create("idb-set",{originalErrorMessage:wt?.message});je.warn(Ht.message)}}})).apply(this,arguments)}function le(We){return`${We.name}!${We.options.appId}`}class Ue{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new en(wt),this._heartbeatsCachePromise=this._storage.read().then(Ht=>(this._heartbeatsCache=Ht,Ht))}triggerHeartbeat(){var Oe=this;return(0,p.Z)(function*(){const Ht=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),an=ht();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==an&&!Oe._heartbeatsCache.heartbeats.some(Dn=>Dn.date===an))return Oe._heartbeatsCache.heartbeats.push({date:an,agent:Ht}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(Dn=>{const Yt=new Date(Dn.date).valueOf();return Date.now()-Yt<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,p.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const wt=ht(),{heartbeatsToSend:Ht,unsentEntries:an}=function Jt(We,Oe=1024){const wt=[];let Ht=We.slice();for(const an of We){const Dn=wt.find(Yt=>Yt.agent===an.agent);if(Dn){if(Dn.dates.push(an.date),Vn(wt)>Oe){Dn.dates.pop();break}}else if(wt.push({agent:an.agent,dates:[an.date]}),Vn(wt)>Oe){wt.pop();break}Ht=Ht.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Ht}}(Oe._heartbeatsCache.heartbeats),Dn=(0,_e.L)(JSON.stringify({version:2,heartbeats:Ht}));return Oe._heartbeatsCache.lastSentHeartbeatDate=wt,an.length>0?(Oe._heartbeatsCache.heartbeats=an,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),Dn})()}}function ht(){return(new Date).toISOString().substring(0,10)}class en{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,p.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function $(We){return j.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var wt=this;return(0,p.Z)(function*(){var Ht;if(yield wt._canUseIndexedDBPromise){const Dn=yield wt.read();return he(wt.app,{lastSentHeartbeatDate:null!==(Ht=Oe.lastSentHeartbeatDate)&&void 0!==Ht?Ht:Dn.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var wt=this;return(0,p.Z)(function*(){var Ht;if(yield wt._canUseIndexedDBPromise){const Dn=yield wt.read();return he(wt.app,{lastSentHeartbeatDate:null!==(Ht=Oe.lastSentHeartbeatDate)&&void 0!==Ht?Ht:Dn.lastSentHeartbeatDate,heartbeats:[...Dn.heartbeats,...Oe.heartbeats]})}})()}}function Vn(We){return(0,_e.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Ar(We){sr(new B.wA("platform-logger",Oe=>new bt(Oe),"PRIVATE")),sr(new B.wA("heartbeat",Oe=>new Ue(Oe),"PRIVATE")),Ur(Tt,"0.9.11",We),Ur(Tt,"0.9.11","esm2017"),Ur("fire-js","")}("")},4859:(Zt,Me,H)=>{"use strict";H.d(Me,{H0:()=>de,wA:()=>M});var p=H(5861),B=H(2090);class M{constructor(ae,ge,we){this.name=ae,this.instanceFactory=ge,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const _e="[DEFAULT]";class ce{constructor(ae,ge){this.name=ae,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const ge=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(ge)){const we=new B.BH;if(this.instancesDeferred.set(ge,we),this.isInitialized(ge)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ge});Qe&&we.resolve(Qe)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(ae){var ge;const we=this.normalizeInstanceIdentifier(ae?.identifier),Qe=null!==(ge=ae?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Xe){if(Qe)return null;throw Xe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Te(ke){return"EAGER"===ke.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ge,we]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ge);try{const Xe=this.getOrInitializeService({instanceIdentifier:Qe});we.resolve(Xe)}catch{}}}}clearInstance(ae=_e){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,p.Z)(function*(){const ge=Array.from(ae.instances.values());yield Promise.all([...ge.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...ge.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=_e){return this.instances.has(ae)}getOptions(ae=_e){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:ge={}}=ae,we=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:we,options:ge});for(const[Xe,ct]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Xe)&&ct.resolve(Qe);return Qe}onInit(ae,ge){var we;const Qe=this.normalizeInstanceIdentifier(ge),Xe=null!==(we=this.onInitCallbacks.get(Qe))&&void 0!==we?we:new Set;Xe.add(ae),this.onInitCallbacks.set(Qe,Xe);const ct=this.instances.get(Qe);return ct&&ae(ct,Qe),()=>{Xe.delete(ae)}}invokeOnInitCallbacks(ae,ge){const we=this.onInitCallbacks.get(ge);if(we)for(const Qe of we)try{Qe(ae,ge)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:ge={}}){let we=this.instances.get(ae);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=ae,ke===_e?void 0:ke),options:ge}),this.instances.set(ae,we),this.instancesOptions.set(ae,ge),this.invokeOnInitCallbacks(we,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,we)}catch{}var ke;return we||null}normalizeInstanceIdentifier(ae=_e){return this.component?this.component.multipleInstances?ae:_e:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const ge=this.getProvider(ae.name);if(ge.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);ge.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const ge=new ce(ae,this);return this.providers.set(ae,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(Zt,Me,H)=>{"use strict";H.d(Me,{Am:()=>ke,Ub:()=>de,Yd:()=>Te,in:()=>B});const p=[];var B=(()=>{return(ae=B||(B={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",B;var ae})();const M={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},_e=B.INFO,ce={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},be=(ae,ge,...we)=>{if(ge<ae.logLevel)return;const Qe=(new Date).toISOString(),Xe=ce[ge];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[Xe](`[${Qe}]  ${ae.name}:`,...we)};class Te{constructor(ge){this.name=ge,this._logLevel=_e,this._logHandler=be,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in B))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?M[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...ge),this._logHandler(this,B.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...ge),this._logHandler(this,B.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,B.INFO,...ge),this._logHandler(this,B.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,B.WARN,...ge),this._logHandler(this,B.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...ge),this._logHandler(this,B.ERROR,...ge)}}function de(ae){p.forEach(ge=>{ge.setLogLevel(ae)})}function ke(ae,ge){for(const we of p){let Qe=null;ge&&ge.level&&(Qe=M[ge.level]),we.userLogHandler=null===ae?null:(Xe,ct,...It)=>{const Fe=It.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch{return null}}).filter(rt=>rt).join(" ");ct>=(Qe??Xe.logLevel)&&ae({level:B[ct].toLowerCase(),message:Fe,args:It,type:Xe.name})}}}},259:(Zt,Me,H)=>{"use strict";H.d(Me,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=H(6881);(0,p.registerVersion)("firebase","9.22.1","app")},9260:(Zt,Me,H)=>{"use strict";H.d(Me,{Z:()=>p.Z});var p=H(3942);p.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(Zt,Me,H)=>{"use strict";H.r(Me);var p=H(5861),B=H(3942),M=H(1389),_e=H(2090),Te=(H(6881),H(1877),H(4859));function de(){return window}const ke=2e3;function ge(){return ge=(0,p.Z)(function*(N,$,j){var he;const{BuildInfo:oe}=de();(0,M.as)($.sessionId,"AuthEvent did not contain a session ID");const le=yield function rt(N){return qe.apply(this,arguments)}($.sessionId),ie={};return(0,M.at)()?ie.ibi=oe.packageName:(0,M.au)()?ie.apn=oe.packageName:(0,M.av)(N,"operation-not-supported-in-this-environment"),oe.displayName&&(ie.appDisplayName=oe.displayName),ie.sessionId=le,(0,M.aw)(N,j,$.type,void 0,null!==(he=$.eventId)&&void 0!==he?he:void 0,ie)}),ge.apply(this,arguments)}function Qe(){return(Qe=(0,p.Z)(function*(N){const{BuildInfo:$}=de(),j={};(0,M.at)()?j.iosBundleId=$.packageName:(0,M.au)()?j.androidPackageName=$.packageName:(0,M.av)(N,"operation-not-supported-in-this-environment"),yield(0,M.ax)(N,j)})).apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(N,$,j){const{cordova:he}=de();let oe=()=>{};try{yield new Promise((le,ie)=>{let Ee=null;function Ue(){var en;le();const Vn=null===(en=he.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof Vn&&Vn(),"function"==typeof j?.close&&j.close()}function ht(){Ee||(Ee=window.setTimeout(()=>{ie((0,M.az)(N,"redirect-cancelled-by-user"))},ke))}function Jt(){"visible"===document?.visibilityState&&ht()}$.addPassiveListener(Ue),document.addEventListener("resume",ht,!1),(0,M.au)()&&document.addEventListener("visibilitychange",Jt,!1),oe=()=>{$.removePassiveListener(Ue),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",Jt,!1),Ee&&window.clearTimeout(Ee)}})}finally{oe()}})).apply(this,arguments)}function qe(){return(qe=(0,p.Z)(function*(N){const $=function ut(N){if((0,M.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const $=new ArrayBuffer(N.length),j=new Uint8Array($);for(let he=0;he<N.length;he++)j[he]=N.charCodeAt(he);return j}(N),j=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(j)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ze=20;class nt extends M.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(j=>j($)),super.onEvent($)}initialized(){var $=this;return(0,p.Z)(function*(){yield $.initPromise})()}}function ve(N){return De.apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(N){const $=yield bt()._get(Et(N));return $&&(yield bt()._remove(Et(N))),$})).apply(this,arguments)}function Wt(){const N=[],$="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<Ze;j++){const he=Math.floor(Math.random()*$.length);N.push($.charAt(he))}return N.join("")}function bt(){return(0,M.aC)(M.b)}function Et(N){return(0,M.aD)("authEvent",N.config.apiKey,N.name)}function je(N){if(!N?.includes("?"))return{};const[$,...j]=N.split("?");return(0,_e.zd)(j.join("?"))}const Ye=class Ve{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aE,this._overrideRedirectResult=M.aF}_initialize($){var j=this;return(0,p.Z)(function*(){const he=$._key();let oe=j.eventManagers.get(he);return oe||(oe=new nt($),j.eventManagers.set(he,oe),j.attachCallbackListeners($,oe)),oe})()}_openPopup($){(0,M.av)($,"operation-not-supported-in-this-environment")}_openRedirect($,j,he,oe){var le=this;return(0,p.Z)(function*(){!function Fe(N){var $,j,he,oe,le,ie,Ee,Ue,ht,Jt;const en=de();(0,M.aA)("function"==typeof(null===($=en?.universalLinks)||void 0===$?void 0:$.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.aA)(typeof(null===(j=en?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.aA)("function"==typeof(null===(le=null===(oe=null===(he=en?.cordova)||void 0===he?void 0:he.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===le?void 0:le.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.aA)("function"==typeof(null===(Ue=null===(Ee=null===(ie=en?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Ue?void 0:Ue.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.aA)("function"==typeof(null===(Jt=null===(ht=en?.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===Jt?void 0:Jt.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const ie=yield le._initialize($);yield ie.initialized(),ie.resetRedirect(),(0,M.aG)(),yield le._originValidation($);const Ee=function ot(N,$,j=null){return{type:$,eventId:j,urlResponse:null,sessionId:Wt(),postBody:null,tenantId:N.tenantId,error:(0,M.az)(N,"no-auth-event")}}($,he,oe);yield function pt(N,$){return bt()._set(Et(N),$)}($,Ee);const Ue=yield function ae(N,$,j){return ge.apply(this,arguments)}($,Ee,j),ht=yield function Xe(N){const{cordova:$}=de();return new Promise(j=>{$.plugins.browsertab.isAvailable(he=>{let oe=null;he?$.plugins.browsertab.openUrl(N):oe=$.InAppBrowser.open(N,(0,M.ay)()?"_blank":"_system","location=yes"),j(oe)})})}(Ue);return function ct(N,$,j){return It.apply(this,arguments)}($,ie,ht)})()}_isIframeWebStorageSupported($,j){throw new Error("Method not implemented.")}_originValidation($){const j=$._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function we(N){return Qe.apply(this,arguments)}($)),this.originValidationPromises[j]}attachCallbackListeners($,j){const{universalLinks:he,handleOpenURL:oe,BuildInfo:le}=de(),ie=setTimeout((0,p.Z)(function*(){yield ve($),j.onEvent(at())}),500),Ee=function(){var Jt=(0,p.Z)(function*(en){clearTimeout(ie);const Vn=yield ve($);let Ar=null;Vn&&en?.url&&(Ar=function At(N,$){var j,he;const oe=function Un(N){const $=je(N),j=$.link?decodeURIComponent($.link):void 0,he=je(j).link,oe=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return je(oe).link||oe||he||j||N}($);if(oe.includes("/__/auth/callback")){const le=je(oe),ie=le.firebaseError?function Tt(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,Ee=null===(he=null===(j=ie?.code)||void 0===j?void 0:j.split("auth/"))||void 0===he?void 0:he[1],Ue=Ee?(0,M.az)(Ee):null;return Ue?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:oe,postBody:null}}return null}(Vn,en.url)),j.onEvent(Ar||at())});return function(Vn){return Jt.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,Ee);const Ue=oe,ht=`${le.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var Jt=(0,p.Z)(function*(en){if(en.toLowerCase().startsWith(ht)&&Ee({url:en}),"function"==typeof Ue)try{Ue(en)}catch(Vn){console.error(Vn)}});return function(en){return Jt.apply(this,arguments)}}()}};function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.az)("no-auth-event")}}const vn=1e3;function _t(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function Xt(N=(0,_e.z$)()){return!("file:"!==_t()&&"ionic:"!==_t()&&"capacitor:"!==_t()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function kt(){try{const N=self.localStorage,$=M.aL();if(N)return N.setItem($,"1"),N.removeItem($),!function Ln(N=(0,_e.z$)()){return function Bn(){return(0,_e.w1)()&&11===document?.documentMode}()||function zn(N=(0,_e.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,_e.hl)()}catch{return Pt()&&(0,_e.hl)()}return!1}function Pt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function St(){return"http:"===_t()||"https:"===_t()}()||(0,_e.ru)()||Xt())&&!function _n(){return(0,_e.b$)()||(0,_e.UG)()}()&&kt()&&!Pt()}function jn(){return Xt()&&typeof document<"u"}function on(){return(on=(0,p.Z)(function*(){return!!jn()&&new Promise(N=>{const $=setTimeout(()=>{N(!1)},vn);document.addEventListener("deviceready",()=>{clearTimeout($),N(!0)})})})).apply(this,arguments)}const sn={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=M.aA,nr="persistence";function Wr(N){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(N){yield N._initializationPromise;const $=Lt(),j=M.aD(nr,N.config.apiKey,N.name);$&&$.setItem(j,N._getPersistence())})).apply(this,arguments)}function Lt(){var N;try{return(null===(N=function xt(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Ct=M.aA;class sr{constructor(){this.browserResolver=M.aC(M.k),this.cordovaResolver=M.aC(Ye),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aE,this._overrideRedirectResult=M.aF}_initialize($){var j=this;return(0,p.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize($)})()}_openPopup($,j,he,oe){var le=this;return(0,p.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup($,j,he,oe)})()}_openRedirect($,j,he,oe){var le=this;return(0,p.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect($,j,he,oe)})()}_isIframeWebStorageSupported($,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,j)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,p.Z)(function*(){if($.underlyingResolver)return;const j=yield function xn(){return on.apply(this,arguments)}();$.underlyingResolver=j?$.cordovaResolver:$.browserResolver})()}}function or(N){return N.unwrap()}function kr(N){return pr(N)}function pr(N){const{_tokenResponse:$}=N instanceof _e.ZR?N.customData:N;if(!$)return null;if(!(N instanceof _e.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return M.P.credentialFromResult(N);const j=$.providerId;if(!j||j===M.p.PASSWORD)return null;let he;switch(j){case M.p.GOOGLE:he=M.V;break;case M.p.FACEBOOK:he=M.U;break;case M.p.GITHUB:he=M.W;break;case M.p.TWITTER:he=M.Z;break;default:const{oauthIdToken:oe,oauthAccessToken:le,oauthTokenSecret:ie,pendingToken:Ee,nonce:Ue}=$;return le||ie||oe||Ee?Ee?j.startsWith("saml.")?M.aO._create(j,Ee):M.L._fromParams({providerId:j,signInMethod:j,pendingToken:Ee,idToken:oe,accessToken:le}):new M.X(j).credential({idToken:oe,accessToken:le,rawNonce:Ue}):null}return N instanceof _e.ZR?he.credentialFromError(N):he.credentialFromResult(N)}function In(N,$){return $.catch(j=>{throw j instanceof _e.ZR&&function vr(N,$){var j;const he=null===(j=$.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===$?.code)$.resolver=new qt(N,M.aq(N,$));else if(he){const oe=pr($),le=$;oe&&(le.credential=oe,le.tenantId=he.tenantId||void 0,le.email=he.email||void 0,le.phoneNumber=he.phoneNumber||void 0)}}(N,j),j}).then(j=>{const oe=j.user;return{operationType:j.operationType,credential:kr(j),additionalUserInfo:M.ao(j),user:rn.getOrCreate(oe)}})}function Fr(N,$){return bn.apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(N,$){const j=yield $;return{verificationId:j.verificationId,confirm:he=>In(N,j.confirm(he))}})).apply(this,arguments)}class qt{constructor($,j){this.resolver=j,this.auth=function Xn(N){return N.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return In(or(this.auth),this.resolver.resolveSignIn($))}}class rn{constructor($){this._delegate=$,this.multiFactor=M.ar($)}static getOrCreate($){return rn.USER_MAP.has($)||rn.USER_MAP.set($,new rn($)),rn.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var j=this;return(0,p.Z)(function*(){return In(j.auth,M.a0(j._delegate,$))})()}linkWithPhoneNumber($,j){var he=this;return(0,p.Z)(function*(){return Fr(he.auth,M.l(he._delegate,$,j))})()}linkWithPopup($){var j=this;return(0,p.Z)(function*(){return In(j.auth,M.d(j._delegate,$,sr))})()}linkWithRedirect($){var j=this;return(0,p.Z)(function*(){return yield Wr(M.aH(j.auth)),M.g(j._delegate,$,sr)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var j=this;return(0,p.Z)(function*(){return In(j.auth,M.a1(j._delegate,$))})()}reauthenticateWithPhoneNumber($,j){return Fr(this.auth,M.r(this._delegate,$,j))}reauthenticateWithPopup($){return In(this.auth,M.e(this._delegate,$,sr))}reauthenticateWithRedirect($){var j=this;return(0,p.Z)(function*(){return yield Wr(M.aH(j.auth)),M.h(j._delegate,$,sr)})()}sendEmailVerification($){return M.ae(this._delegate,$)}unlink($){var j=this;return(0,p.Z)(function*(){return yield M.an(j._delegate,$),j})()}updateEmail($){return M.aj(this._delegate,$)}updatePassword($){return M.ak(this._delegate,$)}updatePhoneNumber($){return M.u(this._delegate,$)}updateProfile($){return M.ai(this._delegate,$)}verifyBeforeUpdateEmail($,j){return M.af(this._delegate,$,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rn.USER_MAP=new WeakMap;const ar=M.aA;let Yn=(()=>{class N{constructor(j,he){if(this.app=j,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=j.options;ar(oe,"invalid-api-key",{appName:j.name}),ar(oe,"invalid-api-key",{appName:j.name});const le=typeof window<"u"?sr:void 0;this._delegate=he.initialize({options:{persistence:er(oe,j.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(M.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,he){M.I(this._delegate,j,he)}applyActionCode(j){return M.a5(this._delegate,j)}checkActionCode(j){return M.a6(this._delegate,j)}confirmPasswordReset(j,he){return M.a4(this._delegate,j,he)}createUserWithEmailAndPassword(j,he){var oe=this;return(0,p.Z)(function*(){return In(oe._delegate,M.a8(oe._delegate,j,he))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return M.ad(this._delegate,j)}isSignInWithEmailLink(j){return M.ab(this._delegate,j)}getRedirectResult(){var j=this;return(0,p.Z)(function*(){ar($n(),j._delegate,"operation-not-supported-in-this-environment");const he=yield M.j(j._delegate,sr);return he?In(j._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function et(N,$){(0,M.aH)(N)._logFramework($)}(this._delegate,j)}onAuthStateChanged(j,he,oe){const{next:le,error:ie,complete:Ee}=Ur(j,he,oe);return this._delegate.onAuthStateChanged(le,ie,Ee)}onIdTokenChanged(j,he,oe){const{next:le,error:ie,complete:Ee}=Ur(j,he,oe);return this._delegate.onIdTokenChanged(le,ie,Ee)}sendSignInLinkToEmail(j,he){return M.aa(this._delegate,j,he)}sendPasswordResetEmail(j,he){return M.a3(this._delegate,j,he||void 0)}setPersistence(j){var he=this;return(0,p.Z)(function*(){let oe;switch(function rr(N,$){Gn(Object.values(sn).includes($),N,"invalid-persistence-type"),(0,_e.b$)()?Gn($!==sn.SESSION,N,"unsupported-persistence-type"):(0,_e.UG)()?Gn($===sn.NONE,N,"unsupported-persistence-type"):Pt()?Gn($===sn.NONE||$===sn.LOCAL&&(0,_e.hl)(),N,"unsupported-persistence-type"):Gn($===sn.NONE||kt(),N,"unsupported-persistence-type")}(he._delegate,j),j){case sn.SESSION:oe=M.a;break;case sn.LOCAL:oe=(yield M.aC(M.i)._isAvailable())?M.i:M.b;break;case sn.NONE:oe=M.N;break;default:return M.av("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return In(this._delegate,M._(this._delegate))}signInWithCredential(j){return In(this._delegate,M.$(this._delegate,j))}signInWithCustomToken(j){return In(this._delegate,M.a2(this._delegate,j))}signInWithEmailAndPassword(j,he){return In(this._delegate,M.a9(this._delegate,j,he))}signInWithEmailLink(j,he){return In(this._delegate,M.ac(this._delegate,j,he))}signInWithPhoneNumber(j,he){return Fr(this._delegate,M.s(this._delegate,j,he))}signInWithPopup(j){var he=this;return(0,p.Z)(function*(){return ar($n(),he._delegate,"operation-not-supported-in-this-environment"),In(he._delegate,M.c(he._delegate,j,sr))})()}signInWithRedirect(j){var he=this;return(0,p.Z)(function*(){return ar($n(),he._delegate,"operation-not-supported-in-this-environment"),yield Wr(he._delegate),M.f(he._delegate,j,sr)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return M.a7(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=sn,N})();function Ur(N,$,j){let he=N;"function"!=typeof N&&({next:he,error:$,complete:j}=N);const oe=he;return{next:ie=>oe(ie&&rn.getOrCreate(ie)),error:$,complete:j}}function er(N,$){const j=function hn(N,$){const j=Lt();if(!j)return[];const he=M.aD(nr,N,$);switch(j.getItem(he)){case sn.NONE:return[M.N];case sn.LOCAL:return[M.i,M.a];case sn.SESSION:return[M.a];default:return[]}}(N,$);if(typeof self<"u"&&!j.includes(M.i)&&j.push(M.i),typeof window<"u")for(const he of[M.b,M.a])j.includes(he)||j.push(he);return j.includes(M.N)||j.push(M.N),j}class Lr{constructor(){this.providerId="phone",this._delegate=new M.P(or(B.Z.auth()))}static credential($,j){return M.P.credential($,j)}verifyPhoneNumber($,j){return this._delegate.verifyPhoneNumber($,j)}unwrap(){return this._delegate}}Lr.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,Lr.PROVIDER_ID=M.P.PROVIDER_ID;const Pr=M.aA;class _r{constructor($,j,he=B.Z.app()){var oe;Pr(null===(oe=he.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new M.R($,j,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function L(N){N.INTERNAL.registerComponent(new Te.wA("auth-compat",$=>{const j=$.getProvider("app-compat").getImmediate(),he=$.getProvider("auth");return new Yn(j,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.Q,FacebookAuthProvider:M.U,GithubAuthProvider:M.W,GoogleAuthProvider:M.V,OAuthProvider:M.X,SAMLAuthProvider:M.Y,PhoneAuthProvider:Lr,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:_r,TwitterAuthProvider:M.Z,Auth:Yn,AuthCredential:M.J,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(Zt,Me,H)=>{"use strict";function p(M,_e,ce,be,Te,de,ke){try{var ae=M[de](ke),ge=ae.value}catch(we){return void ce(we)}ae.done?_e(ge):Promise.resolve(ge).then(be,Te)}function B(M){return function(){var _e=this,ce=arguments;return new Promise(function(be,Te){var de=M.apply(_e,ce);function ke(ge){p(de,be,Te,ke,ae,"next",ge)}function ae(ge){p(de,be,Te,ke,ae,"throw",ge)}ke(void 0)})}}H.d(Me,{Z:()=>B})},7582:(Zt,Me,H)=>{"use strict";function _e(je,Re){var Ve={};for(var Ye in je)Object.prototype.hasOwnProperty.call(je,Ye)&&Re.indexOf(Ye)<0&&(Ve[Ye]=je[Ye]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Ye=Object.getOwnPropertySymbols(je);at<Ye.length;at++)Re.indexOf(Ye[at])<0&&Object.prototype.propertyIsEnumerable.call(je,Ye[at])&&(Ve[Ye[at]]=je[Ye[at]])}return Ve}function we(je,Re,Ve,Ye){return new(Ve||(Ve=Promise))(function(et,tt){function Dt(St){try{_t(Ye.next(St))}catch(Xt){tt(Xt)}}function vn(St){try{_t(Ye.throw(St))}catch(Xt){tt(Xt)}}function _t(St){St.done?et(St.value):function at(et){return et instanceof Ve?et:new Ve(function(tt){tt(et)})}(St.value).then(Dt,vn)}_t((Ye=Ye.apply(je,Re||[])).next())})}function Ze(je){return this instanceof Ze?(this.v=je,this):new Ze(je)}function nt(je,Re,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Ye=Ve.apply(je,Re||[]),et=[];return at={},tt("next"),tt("throw"),tt("return"),at[Symbol.asyncIterator]=function(){return this},at;function tt(_n){Ye[_n]&&(at[_n]=function(Bn){return new Promise(function(zn,Ln){et.push([_n,Bn,zn,Ln])>1||Dt(_n,Bn)})})}function Dt(_n,Bn){try{!function vn(_n){_n.value instanceof Ze?Promise.resolve(_n.value.v).then(_t,St):Xt(et[0][2],_n)}(Ye[_n](Bn))}catch(zn){Xt(et[0][3],zn)}}function _t(_n){Dt("next",_n)}function St(_n){Dt("throw",_n)}function Xt(_n,Bn){_n(Bn),et.shift(),et.length&&Dt(et[0][0],et[0][1])}}function pt(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Re=je[Symbol.asyncIterator];return Re?Re.call(je):(je=function It(je){var Re="function"==typeof Symbol&&Symbol.iterator,Ve=Re&&je[Re],Ye=0;if(Ve)return Ve.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&Ye>=je.length&&(je=void 0),{value:je&&je[Ye++],done:!je}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),Ve={},Ye("next"),Ye("throw"),Ye("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function Ye(et){Ve[et]=je[et]&&function(tt){return new Promise(function(Dt,vn){!function at(et,tt,Dt,vn){Promise.resolve(vn).then(function(_t){et({value:_t,done:Dt})},tt)}(Dt,vn,(tt=je[et](tt)).done,tt.value)})}}}H.d(Me,{FC:()=>nt,KL:()=>pt,_T:()=>_e,mG:()=>we,qq:()=>Ze})}},Zt=>{Zt(Zt.s=1645)}]);