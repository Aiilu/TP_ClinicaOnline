(self.webpackChunkTP_Clinica=self.webpackChunkTP_Clinica||[]).push([[179],{2313:(on,Pe,j)=>{"use strict";j.d(Pe,{nm:()=>er});var p=j(4976),ve=(j(4650),j(3692),j(259),j(5861)),Ie=j(6881),Me=j(4859),fe=j(2090),Be=j(1877);const de=new Map,ge={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function nt(we){return de.get(we)||Object.assign({},ge)}function wt(){return xe}const ft="https://content-firebaseappcheck.googleapis.com/v1",Ke="exchangeDebugToken",_t={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class at{constructor(Ae,De,ut,bt,yn){if(this.operation=Ae,this.retryPolicy=De,this.getWaitDuration=ut,this.lowerBound=bt,this.upperBound=yn,this.pending=null,this.nextErrorWaitInterval=bt,bt>yn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ae){var De=this;return(0,ve.Z)(function*(){De.stop();try{De.pending=new fe.BH,yield function pt(we){return new Promise(Ae=>{setTimeout(Ae,we)})}(De.getNextRun(Ae)),De.pending.resolve(),yield De.pending.promise,De.pending=new fe.BH,yield De.operation(),De.pending.resolve(),yield De.pending.promise,De.process(!0).catch(()=>{})}catch(ut){De.retryPolicy(ut)?De.process(!1).catch(()=>{}):De.stop()}})()}getNextRun(Ae){if(Ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const De=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),De}}}const ct=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(we){if(!nt(we).activated)throw ct.create("use-before-activation",{appName:we.name})}function Ot(we,Ae){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,ve.Z)(function*({url:we,body:Ae},De){const ut={"Content-Type":"application/json"},bt=De.getImmediate({optional:!0});if(bt){const Xr=yield bt.getHeartbeatsHeader();Xr&&(ut["X-Firebase-Client"]=Xr)}const yn={method:"POST",body:JSON.stringify(Ae),headers:ut};let xn,bn;try{xn=yield fetch(we,yn)}catch(Xr){throw ct.create("fetch-network-error",{originalErrorMessage:Xr?.message})}if(200!==xn.status)throw ct.create("fetch-status-error",{httpStatus:xn.status});try{bn=yield xn.json()}catch(Xr){throw ct.create("fetch-parse-error",{originalErrorMessage:Xr?.message})}const Bn=bn.ttl.match(/^([\d.]+)(s)$/);if(!Bn||!Bn[2]||isNaN(Number(Bn[1])))throw ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bn.ttl}`});const gi=1e3*Number(Bn[1]),Jr=Date.now();return{token:bn.token,expireTimeMillis:Jr+gi,issuedAtTimeMillis:Jr}})).apply(this,arguments)}function Ne(we,Ae){const{projectId:De,appId:ut,apiKey:bt}=we.options;return{url:`${ft}/projects/${De}/apps/${ut}:${Ke}?key=${bt}`,body:{debug_token:Ae}}}const je="firebase-app-check-database",tt=1,dt="firebase-app-check-store";let He=null;function hn(we,Ae){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,ve.Z)(function*(we,Ae){const ut=(yield function Pt(){return He||(He=new Promise((we,Ae)=>{try{const De=indexedDB.open(je,tt);De.onsuccess=ut=>{we(ut.target.result)},De.onerror=ut=>{var bt;Ae(ct.create("storage-open",{originalErrorMessage:null===(bt=ut.target.error)||void 0===bt?void 0:bt.message}))},De.onupgradeneeded=ut=>{0===ut.oldVersion&&ut.target.result.createObjectStore(dt,{keyPath:"compositeKey"})}}catch(De){Ae(ct.create("storage-open",{originalErrorMessage:De?.message}))}}),He)}()).transaction(dt,"readwrite"),yn=ut.objectStore(dt).put({compositeKey:we,value:Ae});return new Promise((xn,bn)=>{yn.onsuccess=Bn=>{xn()},ut.onerror=Bn=>{var gi;bn(ct.create("storage-set",{originalErrorMessage:null===(gi=Bn.target.error)||void 0===gi?void 0:gi.message}))}})})).apply(this,arguments)}const Tt=new Be.Yd("@firebase/app-check");function Rn(we,Ae){return(0,fe.hl)()?function xt(we,Ae){return hn(function Qt(we){return`${we.options.appId}-${we.name}`}(we),Ae)}(we,Ae).catch(De=>{Tt.warn(`Failed to write token to IndexedDB. Error: ${De}`)}):Promise.resolve()}function nn(){return wt().enabled}function Zn(){return dr.apply(this,arguments)}function dr(){return(dr=(0,ve.Z)(function*(){const we=wt();if(we.enabled&&we.token)return we.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Er={error:"UNKNOWN_ERROR"};function _n(we){return fe.US.encodeString(JSON.stringify(we),!1)}function wn(we){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,ve.Z)(function*(we,Ae=!1){const De=we.app;kt(De);const ut=nt(De);let yn,bt=ut.token;if(bt&&!Sn(bt)&&(ut.token=void 0,bt=void 0),!bt){const Bn=yield ut.cachedTokenPromise;Bn&&(Sn(Bn)?bt=Bn:yield Rn(De,void 0))}if(!Ae&&bt&&Sn(bt))return{token:bt.token};let bn,xn=!1;if(nn()){ut.exchangeTokenPromise||(ut.exchangeTokenPromise=Ot(Ne(De,yield Zn()),we.heartbeatServiceProvider).finally(()=>{ut.exchangeTokenPromise=void 0}),xn=!0);const Bn=yield ut.exchangeTokenPromise;return yield Rn(De,Bn),ut.token=Bn,{token:Bn.token}}try{ut.exchangeTokenPromise||(ut.exchangeTokenPromise=ut.provider.getToken().finally(()=>{ut.exchangeTokenPromise=void 0}),xn=!0),bt=yield nt(De).exchangeTokenPromise}catch(Bn){"appCheck/throttled"===Bn.code?Tt.warn(Bn.message):Tt.error(Bn),yn=Bn}return bt?yn?bn=Sn(bt)?{token:bt.token,internalError:yn}:Br(yn):(bn={token:bt.token},ut.token=bt,yield Rn(De,bt)):bn=Br(yn),xn&&function fr(we,Ae){const De=nt(we).tokenObservers;for(const ut of De)try{"EXTERNAL"===ut.type&&null!=Ae.error?ut.error(Ae.error):ut.next(Ae)}catch{}}(De,bn),bn})).apply(this,arguments)}function Rt(we){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ve.Z)(function*(we){const Ae=we.app;kt(Ae);const{provider:De}=nt(Ae);if(nn()){const ut=yield Zn(),{token:bt}=yield Ot(Ne(Ae,ut),we.heartbeatServiceProvider);return{token:bt}}{const{token:ut}=yield De.getToken();return{token:ut}}})).apply(this,arguments)}function rr(we,Ae){const De=nt(we),ut=De.tokenObservers.filter(bt=>bt.next!==Ae);0===ut.length&&De.tokenRefresher&&De.tokenRefresher.isRunning()&&De.tokenRefresher.stop(),De.tokenObservers=ut}function Rr(we){const{app:Ae}=we,De=nt(Ae);let ut=De.tokenRefresher;ut||(ut=function Sr(we){const{app:Ae}=we;return new at((0,ve.Z)(function*(){let ut;if(ut=nt(Ae).token?yield wn(we,!0):yield wn(we),ut.error)throw ut.error;if(ut.internalError)throw ut.internalError}),()=>!0,()=>{const De=nt(Ae);if(De.token){let ut=De.token.issuedAtTimeMillis+.5*(De.token.expireTimeMillis-De.token.issuedAtTimeMillis)+3e5;return ut=Math.min(ut,De.token.expireTimeMillis-3e5),Math.max(0,ut-Date.now())}return 0},_t.RETRIAL_MIN_WAIT,_t.RETRIAL_MAX_WAIT)}(we),De.tokenRefresher=ut),!ut.isRunning()&&De.isTokenAutoRefreshEnabled&&ut.start()}function Sn(we){return we.expireTimeMillis-Date.now()>0}function Br(we){return{token:_n(Er),error:we}}class An{constructor(Ae,De){this.app=Ae,this.heartbeatServiceProvider=De}_delete(){const{tokenObservers:Ae}=nt(this.app);for(const De of Ae)rr(this.app,De.next);return Promise.resolve()}}const un="app-check-internal";!function pn(){(0,Ie._registerComponent)(new Me.wA("app-check",we=>function Jt(we,Ae){return new An(we,Ae)}(we.getProvider("app").getImmediate(),we.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((we,Ae,De)=>{we.getProvider(un).initialize()})),(0,Ie._registerComponent)(new Me.wA(un,we=>function Zt(we){return{getToken:Ae=>wn(we,Ae),getLimitedUseToken:()=>Rt(we),addTokenListener:Ae=>function hr(we,Ae,De,ut){const{app:bt}=we,yn=nt(bt);if(yn.tokenObservers=[...yn.tokenObservers,{next:De,error:ut,type:Ae}],yn.token&&Sn(yn.token)){const bn=yn.token;Promise.resolve().then(()=>{De({token:bn.token}),Rr(we)}).catch(()=>{})}yn.cachedTokenPromise.then(()=>Rr(we))}(we,"INTERNAL",Ae),removeTokenListener:Ae=>rr(we.app,Ae)}}(we.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/app-check","0.8.0")}();class er{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(on,Pe,j)=>{"use strict";j.d(Pe,{Ot:()=>Se,ZF:()=>Re,hX:()=>nt,z6:()=>ve});var p=j(259),V=j(4650),A=j(4976);class Se{constructor(at){return at}}class ve{constructor(){return(0,p.C6)()}}const fe=new V.OlP("angularfire2._apps"),Be={provide:Se,useFactory:function Me(it){return it&&1===it.length?it[0]:new Se((0,p.Mq)())},deps:[[new V.FiY,fe]]},de={provide:ve,deps:[[new V.FiY,fe]]};function ge(it){return(at,pt)=>{const It=at.runOutsideAngular(()=>it(pt));return new Se(It)}}let xe=(()=>{class it{constructor(pt){(0,p.KN)("angularfire",A.q4.full,"core"),(0,p.KN)("angularfire",A.q4.full,"app"),(0,p.KN)("angular",V.q4F.full,pt.toString())}}return it.\u0275fac=function(pt){return new(pt||it)(V.LFG(V.Lbi))},it.\u0275mod=V.oAB({type:it}),it.\u0275inj=V.cJS({providers:[Be,de]}),it})();function nt(it,...at){return{ngModule:xe,providers:[{provide:fe,useFactory:ge(it),multi:!0,deps:[V.R0b,V.zs3,A.HU,...at]}]}}const Re=(0,A.u3)(p.ZF,!0)},7246:(on,Pe,j)=>{"use strict";j.d(Pe,{dh:()=>nt,v0:()=>Ne,AR:()=>it});var p=j(4976),V=j(4650),A=j(3692),Se=j(259),ve=j(2313),Ie=j(1389);j(2090),j(6881),j(1877),j(4859);class xe{constructor(jn){return jn}}class nt{constructor(){return(0,p.vb)("auth")}}const wt=new V.OlP("angularfire2.auth-instances");function Re(kn){return(jn,Ir)=>{const sr=jn.runOutsideAngular(()=>kn(Ir));return new xe(sr)}}const ot={provide:nt,deps:[[new V.FiY,wt]]},Ke={provide:xe,useFactory:function ft(kn,jn){const Ir=(0,p.JM)("auth",kn,jn);return Ir&&new xe(Ir)},deps:[[new V.FiY,wt],A.Ot]};let _t=(()=>{class kn{constructor(){(0,Se.KN)("angularfire",p.q4.full,"auth")}}return kn.\u0275fac=function(Ir){return new(Ir||kn)},kn.\u0275mod=V.oAB({type:kn}),kn.\u0275inj=V.cJS({providers:[Ke,ot]}),kn})();function it(kn,...jn){return{ngModule:_t,providers:[{provide:wt,useFactory:Re(kn),multi:!0,deps:[V.R0b,V.zs3,p.HU,A.z6,[new V.FiY,ve.nm],...jn]}]}}const Ne=(0,p.u3)(Ie.o,!0)},1205:(on,Pe,j)=>{"use strict";j.d(Pe,{zQ:()=>gr,ww:()=>Ze,rT:()=>tn,f7:()=>Ot,L6:()=>ce,_Q:()=>kt,lh:()=>Mt,Qv:()=>ct,nw:()=>Nt});var p=j(4650),V=j(7579),A=j(9646),Se=j(9751),ve=j(8996),Ie=j(6451),Me=j(5363),fe=j(3900),Be=j(4004),de=j(6063);class ge extends V.x{constructor(je=1/0,tt=1/0,dt=de.l){super(),this._bufferSize=je,this._windowTime=tt,this._timestampProvider=dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=tt===1/0,this._bufferSize=Math.max(1,je),this._windowTime=Math.max(1,tt)}next(je){const{isStopped:tt,_buffer:dt,_infiniteTimeWindow:rt,_timestampProvider:He,_windowTime:Pt}=this;tt||(dt.push(je),!rt&&dt.push(He.now()+Pt)),this._trimBuffer(),super.next(je)}_subscribe(je){this._throwIfClosed(),this._trimBuffer();const tt=this._innerSubscribe(je),{_infiniteTimeWindow:dt,_buffer:rt}=this,He=rt.slice();for(let Pt=0;Pt<He.length&&!je.closed;Pt+=dt?1:2)je.next(He[Pt]);return this._checkFinalizedStatuses(je),tt}_trimBuffer(){const{_bufferSize:je,_timestampProvider:tt,_buffer:dt,_infiniteTimeWindow:rt}=this,He=(rt?1:2)*je;if(je<1/0&&He<dt.length&&dt.splice(0,dt.length-He),!rt){const Pt=tt.now();let Tn=0;for(let xt=1;xt<dt.length&&dt[xt]<=Pt;xt+=2)Tn=xt;Tn&&dt.splice(0,Tn+1)}}}var xe=j(3099);function nt(Ne,je,tt){let dt,rt=!1;return Ne&&"object"==typeof Ne?({bufferSize:dt=1/0,windowTime:je=1/0,refCount:rt=!1,scheduler:tt}=Ne):dt=Ne??1/0,(0,xe.B)({connector:()=>new ge(dt,je,tt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:rt})}var st=j(590),wt=j(576);function ft(Ne,je){return(0,wt.m)(je)?(0,fe.w)(()=>Ne,je):(0,fe.w)(()=>Ne)}var Re=j(9468),ot=j(9300),Ke=j(4976),_t=j(2011),it=j(6895),at=j(2313),pt=j(9260);const ct=new p.OlP("angularfire2.auth.use-emulator"),ce=new p.OlP("angularfire2.auth.settings"),kt=new p.OlP("angularfire2.auth.tenant-id"),tn=new p.OlP("angularfire2.auth.langugage-code"),Mt=new p.OlP("angularfire2.auth.use-device-language"),Ot=new p.OlP("angularfire.auth.persistence"),Nt=(Ne,je,tt,dt,rt,He,Pt,Tn)=>(0,_t.cc)(`${Ne.name}.auth`,"AngularFireAuth",Ne.name,()=>{const xt=je.runOutsideAngular(()=>Ne.auth());if(tt&&xt.useEmulator(...tt),dt&&(xt.tenantId=dt),xt.languageCode=rt,He&&xt.useDeviceLanguage(),Pt)for(const[Ft,mn]of Object.entries(Pt))xt.settings[Ft]=mn;return Tn&&xt.setPersistence(Tn),xt},[tt,dt,rt,He,Pt,Tn]);let gr=(()=>{class Ne{constructor(tt,dt,rt,He,Pt,Tn,xt,Ft,mn,hn,Gn,tr){const zn=new V.x,Qt=(0,A.of)(void 0).pipe((0,Me.Q)(Pt.outsideAngular),(0,fe.w)(()=>He.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,Be.U)(()=>(0,_t.on)(tt,He,dt)),(0,Be.U)(Tt=>Nt(Tt,He,Tn,Ft,mn,hn,xt,Gn)),nt({bufferSize:1,refCount:!1}));if((0,it.PM)(rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,A.of)(null);else{Qt.pipe((0,st.P)()).subscribe();const Wn=Qt.pipe((0,fe.w)(ln=>ln.getRedirectResult().then(Lt=>Lt,()=>null)),Ke.iC,nt({bufferSize:1,refCount:!1})),$n=Qt.pipe((0,fe.w)(ln=>new Se.y(Lt=>({unsubscribe:He.runOutsideAngular(()=>ln.onAuthStateChanged(nn=>Lt.next(nn),nn=>Lt.error(nn),()=>Lt.complete()))})))),Rn=Qt.pipe((0,fe.w)(ln=>new Se.y(Lt=>({unsubscribe:He.runOutsideAngular(()=>ln.onIdTokenChanged(nn=>Lt.next(nn),nn=>Lt.error(nn),()=>Lt.complete()))}))));this.authState=Wn.pipe(ft($n),(0,Re.R)(Pt.outsideAngular),(0,Me.Q)(Pt.insideAngular)),this.user=Wn.pipe(ft(Rn),(0,Re.R)(Pt.outsideAngular),(0,Me.Q)(Pt.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(ln=>ln?(0,ve.D)(ln.getIdToken()):(0,A.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(ln=>ln?(0,ve.D)(ln.getIdTokenResult()):(0,A.of)(null))),this.credential=(0,Ie.T)(Wn,zn,this.authState.pipe((0,ot.h)(ln=>!ln))).pipe((0,Be.U)(ln=>ln?.user?ln:null),(0,Re.R)(Pt.outsideAngular),(0,Me.Q)(Pt.insideAngular))}return(0,_t.pX)(this,Qt,He,{spy:{apply:(Tt,Wn,$n)=>{(Tt.startsWith("signIn")||Tt.startsWith("createUser"))&&$n.then(Rn=>zn.next(Rn))}}})}}return Ne.\u0275fac=function(tt){return new(tt||Ne)(p.LFG(_t.Dh),p.LFG(_t.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Ke.HU),p.LFG(ct,8),p.LFG(ce,8),p.LFG(kt,8),p.LFG(tn,8),p.LFG(Mt,8),p.LFG(Ot,8),p.LFG(at.nm,8))},Ne.\u0275prov=p.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"any"}),Ne})(),Ze=(()=>{class Ne{constructor(){pt.Z.registerVersion("angularfire",Ke.q4.full,"auth-compat")}}return Ne.\u0275fac=function(tt){return new(tt||Ne)},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({providers:[gr]}),Ne})()},2011:(on,Pe,j)=>{"use strict";j.d(Pe,{Dh:()=>Me,GT:()=>ve,cc:()=>nt,on:()=>Be,pX:()=>Se,xv:()=>fe});var p=j(4650),V=j(9260);on=j.hmd(on);const A=["ngOnDestroy"],Se=(Re,ot,Ke,_t={})=>new Proxy(Re,{get:(it,at)=>Ke.runOutsideAngular(()=>{var pt;if(Re[at])return!(null===(pt=_t?.spy)||void 0===pt)&&pt.get&&_t.spy.get(at,Re[at]),Re[at];if(A.indexOf(at)>-1)return()=>{};const It=ot.toPromise().then(ct=>{const ce=ct&&ct[at];return"function"==typeof ce?ce.bind(ct):ce&&ce.then?ce.then(kt=>Ke.run(()=>kt)):Ke.run(()=>ce)});return new Proxy(()=>{},{get:(ct,ce)=>It[ce],apply:(ct,ce,kt)=>It.then(tn=>{var Mt;const Ot=tn&&tn(...kt);return!(null===(Mt=_t?.spy)||void 0===Mt)&&Mt.apply&&_t.spy.apply(at,kt,Ot),Ot})})})}),ve=(Re,ot)=>{ot.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(_t=>{Object.defineProperty(Re.prototype,_t,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,_t))})})};class Ie{constructor(ot){return ot}}const Me=new p.OlP("angularfire2.app.options"),fe=new p.OlP("angularfire2.app.name");function Be(Re,ot,Ke){const it="object"==typeof Ke&&Ke||{};it.name=it.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const pt=V.Z.apps.filter(It=>It&&It.name===it.name)[0]||ot.runOutsideAngular(()=>V.Z.initializeApp(Re,it));try{JSON.stringify(Re)!==JSON.stringify(pt.options)&&de("error",`${pt.name} Firebase App already initialized with different options${on.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(pt)}const de=(Re,...ot)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Re](...ot)};function nt(Re,ot,Ke,_t,it){const[,at,pt]=globalThis.\u0275AngularfireInstanceCache.find(It=>It[0]===Re)||[];if(at)return function st(Re,ot){try{return Re.toString()===ot.toString()}catch{return Re===ot}}(it,pt)||(ft("error",`${ot} was already initialized on the ${Ke} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:it,was:pt})),at;{const It=_t();return globalThis.\u0275AngularfireInstanceCache.push([Re,It,it]),It}}const wt=!!on.hot,ft=(Re,...ot)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Re](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8032:(on,Pe,j)=>{"use strict";j.d(Pe,{Ke:()=>Zi,Jt:()=>yo,cF:()=>di,Vq:()=>us,iH:()=>yi,KV:()=>Ci});var p=j(4976),V=j(4650),A=j(3692),Se=j(7246),ve=j(259),Ie=j(2313),Me=j(5861),fe=j(6881),Be=j(2090),de=j(4859);const ge="firebasestorage.googleapis.com",xe="storageBucket";class ft extends Be.ZR{constructor(K,pe,be=0){super(ot(K),`Firebase Storage: ${pe} (${ot(K)})`),this.status_=be,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(K){this.status_=K}_codeEquals(K){return ot(K)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(K){this.customData.serverResponse=K,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Re=(()=>{return(Z=Re||(Re={})).UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Re;var Z})();function ot(Z){return"storage/"+Z}function Ke(){return new ft(Re.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ne(Z){return new ft(Re.INVALID_ARGUMENT,Z)}function je(){return new ft(Re.APP_DELETED,"The Firebase app was deleted.")}function dt(Z,K){return new ft(Re.INVALID_FORMAT,"String does not match format '"+Z+"': "+K)}function rt(Z){throw new ft(Re.INTERNAL_ERROR,"Internal error: "+Z)}class He{constructor(K,pe){this.bucket=K,this.path_=pe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const K=encodeURIComponent;return"/b/"+K(this.bucket)+"/o/"+K(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(K,pe){let be;try{be=He.makeFromUrl(K,pe)}catch{return new He(K,"")}if(""===be.path)return be;throw function tn(Z){return new ft(Re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(K)}static makeFromUrl(K,pe){let be=null;const $e="([A-Za-z0-9.\\-_]+)",D=new RegExp("^gs://"+$e+"(/(.*))?$","i");function P(mr){mr.path_=decodeURIComponent(mr.path)}const Ve=pe.replace(/[.]/g,"\\."),Or=[{regex:D,indices:{bucket:1,path:3},postModify:function vt(mr){"/"===mr.path.charAt(mr.path.length-1)&&(mr.path_=mr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ve}/v[A-Za-z0-9_]+/b/${$e}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:P},{regex:new RegExp(`^https?://${pe===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":pe}/${$e}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:P}];for(let mr=0;mr<Or.length;mr++){const fi=Or[mr],zi=fi.regex.exec(K);if(zi){let Di=zi[fi.indices.path];Di||(Di=""),be=new He(zi[fi.indices.bucket],Di),fi.postModify(be);break}}if(null==be)throw function kt(Z){return new ft(Re.INVALID_URL,"Invalid URL '"+Z+"'.")}(K);return be}}class Pt{constructor(K){this.promise_=Promise.reject(K)}getPromise(){return this.promise_}cancel(K=!1){}}function Gn(Z){return"string"==typeof Z||Z instanceof String}function tr(Z){return zn()&&Z instanceof Blob}function zn(){return typeof Blob<"u"&&!(0,Be.UG)()}function Qt(Z,K,pe,be){if(be<K)throw Ne(`Invalid value for '${Z}'. Expected ${K} or greater.`);if(be>pe)throw Ne(`Invalid value for '${Z}'. Expected ${pe} or less.`)}function Tt(Z,K,pe){let be=K;return null==pe&&(be=`https://${K}`),`${pe}://${be}/v0${Z}`}function Wn(Z){const K=encodeURIComponent;let pe="?";for(const be in Z)Z.hasOwnProperty(be)&&(pe=pe+(K(be)+"=")+K(Z[be])+"&");return pe=pe.slice(0,-1),pe}var $n=(()=>{return(Z=$n||($n={}))[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",$n;var Z})();class ln{constructor(K,pe,be,$e,vt,Vt,D,R,P,Q,Ve,Ut=!0){this.url_=K,this.method_=pe,this.headers_=be,this.body_=$e,this.successCodes_=vt,this.additionalRetryCodes_=Vt,this.callback_=D,this.errorCallback_=R,this.timeout_=P,this.progressCallback_=Q,this.connectionFactory_=Ve,this.retry=Ut,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Fn,Yn)=>{this.resolve_=Fn,this.reject_=Yn,this.start_()})}start_(){const pe=(be,$e)=>{const vt=this.resolve_,Vt=this.reject_,D=$e.connection;if($e.wasSuccessCode)try{const R=this.callback_(D,D.getResponse());!function Ft(Z){return void 0!==Z}(R)?vt():vt(R)}catch(R){Vt(R)}else if(null!==D){const R=Ke();R.serverResponse=D.getErrorText(),Vt(this.errorCallback_?this.errorCallback_(D,R):R)}else Vt($e.canceled?this.appDelete_?je():function ce(){return new ft(Re.CANCELED,"User canceled the upload/download.")}():function ct(){return new ft(Re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?pe(0,new Lt(!1,null,!0)):this.backoffId_=function Tn(Z,K,pe){let be=1,$e=null,vt=null,Vt=!1,D=0;function R(){return 2===D}let P=!1;function Q(...br){P||(P=!0,K.apply(null,br))}function Ve(br){$e=setTimeout(()=>{$e=null,Z(Fn,R())},br)}function Ut(){vt&&clearTimeout(vt)}function Fn(br,...vi){if(P)return void Ut();if(br)return Ut(),void Q.call(null,br,...vi);if(R()||Vt)return Ut(),void Q.call(null,br,...vi);let Or;be<64&&(be*=2),1===D?(D=2,Or=0):Or=1e3*(be+Math.random()),Ve(Or)}let Yn=!1;function Qr(br){Yn||(Yn=!0,Ut(),!P&&(null!==$e?(br||(D=2),clearTimeout($e),Ve(0)):br||(D=1)))}return Ve(0),vt=setTimeout(()=>{Vt=!0,Qr(!0)},pe),Qr}((be,$e)=>{if($e)return void be(!1,new Lt(!1,null,!0));const vt=this.connectionFactory_();this.pendingConnection_=vt;const Vt=D=>{null!==this.progressCallback_&&this.progressCallback_(D.loaded,D.lengthComputable?D.total:-1)};null!==this.progressCallback_&&vt.addUploadProgressListener(Vt),vt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&vt.removeUploadProgressListener(Vt),this.pendingConnection_=null;const D=vt.getErrorCode()===$n.NO_ERROR,R=vt.getStatus();if(!D||function Rn(Z,K){const pe=Z>=500&&Z<600,$e=-1!==[408,429].indexOf(Z),vt=-1!==K.indexOf(Z);return pe||$e||vt}(R,this.additionalRetryCodes_)&&this.retry){const Q=vt.getErrorCode()===$n.ABORT;return void be(!1,new Lt(!1,null,Q))}const P=-1!==this.successCodes_.indexOf(R);be(!0,new Lt(P,vt))})},pe,this.timeout_)}getPromise(){return this.promise_}cancel(K){this.canceled_=!0,this.appDelete_=K||!1,null!==this.backoffId_&&function xt(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lt{constructor(K,pe,be){this.wasSuccessCode=K,this.connection=pe,this.canceled=!!be}}function wn(...Z){const K=function _n(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==K){const pe=new K;for(let be=0;be<Z.length;be++)pe.append(Z[be]);return pe.getBlob()}if(zn())return new Blob(Z);throw new ft(Re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hr{constructor(K,pe){this.data=K,this.contentType=pe||null}}function Rr(Z){const K=[];for(let pe=0;pe<Z.length;pe++){let be=Z.charCodeAt(pe);be<=127?K.push(be):be<=2047?K.push(192|be>>6,128|63&be):55296==(64512&be)?pe<Z.length-1&&56320==(64512&Z.charCodeAt(pe+1))?(be=65536|(1023&be)<<10|1023&Z.charCodeAt(++pe),K.push(240|be>>18,128|be>>12&63,128|be>>6&63,128|63&be)):K.push(239,191,189):56320==(64512&be)?K.push(239,191,189):K.push(224|be>>12,128|be>>6&63,128|63&be)}return new Uint8Array(K)}function fr(Z,K){switch(Z){case Jn.BASE64:{const $e=-1!==K.indexOf("-"),vt=-1!==K.indexOf("_");if($e||vt)throw dt(Z,"Invalid character '"+($e?"-":"_")+"' found: is it base64url encoded?");break}case Jn.BASE64URL:{const $e=-1!==K.indexOf("+"),vt=-1!==K.indexOf("/");if($e||vt)throw dt(Z,"Invalid character '"+($e?"+":"/")+"' found: is it base64 encoded?");K=K.replace(/-/g,"+").replace(/_/g,"/");break}}let pe;try{pe=function Rt(Z){if(typeof atob>"u")throw function Ze(Z){return new ft(Re.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(K)}catch($e){throw $e.message.includes("polyfill")?$e:dt(Z,"Invalid character found")}const be=new Uint8Array(pe.length);for(let $e=0;$e<pe.length;$e++)be[$e]=pe.charCodeAt($e);return be}class Sn{constructor(K){this.base64=!1,this.contentType=null;const pe=K.match(/^data:([^,]+)?,/);if(null===pe)throw dt(Jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const be=pe[1]||null;null!=be&&(this.base64=function Jt(Z,K){return Z.length>=K.length&&Z.substring(Z.length-K.length)===K}(be,";base64"),this.contentType=this.base64?be.substring(0,be.length-7):be),this.rest=K.substring(K.indexOf(",")+1)}}class Zt{constructor(K,pe){let be=0,$e="";tr(K)?(this.data_=K,be=K.size,$e=K.type):K instanceof ArrayBuffer?(pe?this.data_=new Uint8Array(K):(this.data_=new Uint8Array(K.byteLength),this.data_.set(new Uint8Array(K))),be=this.data_.length):K instanceof Uint8Array&&(pe?this.data_=K:(this.data_=new Uint8Array(K.length),this.data_.set(K)),be=K.length),this.size_=be,this.type_=$e}size(){return this.size_}type(){return this.type_}slice(K,pe){if(tr(this.data_)){const $e=function Gt(Z,K,pe){return Z.webkitSlice?Z.webkitSlice(K,pe):Z.mozSlice?Z.mozSlice(K,pe):Z.slice?Z.slice(K,pe):null}(this.data_,K,pe);return null===$e?null:new Zt($e)}{const be=new Uint8Array(this.data_.buffer,K,pe-K);return new Zt(be,!0)}}static getBlob(...K){if(zn()){const pe=K.map(be=>be instanceof Zt?be.data_:be);return new Zt(wn.apply(null,pe))}{const pe=K.map(Vt=>Gn(Vt)?function rr(Z,K){switch(Z){case Jn.RAW:return new hr(Rr(K));case Jn.BASE64:case Jn.BASE64URL:return new hr(fr(Z,K));case Jn.DATA_URL:return new hr(function Br(Z){const K=new Sn(Z);return K.base64?fr(Jn.BASE64,K.rest):function Sr(Z){let K;try{K=decodeURIComponent(Z)}catch{throw dt(Jn.DATA_URL,"Malformed data URL.")}return Rr(K)}(K.rest)}(K),function An(Z){return new Sn(Z).contentType}(K))}throw Ke()}(Jn.RAW,Vt).data:Vt.data_);let be=0;pe.forEach(Vt=>{be+=Vt.byteLength});const $e=new Uint8Array(be);let vt=0;return pe.forEach(Vt=>{for(let D=0;D<Vt.length;D++)$e[vt++]=Vt[D]}),new Zt($e,!0)}}uploadData(){return this.data_}}function kn(Z){let K;try{K=JSON.parse(Z)}catch{return null}return function hn(Z){return"object"==typeof Z&&!Array.isArray(Z)}(K)?K:null}function sr(Z){const K=Z.lastIndexOf("/",Z.length-2);return-1===K?Z:Z.slice(K+1)}function $r(Z,K){return K}class nr{constructor(K,pe,be,$e){this.server=K,this.local=pe||K,this.writable=!!be,this.xform=$e||$r}}let vr=null;function X(){if(vr)return vr;const Z=[];Z.push(new nr("bucket")),Z.push(new nr("generation")),Z.push(new nr("metageneration")),Z.push(new nr("name","fullPath",!0));const pe=new nr("name");pe.xform=function K(vt,Vt){return function _e(Z){return!Gn(Z)||Z.length<2?Z:sr(Z)}(Vt)},Z.push(pe);const $e=new nr("size");return $e.xform=function be(vt,Vt){return void 0!==Vt?Number(Vt):Vt},Z.push($e),Z.push(new nr("timeCreated")),Z.push(new nr("updated")),Z.push(new nr("md5Hash",null,!0)),Z.push(new nr("cacheControl",null,!0)),Z.push(new nr("contentDisposition",null,!0)),Z.push(new nr("contentEncoding",null,!0)),Z.push(new nr("contentLanguage",null,!0)),Z.push(new nr("contentType",null,!0)),Z.push(new nr("metadata","customMetadata",!0)),vr=Z,vr}function B(Z,K,pe){const be=kn(K);return null===be?null:function L(Z,K,pe){const be={type:"file"},$e=pe.length;for(let vt=0;vt<$e;vt++){const Vt=pe[vt];be[Vt.local]=Vt.xform(be,K[Vt.server])}return function x(Z,K){Object.defineProperty(Z,"ref",{get:function pe(){const vt=new He(Z.bucket,Z.fullPath);return K._makeStorageReference(vt)}})}(be,Z),be}(Z,be,pe)}class gt{constructor(K,pe,be,$e){this.url=K,this.method=pe,this.handler=be,this.timeout=$e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ht(Z){if(!Z)throw Ke()}function We(Z){return function K(pe,be){let $e;return $e=401===pe.getStatus()?pe.getErrorText().includes("Firebase App Check token is invalid")?function pt(){return new ft(Re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function at(){return new ft(Re.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===pe.getStatus()?function it(Z){return new ft(Re.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===pe.getStatus()?function It(Z){return new ft(Re.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):be,$e.status=pe.getStatus(),$e.serverResponse=be.serverResponse,$e}}function Dr(Z,K,pe,be,$e){const vt=K.bucketOnlyServerUrl(),Vt={"X-Goog-Upload-Protocol":"multipart"},R=function D(){let Or="";for(let mr=0;mr<2;mr++)Or+=Math.random().toString().slice(2);return Or}();Vt["Content-Type"]="multipart/related; boundary="+R;const P=function qr(Z,K,pe){const be=Object.assign({},pe);return be.fullPath=Z.path,be.size=K.size(),be.contentType||(be.contentType=function qn(Z,K){return Z&&Z.contentType||K&&K.type()||"application/octet-stream"}(null,K)),be}(K,be,$e),Q=function oe(Z,K){const pe={},be=K.length;for(let $e=0;$e<be;$e++){const vt=K[$e];vt.writable&&(pe[vt.server]=Z[vt.local])}return JSON.stringify(pe)}(P,pe),Fn=Zt.getBlob("--"+R+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Q+"\r\n--"+R+"\r\nContent-Type: "+P.contentType+"\r\n\r\n",be,"\r\n--"+R+"--");if(null===Fn)throw function Ot(){return new ft(Re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Yn={name:P.fullPath},Qr=Tt(vt,Z.host,Z._protocol),vi=Z.maxUploadRetryTime,Kr=new gt(Qr,"POST",function an(Z,K){return function pe(be,$e){const vt=B(Z,$e,K);return Ht(null!==vt),vt}}(Z,pe),vi);return Kr.urlParams=Yn,Kr.headers=Vt,Kr.body=Fn.uploadData(),Kr.errorHandler=We(K),Kr}let ht=null;class we{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$n.NO_ERROR,this.sendPromise_=new Promise(K=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$n.ABORT,K()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$n.NETWORK_ERROR,K()}),this.xhr_.addEventListener("load",()=>{K()})})}send(K,pe,be,$e){if(this.sent_)throw rt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(pe,K,!0),void 0!==$e)for(const vt in $e)$e.hasOwnProperty(vt)&&this.xhr_.setRequestHeader(vt,$e[vt].toString());return void 0!==be?this.xhr_.send(be):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(K){return this.xhr_.getResponseHeader(K)}addUploadProgressListener(K){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",K)}removeUploadProgressListener(K){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",K)}}class Ae extends we{initXhr(){this.xhr_.responseType="text"}}function De(){return ht?ht():new Ae}class Bn{constructor(K,pe){this._service=K,this._location=pe instanceof He?pe:He.makeFromUrl(pe,K.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(K,pe){return new Bn(K,pe)}get root(){const K=new He(this._location.bucket,"");return this._newRef(this._service,K)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sr(this._location.path)}get storage(){return this._service}get parent(){const K=function jn(Z){if(0===Z.length)return null;const K=Z.lastIndexOf("/");return-1===K?"":Z.slice(0,K)}(this._location.path);if(null===K)return null;const pe=new He(this._location.bucket,K);return new Bn(this._service,pe)}_throwIfRoot(K){if(""===this._location.path)throw function tt(Z){return new ft(Re.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(K)}}function si(Z){Z._throwIfRoot("getDownloadURL");const K=function Nn(Z,K,pe){const $e=Tt(K.fullServerUrl(),Z.host,Z._protocol),Vt=Z.maxOperationRetryTime,D=new gt($e,"GET",function Fr(Z,K){return function pe(be,$e){const vt=B(Z,$e,K);return Ht(null!==vt),function ae(Z,K,pe,be){const $e=kn(K);if(null===$e||!Gn($e.downloadTokens))return null;const vt=$e.downloadTokens;if(0===vt.length)return null;const Vt=encodeURIComponent;return vt.split(",").map(P=>{const Ve=Z.fullPath;return Tt("/b/"+Vt(Z.bucket)+"/o/"+Vt(Ve),pe,be)+Wn({alt:"media",token:P})})[0]}(vt,$e,Z.host,Z._protocol)}}(Z,pe),Vt);return D.errorHandler=function ke(Z){const K=We(Z);return function pe(be,$e){let vt=K(be,$e);return 404===be.getStatus()&&(vt=function _t(Z){return new ft(Re.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),vt.serverResponse=$e.serverResponse,vt}}(K),D}(Z.storage,Z._location,X());return Z.storage.makeRequestWithTokens(K,De).then(pe=>{if(null===pe)throw function gr(){return new ft(Re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return pe})}function ps(Z,K){if(Z instanceof Ai){const pe=Z;if(null==pe._bucket)throw function Mt(){return new ft(Re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xe+"' property when initializing the app?")}();const be=new Bn(pe,pe._bucket);return null!=K?ps(be,K):be}return void 0!==K?function li(Z,K){const pe=function Ir(Z,K){const pe=K.split("/").filter(be=>be.length>0).join("/");return 0===Z.length?pe:Z+"/"+pe}(Z._location.path,K),be=new He(Z._location.bucket,pe);return new Bn(Z.storage,be)}(Z,K):Z}function oi(Z,K){const pe=K?.[xe];return null==pe?null:He.makeFromBucketSpec(pe,Z)}class Ai{constructor(K,pe,be,$e,vt){this.app=K,this._authProvider=pe,this._appCheckProvider=be,this._url=$e,this._firebaseVersion=vt,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=$e?He.makeFromBucketSpec($e,this._host):oi(this._host,this.app.options)}get host(){return this._host}set host(K){this._host=K,this._bucket=null!=this._url?He.makeFromBucketSpec(this._url,K):oi(K,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(K){Qt("time",0,Number.POSITIVE_INFINITY,K),this._maxUploadRetryTime=K}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(K){Qt("time",0,Number.POSITIVE_INFINITY,K),this._maxOperationRetryTime=K}_getAuthToken(){var K=this;return(0,Me.Z)(function*(){if(K._overrideAuthToken)return K._overrideAuthToken;const pe=K._authProvider.getImmediate({optional:!0});if(pe){const be=yield pe.getToken();if(null!==be)return be.accessToken}return null})()}_getAppCheckToken(){var K=this;return(0,Me.Z)(function*(){const pe=K._appCheckProvider.getImmediate({optional:!0});return pe?(yield pe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(K=>K.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(K){return new Bn(this,K)}_makeRequest(K,pe,be,$e,vt=!0){if(this._deleted)return new Pt(je());{const Vt=function Er(Z,K,pe,be,$e,vt,Vt=!0){const D=Wn(Z.urlParams),R=Z.url+D,P=Object.assign({},Z.headers);return function dr(Z,K){K&&(Z["X-Firebase-GMPID"]=K)}(P,K),function nn(Z,K){null!==K&&K.length>0&&(Z.Authorization="Firebase "+K)}(P,pe),function Zn(Z,K){Z["X-Firebase-Storage-Version"]="webjs/"+(K??"AppManager")}(P,vt),function kr(Z,K){null!==K&&(Z["X-Firebase-AppCheck"]=K)}(P,be),new ln(R,Z.method,P,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,$e,Vt)}(K,this._appId,be,$e,pe,this._firebaseVersion,vt);return this._requests.add(Vt),Vt.getPromise().then(()=>this._requests.delete(Vt),()=>this._requests.delete(Vt)),Vt}}makeRequestWithTokens(K,pe){var be=this;return(0,Me.Z)(function*(){const[$e,vt]=yield Promise.all([be._getAuthToken(),be._getAppCheckToken()]);return be._makeRequest(K,pe,$e,vt).getPromise()})()}}const gs="@firebase/storage",qi="storage";function Ys(Z,K,pe){return function Xr(Z,K,pe){Z._throwIfRoot("uploadBytes");const be=Dr(Z.storage,Z._location,X(),new Zt(K,!0),pe);return Z.storage.makeRequestWithTokens(be,De).then($e=>({metadata:$e,ref:Z}))}(Z=(0,Be.m9)(Z),K,pe)}function ji(Z){return si(Z=(0,Be.m9)(Z))}function Ss(Z,K){return function Ds(Z,K){if(K&&function ci(Z){return/^[A-Za-z]+:\/\//.test(Z)}(K)){if(Z instanceof Ai)return function Oi(Z,K){return new Bn(Z,K)}(Z,K);throw Ne("To use ref(service, url), the first argument must be a Storage instance.")}return ps(Z,K)}(Z=(0,Be.m9)(Z),K)}function Qs(Z=(0,fe.getApp)(),K){Z=(0,Be.m9)(Z);const be=(0,fe._getProvider)(Z,qi).getImmediate({identifier:K}),$e=(0,Be.P0)("storage");return $e&&function As(Z,K,pe,be={}){!function _r(Z,K,pe,be={}){Z.host=`${K}:${pe}`,Z._protocol="http";const{mockUserToken:$e}=be;$e&&(Z._overrideAuthToken="string"==typeof $e?$e:(0,Be.Sg)($e,Z.app.options.projectId))}(Z,K,pe,be)}(be,...$e),be}function as(Z,{instanceIdentifier:K}){const pe=Z.getProvider("app").getImmediate(),be=Z.getProvider("auth-internal"),$e=Z.getProvider("app-check-internal");return new Ai(pe,be,$e,K,fe.SDK_VERSION)}!function js(){(0,fe._registerComponent)(new de.wA(qi,as,"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(gs,"0.11.2",""),(0,fe.registerVersion)(gs,"0.11.2","esm2017")}();class Zi{constructor(K){return K}}const ys="storage",Yi=new V.OlP("angularfire2.storage-instances");function Js(Z){return(K,pe)=>{const be=K.runOutsideAngular(()=>Z(pe));return new Zi(be)}}const Qi={provide:class go{constructor(){return(0,p.vb)(ys)}},deps:[[new V.FiY,Yi]]},Hi={provide:Zi,useFactory:function xs(Z,K){const pe=(0,p.JM)(ys,Z,K);return pe&&new Zi(pe)},deps:[[new V.FiY,Yi],A.Ot]};let jr=(()=>{class Z{constructor(){(0,ve.KN)("angularfire",p.q4.full,"gcs")}}return Z.\u0275fac=function(pe){return new(pe||Z)},Z.\u0275mod=V.oAB({type:Z}),Z.\u0275inj=V.cJS({providers:[Hi,Qi]}),Z})();function us(Z,...K){return{ngModule:jr,providers:[{provide:Yi,useFactory:Js(Z),multi:!0,deps:[V.R0b,V.zs3,p.HU,A.z6,[new V.FiY,Se.dh],[new V.FiY,Ie.nm],...K]}]}}const yo=(0,p.u3)(ji,!0),di=(0,p.u3)(Qs,!0),yi=(0,p.u3)(Ss,!0),Ci=(0,p.u3)(Ys,!0)},4976:(on,Pe,j)=>{"use strict";j.d(Pe,{q4:()=>Go,iC:()=>Si,HU:()=>sl,vb:()=>Fl,JM:()=>yu,u3:()=>ol});var p=j(4650),V=j(259),A=j(5861),Se=j(6881),ve=j(2090),Ie=j(4859),Me=j(1877);const fe=(I,N)=>N.some(q=>I instanceof q);let Be,de;const nt=new WeakMap,st=new WeakMap,wt=new WeakMap,ft=new WeakMap,Re=new WeakMap;let _t={get(I,N,q){if(I instanceof IDBTransaction){if("done"===N)return st.get(I);if("objectStoreNames"===N)return I.objectStoreNames||wt.get(I);if("store"===N)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return It(I[N])},set:(I,N,q)=>(I[N]=q,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function pt(I){return"function"==typeof I?function at(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(ct(this),N),It(nt.get(this))}:function(...N){return It(I.apply(ct(this),N))}:function(N,...q){const ue=I.call(ct(this),N,...q);return wt.set(ue,N.sort?N.sort():[N]),It(ue)}}(I):(I instanceof IDBTransaction&&function Ke(I){if(st.has(I))return;const N=new Promise((q,ue)=>{const Ce=()=>{I.removeEventListener("complete",Oe),I.removeEventListener("error",mt),I.removeEventListener("abort",mt)},Oe=()=>{q(),Ce()},mt=()=>{ue(I.error||new DOMException("AbortError","AbortError")),Ce()};I.addEventListener("complete",Oe),I.addEventListener("error",mt),I.addEventListener("abort",mt)});st.set(I,N)}(I),fe(I,function ge(){return Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,_t):I)}function It(I){if(I instanceof IDBRequest)return function ot(I){const N=new Promise((q,ue)=>{const Ce=()=>{I.removeEventListener("success",Oe),I.removeEventListener("error",mt)},Oe=()=>{q(It(I.result)),Ce()},mt=()=>{ue(I.error),Ce()};I.addEventListener("success",Oe),I.addEventListener("error",mt)});return N.then(q=>{q instanceof IDBCursor&&nt.set(q,I)}).catch(()=>{}),Re.set(N,I),N}(I);if(ft.has(I))return ft.get(I);const N=pt(I);return N!==I&&(ft.set(I,N),Re.set(N,I)),N}const ct=I=>Re.get(I),tn=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Ot=new Map;function Nt(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(Ot.get(N))return Ot.get(N);const q=N.replace(/FromIndex$/,""),ue=N!==q,Ce=Mt.includes(q);if(!(q in(ue?IDBIndex:IDBObjectStore).prototype)||!Ce&&!tn.includes(q))return;const Oe=function(){var mt=(0,A.Z)(function*(dn,...sn){const Mn=this.transaction(dn,Ce?"readwrite":"readonly");let or=Mn.store;return ue&&(or=or.index(sn.shift())),(yield Promise.all([or[q](...sn),Ce&&Mn.done]))[0]});return function(sn){return mt.apply(this,arguments)}}();return Ot.set(N,Oe),Oe}!function it(I){_t=I(_t)}(I=>({...I,get:(N,q,ue)=>Nt(N,q)||I.get(N,q,ue),has:(N,q)=>!!Nt(N,q)||I.has(N,q)}));const gr="@firebase/installations",Ze="0.6.4",Ne=1e4,je=`w:${Ze}`,tt="FIS_v2",dt="https://firebaseinstallations.googleapis.com/v1",rt=36e5,xt=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ft(I){return I instanceof ve.ZR&&I.code.includes("request-failed")}function mn({projectId:I}){return`${dt}/projects/${I}/installations`}function hn(I){return{token:I.token,requestStatus:2,expiresIn:$n(I.expiresIn),creationTime:Date.now()}}function Gn(I,N){return tr.apply(this,arguments)}function tr(){return(tr=(0,A.Z)(function*(I,N){const ue=(yield N.json()).error;return xt.create("request-failed",{requestName:I,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function zn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Tt(I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,A.Z)(function*(I){const N=yield I();return N.status>=500&&N.status<600?I():N})).apply(this,arguments)}function $n(I){return Number(I.replace("s","000"))}function Lt(){return(Lt=(0,A.Z)(function*({appConfig:I,heartbeatServiceProvider:N},{fid:q}){const ue=mn(I),Ce=zn(I),Oe=N.getImmediate({optional:!0});if(Oe){const Mn=yield Oe.getHeartbeatsHeader();Mn&&Ce.append("x-firebase-client",Mn)}const dn={method:"POST",headers:Ce,body:JSON.stringify({fid:q,authVersion:tt,appId:I.appId,sdkVersion:je})},sn=yield Tt(()=>fetch(ue,dn));if(sn.ok){const Mn=yield sn.json();return{fid:Mn.fid||q,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:hn(Mn.authToken)}}throw yield Gn("Create Installation",sn)})).apply(this,arguments)}function nn(I){return new Promise(N=>{setTimeout(N,I)})}const dr=/^[cdef][\w-]{21}$/,kr="";function Er(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const q=function _n(I){return function Zn(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return dr.test(q)?q:kr}catch{return kr}}function wn(I){return`${I.appName}!${I.appId}`}const Gt=new Map;function Rt(I,N){const q=wn(I);rr(q,N),function Rr(I,N){const q=function fr(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=I=>{rr(I.data.key,I.data.fid)}),Sr}();q&&q.postMessage({key:I,fid:N}),function Sn(){0===Gt.size&&Sr&&(Sr.close(),Sr=null)}()}(q,N)}function rr(I,N){const q=Gt.get(I);if(q)for(const ue of q)ue(N)}let Sr=null;const Br="firebase-installations-database",An=1,Jt="firebase-installations-store";let Zt=null;function kn(){return Zt||(Zt=function ce(I,N,{blocked:q,upgrade:ue,blocking:Ce,terminated:Oe}={}){const mt=indexedDB.open(I,N),dn=It(mt);return ue&&mt.addEventListener("upgradeneeded",sn=>{ue(It(mt.result),sn.oldVersion,sn.newVersion,It(mt.transaction))}),q&&mt.addEventListener("blocked",()=>q()),dn.then(sn=>{Oe&&sn.addEventListener("close",()=>Oe()),Ce&&sn.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),dn}(Br,An,{upgrade:(I,N)=>{0===N&&I.createObjectStore(Jt)}})),Zt}function jn(I,N){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,A.Z)(function*(I,N){const q=wn(I),Ce=(yield kn()).transaction(Jt,"readwrite"),Oe=Ce.objectStore(Jt),mt=yield Oe.get(q);return yield Oe.put(N,q),yield Ce.done,(!mt||mt.fid!==N.fid)&&Rt(I,N.fid),N})).apply(this,arguments)}function sr(I){return $r.apply(this,arguments)}function $r(){return($r=(0,A.Z)(function*(I){const N=wn(I),ue=(yield kn()).transaction(Jt,"readwrite");yield ue.objectStore(Jt).delete(N),yield ue.done})).apply(this,arguments)}function nr(I,N){return vr.apply(this,arguments)}function vr(){return(vr=(0,A.Z)(function*(I,N){const q=wn(I),Ce=(yield kn()).transaction(Jt,"readwrite"),Oe=Ce.objectStore(Jt),mt=yield Oe.get(q),dn=N(mt);return void 0===dn?yield Oe.delete(q):yield Oe.put(dn,q),yield Ce.done,dn&&(!mt||mt.fid!==dn.fid)&&Rt(I,dn.fid),dn})).apply(this,arguments)}function _e(I){return X.apply(this,arguments)}function X(){return X=(0,A.Z)(function*(I){let N;const q=yield nr(I.appConfig,ue=>{const Ce=function x(I){return Te(I||{fid:Er(),registrationStatus:0})}(ue),Oe=function L(I,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(xt.create("app-offline"))};const q={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ue=function B(I,N){return ae.apply(this,arguments)}(I,q);return{installationEntry:q,registrationPromise:ue}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:oe(I)}:{installationEntry:N}}(I,Ce);return N=Oe.registrationPromise,Oe.installationEntry});return q.fid===kr?{installationEntry:yield N}:{installationEntry:q,registrationPromise:N}}),X.apply(this,arguments)}function ae(){return ae=(0,A.Z)(function*(I,N){try{const q=yield function ln(I,N){return Lt.apply(this,arguments)}(I,N);return jn(I.appConfig,q)}catch(q){throw Ft(q)&&409===q.customData.serverCode?yield sr(I.appConfig):yield jn(I.appConfig,{fid:N.fid,registrationStatus:0}),q}}),ae.apply(this,arguments)}function oe(I){return le.apply(this,arguments)}function le(){return(le=(0,A.Z)(function*(I){let N=yield se(I.appConfig);for(;1===N.registrationStatus;)yield nn(100),N=yield se(I.appConfig);if(0===N.registrationStatus){const{installationEntry:q,registrationPromise:ue}=yield _e(I);return ue||q}return N})).apply(this,arguments)}function se(I){return nr(I,N=>{if(!N)throw xt.create("installation-not-found");return Te(N)})}function Te(I){return function ze(I){return 1===I.registrationStatus&&I.registrationTime+Ne<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ht(){return(Ht=(0,A.Z)(function*({appConfig:I,heartbeatServiceProvider:N},q){const ue=function an(I,{fid:N}){return`${mn(I)}/${N}/authTokens:generate`}(I,q),Ce=function Qt(I,{refreshToken:N}){const q=zn(I);return q.append("Authorization",function Rn(I){return`${tt} ${I}`}(N)),q}(I,q),Oe=N.getImmediate({optional:!0});if(Oe){const Mn=yield Oe.getHeartbeatsHeader();Mn&&Ce.append("x-firebase-client",Mn)}const dn={method:"POST",headers:Ce,body:JSON.stringify({installation:{sdkVersion:je,appId:I.appId}})},sn=yield Tt(()=>fetch(ue,dn));if(sn.ok)return hn(yield sn.json());throw yield Gn("Generate Auth Token",sn)})).apply(this,arguments)}function Xn(I){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,A.Z)(function*(I,N=!1){let q;const ue=yield nr(I.appConfig,Oe=>{if(!Nn(Oe))throw xt.create("not-registered");const mt=Oe.authToken;if(!N&&function Xt(I){return 2===I.requestStatus&&!function er(I){const N=Date.now();return N<I.creationTime||I.creationTime+I.expiresIn<N+rt}(I)}(mt))return Oe;if(1===mt.requestStatus)return q=function We(I,N){return ke.apply(this,arguments)}(I,N),Oe;{if(!navigator.onLine)throw xt.create("app-offline");const dn=function qn(I){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:N})}(Oe);return q=function un(I,N){return pn.apply(this,arguments)}(I,dn),dn}});return q?yield q:ue.authToken}),Fr.apply(this,arguments)}function ke(){return(ke=(0,A.Z)(function*(I,N){let q=yield St(I.appConfig);for(;1===q.authToken.requestStatus;)yield nn(100),q=yield St(I.appConfig);const ue=q.authToken;return 0===ue.requestStatus?Xn(I,N):ue})).apply(this,arguments)}function St(I){return nr(I,N=>{if(!Nn(N))throw xt.create("not-registered");return function qr(I){return 1===I.requestStatus&&I.requestTime+Ne<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function pn(){return pn=(0,A.Z)(function*(I,N){try{const q=yield function gt(I,N){return Ht.apply(this,arguments)}(I,N),ue=Object.assign(Object.assign({},N),{authToken:q});return yield jn(I.appConfig,ue),q}catch(q){if(!Ft(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const ue=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield jn(I.appConfig,ue)}else yield sr(I.appConfig);throw q}}),pn.apply(this,arguments)}function Nn(I){return void 0!==I&&2===I.registrationStatus}function bi(){return(bi=(0,A.Z)(function*(I){const N=I,{installationEntry:q,registrationPromise:ue}=yield _e(N);return ue?ue.catch(console.error):Xn(N).catch(console.error),q.fid})).apply(this,arguments)}function Bi(){return Bi=(0,A.Z)(function*(I,N=!1){const q=I;return yield function Gr(I){return Wt.apply(this,arguments)}(q),(yield Xn(q,N)).token}),Bi.apply(this,arguments)}function Wt(){return(Wt=(0,A.Z)(function*(I){const{registrationPromise:N}=yield _e(I);N&&(yield N)})).apply(this,arguments)}function Ae(I){return xt.create("missing-app-config-values",{valueName:I})}const De="installations",bt=I=>{const N=I.getProvider("app").getImmediate(),q=function we(I){if(!I||!I.options)throw Ae("App Configuration");if(!I.name)throw Ae("App Name");const N=["projectId","apiKey","appId"];for(const q of N)if(!I.options[q])throw Ae(q);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(N);return{app:N,appConfig:q,heartbeatServiceProvider:(0,Se._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},yn=I=>{const N=I.getProvider("app").getImmediate(),q=(0,Se._getProvider)(N,De).getImmediate();return{getId:()=>function Dr(I){return bi.apply(this,arguments)}(q),getToken:Ce=>function zr(I){return Bi.apply(this,arguments)}(q,Ce)}};(function xn(){(0,Se._registerComponent)(new Ie.wA(De,bt,"PUBLIC")),(0,Se._registerComponent)(new Ie.wA("installations-internal",yn,"PRIVATE"))})(),(0,Se.registerVersion)(gr,Ze),(0,Se.registerVersion)(gr,Ze,"esm2017");const bn="@firebase/remote-config",ii=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qi{constructor(N,q,ue,Ce){this.client=N,this.storage=q,this.storageCache=ue,this.logger=Ce}isCachedDataFresh(N,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-q,Ce=ue<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ce}.`),Ce}fetch(N){var q=this;return(0,A.Z)(function*(){const[ue,Ce]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Ce&&q.isCachedDataFresh(N.cacheMaxAgeMillis,ue))return Ce;N.eTag=Ce&&Ce.eTag;const Oe=yield q.client.fetch(N),mt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Oe.status&&mt.push(q.storage.setLastSuccessfulFetchResponse(Oe)),yield Promise.all(mt),Oe})()}}function Ki(I=navigator){return I.languages&&I.languages[0]||I.language}class Ys{constructor(N,q,ue,Ce,Oe,mt){this.firebaseInstallations=N,this.sdkVersion=q,this.namespace=ue,this.projectId=Ce,this.apiKey=Oe,this.appId=mt}fetch(N){var q=this;return(0,A.Z)(function*(){const[ue,Ce]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},sn={sdk_version:q.sdkVersion,app_instance_id:ue,app_instance_id_token:Ce,app_id:q.appId,language_code:Ki()},Mn={method:"POST",headers:dn,body:JSON.stringify(sn)},or=fetch(mt,Mn),ar=new Promise((Ro,Po)=>{N.signal.addEventListener(()=>{const pc=new Error("The operation was aborted.");pc.name="AbortError",Po(pc)})});let Zs;try{yield Promise.race([or,ar]),Zs=yield or}catch(Ro){let Po="fetch-client-network";throw"AbortError"===Ro?.name&&(Po="fetch-timeout"),ii.create(Po,{originalErrorMessage:Ro?.message})}let Vs=Zs.status;const Ya=Zs.headers.get("ETag")||void 0;let Vl,Qa;if(200===Zs.status){let Ro;try{Ro=yield Zs.json()}catch(Po){throw ii.create("fetch-client-parse",{originalErrorMessage:Po?.message})}Vl=Ro.entries,Qa=Ro.state}if("INSTANCE_STATE_UNSPECIFIED"===Qa?Vs=500:"NO_CHANGE"===Qa?Vs=304:("NO_TEMPLATE"===Qa||"EMPTY_CONFIG"===Qa)&&(Vl={}),304!==Vs&&200!==Vs)throw ii.create("fetch-status",{httpStatus:Vs});return{status:Vs,eTag:Ya,config:Vl}})()}}class Os{constructor(N,q){this.client=N,this.storage=q}fetch(N){var q=this;return(0,A.Z)(function*(){const ue=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(N,ue)})()}attemptFetch(N,{throttleEndTimeMillis:q,backoffCount:ue}){var Ce=this;return(0,A.Z)(function*(){yield function Fo(I,N){return new Promise((q,ue)=>{const Ce=Math.max(N-Date.now(),0),Oe=setTimeout(q,Ce);I.addEventListener(()=>{clearTimeout(Oe),ue(ii.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,q);try{const Oe=yield Ce.client.fetch(N);return yield Ce.storage.deleteThrottleMetadata(),Oe}catch(Oe){if(!function Zo(I){if(!(I instanceof ve.ZR&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Oe))throw Oe;const mt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(ue),backoffCount:ue+1};return yield Ce.storage.setThrottleMetadata(mt),Ce.attemptFetch(N,mt)}})()}}class po{constructor(N,q,ue,Ce,Oe){this.app=N,this._client=q,this._storageCache=ue,this._storage=Ce,this._logger=Oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ji(I,N){const q=I.target.error||void 0;return ii.create(N,{originalErrorMessage:q&&q?.message})}const Ts="app_namespace_store";class As{constructor(N,q,ue,Ce=function Qs(){return new Promise((I,N)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=ue=>{N(ji(ue,"storage-open"))},q.onsuccess=ue=>{I(ue.target.result)},q.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(q){N(ii.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=N,this.appName=q,this.namespace=ue,this.openDbPromise=Ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var q=this;return(0,A.Z)(function*(){const ue=yield q.openDbPromise;return new Promise((Ce,Oe)=>{const dn=ue.transaction([Ts],"readonly").objectStore(Ts),sn=q.createCompositeKey(N);try{const Mn=dn.get(sn);Mn.onerror=or=>{Oe(ji(or,"storage-get"))},Mn.onsuccess=or=>{const ar=or.target.result;Ce(ar?ar.value:void 0)}}catch(Mn){Oe(ii.create("storage-get",{originalErrorMessage:Mn?.message}))}})})()}set(N,q){var ue=this;return(0,A.Z)(function*(){const Ce=yield ue.openDbPromise;return new Promise((Oe,mt)=>{const sn=Ce.transaction([Ts],"readwrite").objectStore(Ts),Mn=ue.createCompositeKey(N);try{const or=sn.put({compositeKey:Mn,value:q});or.onerror=ar=>{mt(ji(ar,"storage-set"))},or.onsuccess=()=>{Oe()}}catch(or){mt(ii.create("storage-set",{originalErrorMessage:or?.message}))}})})()}delete(N){var q=this;return(0,A.Z)(function*(){const ue=yield q.openDbPromise;return new Promise((Ce,Oe)=>{const dn=ue.transaction([Ts],"readwrite").objectStore(Ts),sn=q.createCompositeKey(N);try{const Mn=dn.delete(sn);Mn.onerror=or=>{Oe(ji(or,"storage-delete"))},Mn.onsuccess=()=>{Ce()}}catch(Mn){Oe(ii.create("storage-delete",{originalErrorMessage:Mn?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class os{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,A.Z)(function*(){const q=N.storage.getLastFetchStatus(),ue=N.storage.getLastSuccessfulFetchTimestampMillis(),Ce=N.storage.getActiveConfig(),Oe=yield q;Oe&&(N.lastFetchStatus=Oe);const mt=yield ue;mt&&(N.lastSuccessfulFetchTimestampMillis=mt);const dn=yield Ce;dn&&(N.activeConfig=dn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Zi(){return ys.apply(this,arguments)}function ys(){return(ys=(0,A.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function $s(){(0,Se._registerComponent)(new Ie.wA("remote-config",function I(N,{instanceIdentifier:q}){const ue=N.getProvider("app").getImmediate(),Ce=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,ve.hl)())throw ii.create("indexed-db-unavailable");const{projectId:Oe,apiKey:mt,appId:dn}=ue.options;if(!Oe)throw ii.create("registration-project-id");if(!mt)throw ii.create("registration-api-key");if(!dn)throw ii.create("registration-app-id");const sn=new As(dn,ue.name,q=q||"firebase"),Mn=new os(sn),or=new Me.Yd(bn);or.logLevel=Me.in.ERROR;const ar=new Ys(Ce,Se.SDK_VERSION,q,Oe,mt,dn),Zs=new Os(ar,sn),Vs=new qi(Zs,sn,Mn,or),Ya=new po(ue,Vs,Mn,sn,or);return function li(I){const N=(0,ve.m9)(I);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(bn,"0.4.4"),(0,Se.registerVersion)(bn,"0.4.4","esm2017")}();const go=(I,N)=>N.some(q=>I instanceof q);let vs,Yi;const Qi=new WeakMap,Hi=new WeakMap,jr=new WeakMap,us=new WeakMap,_s=new WeakMap;let Hs={get(I,N,q){if(I instanceof IDBTransaction){if("done"===N)return Hi.get(I);if("objectStoreNames"===N)return I.objectStoreNames||jr.get(I);if("store"===N)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return xi(I[N])},set:(I,N,q)=>(I[N]=q,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function yo(I){return"function"==typeof I?function mo(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Js(){return Yi||(Yi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(di(this),N),xi(Qi.get(this))}:function(...N){return xi(I.apply(di(this),N))}:function(N,...q){const ue=I.call(di(this),N,...q);return jr.set(ue,N.sort?N.sort():[N]),xi(ue)}}(I):(I instanceof IDBTransaction&&function Ni(I){if(Hi.has(I))return;const N=new Promise((q,ue)=>{const Ce=()=>{I.removeEventListener("complete",Oe),I.removeEventListener("error",mt),I.removeEventListener("abort",mt)},Oe=()=>{q(),Ce()},mt=()=>{ue(I.error||new DOMException("AbortError","AbortError")),Ce()};I.addEventListener("complete",Oe),I.addEventListener("error",mt),I.addEventListener("abort",mt)});Hi.set(I,N)}(I),go(I,function xs(){return vs||(vs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Hs):I)}function xi(I){if(I instanceof IDBRequest)return function Yr(I){const N=new Promise((q,ue)=>{const Ce=()=>{I.removeEventListener("success",Oe),I.removeEventListener("error",mt)},Oe=()=>{q(xi(I.result)),Ce()},mt=()=>{ue(I.error),Ce()};I.addEventListener("success",Oe),I.addEventListener("error",mt)});return N.then(q=>{q instanceof IDBCursor&&Qi.set(q,I)}).catch(()=>{}),_s.set(N,I),N}(I);if(us.has(I))return us.get(I);const N=yo(I);return N!==I&&(us.set(I,N),_s.set(N,I)),N}const di=I=>_s.get(I);function Ms(I,N,{blocked:q,upgrade:ue,blocking:Ce,terminated:Oe}={}){const mt=indexedDB.open(I,N),dn=xi(mt);return ue&&mt.addEventListener("upgradeneeded",sn=>{ue(xi(mt.result),sn.oldVersion,sn.newVersion,xi(mt.transaction))}),q&&mt.addEventListener("blocked",()=>q()),dn.then(sn=>{Oe&&sn.addEventListener("close",()=>Oe()),Ce&&sn.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),dn}function hi(I,{blocked:N}={}){const q=indexedDB.deleteDatabase(I);return N&&q.addEventListener("blocked",()=>N()),xi(q).then(()=>{})}const Lo=["get","getKey","getAll","getAllKeys","count"],yi=["put","add","delete","clear"],ks=new Map;function Ci(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(ks.get(N))return ks.get(N);const q=N.replace(/FromIndex$/,""),ue=N!==q,Ce=yi.includes(q);if(!(q in(ue?IDBIndex:IDBObjectStore).prototype)||!Ce&&!Lo.includes(q))return;const Oe=function(){var mt=(0,A.Z)(function*(dn,...sn){const Mn=this.transaction(dn,Ce?"readwrite":"readonly");let or=Mn.store;return ue&&(or=or.index(sn.shift())),(yield Promise.all([or[q](...sn),Ce&&Mn.done]))[0]});return function(sn){return mt.apply(this,arguments)}}();return ks.set(N,Oe),Oe}!function cr(I){Hs=I(Hs)}(I=>({...I,get:(N,q,ue)=>Ci(N,q)||I.get(N,q,ue),has:(N,q)=>!!Ci(N,q)||I.has(N,q)}));const Hn="/firebase-messaging-sw.js",Xs="/firebase-cloud-messaging-push-scope",Z="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",K="https://fcmregistrations.googleapis.com/v1",pe="google.c.a.c_id",be="google.c.a.c_l",$e="google.c.a.ts",vt="google.c.a.e";var D=(()=>{return(I=D||(D={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",D;var I})();function R(I){const N=new Uint8Array(I);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function P(I){const q=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(q),Ce=new Uint8Array(ue.length);for(let Oe=0;Oe<ue.length;++Oe)Ce[Oe]=ue.charCodeAt(Oe);return Ce}const Q="fcm_token_details_db",Ve=5,Ut="fcm_token_object_Store";function Yn(){return Yn=(0,A.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Oe=>Oe.name).includes(Q))return null;let N=null;return(yield Ms(Q,Ve,{upgrade:(ue=(0,A.Z)(function*(Ce,Oe,mt,dn){var sn;if(Oe<2||!Ce.objectStoreNames.contains(Ut))return;const Mn=dn.objectStore(Ut),or=yield Mn.index("fcmSenderId").get(I);if(yield Mn.clear(),or)if(2===Oe){const ar=or;if(!ar.auth||!ar.p256dh||!ar.endpoint)return;N={token:ar.fcmToken,createTime:null!==(sn=ar.createTime)&&void 0!==sn?sn:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:R(ar.vapidKey)}}}else if(3===Oe){const ar=or;N={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:R(ar.auth),p256dh:R(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:R(ar.vapidKey)}}}else if(4===Oe){const ar=or;N={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:R(ar.auth),p256dh:R(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:R(ar.vapidKey)}}}}),function(Oe,mt,dn,sn){return ue.apply(this,arguments)})})).close(),yield hi(Q),yield hi("fcm_vapid_details_db"),yield hi("undefined"),function Qr(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:N}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ue}),Yn.apply(this,arguments)}const br="firebase-messaging-database",vi=1,Kr="firebase-messaging-store";let Or=null;function mr(){return Or||(Or=Ms(br,vi,{upgrade:(I,N)=>{0===N&&I.createObjectStore(Kr)}})),Or}function fi(I){return zi.apply(this,arguments)}function zi(){return zi=(0,A.Z)(function*(I){const N=ga(I),ue=yield(yield mr()).transaction(Kr).objectStore(Kr).get(N);if(ue)return ue;{const Ce=yield function Fn(I){return Yn.apply(this,arguments)}(I.appConfig.senderId);if(Ce)return yield ls(I,Ce),Ce}}),zi.apply(this,arguments)}function ls(I,N){return Di.apply(this,arguments)}function Di(){return(Di=(0,A.Z)(function*(I,N){const q=ga(I),Ce=(yield mr()).transaction(Kr,"readwrite");return yield Ce.objectStore(Kr).put(N,q),yield Ce.done,N})).apply(this,arguments)}function vo(){return(vo=(0,A.Z)(function*(I){const N=ga(I),ue=(yield mr()).transaction(Kr,"readwrite");yield ue.objectStore(Kr).delete(N),yield ue.done})).apply(this,arguments)}function ga({appConfig:I}){return I.appId}const _i=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fi(I,N){return _o.apply(this,arguments)}function _o(){return(_o=(0,A.Z)(function*(I,N){const q=yield Do(I),ue=To(N),Ce={method:"POST",headers:q,body:JSON.stringify(ue)};let Oe;try{Oe=yield(yield fetch(na(I.appConfig),Ce)).json()}catch(mt){throw _i.create("token-subscribe-failed",{errorInfo:mt?.toString()})}if(Oe.error)throw _i.create("token-subscribe-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw _i.create("token-subscribe-no-token");return Oe.token})).apply(this,arguments)}function Co(){return(Co=(0,A.Z)(function*(I,N){const q=yield Do(I),ue=To(N.subscriptionOptions),Ce={method:"PATCH",headers:q,body:JSON.stringify(ue)};let Oe;try{Oe=yield(yield fetch(`${na(I.appConfig)}/${N.token}`,Ce)).json()}catch(mt){throw _i.create("token-update-failed",{errorInfo:mt?.toString()})}if(Oe.error)throw _i.create("token-update-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw _i.create("token-update-no-token");return Oe.token})).apply(this,arguments)}function ta(I,N){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,A.Z)(function*(I,N){const ue={method:"DELETE",headers:yield Do(I)};try{const Oe=yield(yield fetch(`${na(I.appConfig)}/${N}`,ue)).json();if(Oe.error)throw _i.create("token-unsubscribe-failed",{errorInfo:Oe.error.message})}catch(Ce){throw _i.create("token-unsubscribe-failed",{errorInfo:Ce?.toString()})}})).apply(this,arguments)}function na({projectId:I}){return`${K}/projects/${I}/registrations`}function Do(I){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,A.Z)(function*({appConfig:I,installations:N}){const q=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function To({p256dh:I,auth:N,endpoint:q,vapidKey:ue}){const Ce={web:{endpoint:q,auth:N,p256dh:I}};return ue!==Z&&(Ce.web.applicationPubKey=ue),Ce}const zs=6048e5;function Gi(){return Gi=(0,A.Z)(function*(I){const N=yield function Yo(I,N){return xa.apply(this,arguments)}(I.swRegistration,I.vapidKey),q={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:N.endpoint,auth:R(N.getKey("auth")),p256dh:R(N.getKey("p256dh"))},ue=yield fi(I.firebaseDependencies);if(ue){if(function Ws(I,N){return N.vapidKey===I.vapidKey&&N.endpoint===I.endpoint&&N.auth===I.auth&&N.p256dh===I.p256dh}(ue.subscriptionOptions,q))return Date.now()>=ue.createTime+zs?function Zr(I,N){return Uo.apply(this,arguments)}(I,{token:ue.token,createTime:Date.now(),subscriptionOptions:q}):ue.token;try{yield ta(I.firebaseDependencies,ue.token)}catch(Ce){console.warn(Ce)}return Gs(I.firebaseDependencies,q)}return Gs(I.firebaseDependencies,q)}),Gi.apply(this,arguments)}function Li(){return Li=(0,A.Z)(function*(I){const N=yield fi(I.firebaseDependencies);N&&(yield ta(I.firebaseDependencies,N.token),yield function Ti(I){return vo.apply(this,arguments)}(I.firebaseDependencies));const q=yield I.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Li.apply(this,arguments)}function Uo(){return Uo=(0,A.Z)(function*(I,N){try{const q=yield function Nr(I,N){return Co.apply(this,arguments)}(I.firebaseDependencies,N),ue=Object.assign(Object.assign({},N),{token:q,createTime:Date.now()});return yield ls(I.firebaseDependencies,ue),q}catch(q){throw yield function Tr(I){return Li.apply(this,arguments)}(I),q}}),Uo.apply(this,arguments)}function Gs(I,N){return ra.apply(this,arguments)}function ra(){return(ra=(0,A.Z)(function*(I,N){const ue={token:yield Fi(I,N),createTime:Date.now(),subscriptionOptions:N};return yield ls(I,ue),ue.token})).apply(this,arguments)}function xa(){return(xa=(0,A.Z)(function*(I,N){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:P(N)})})).apply(this,arguments)}function Ls(I){const N={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ma(I,N){if(!N.notification)return;I.notification={};const q=N.notification.title;q&&(I.notification.title=q);const ue=N.notification.body;ue&&(I.notification.body=ue);const Ce=N.notification.image;Ce&&(I.notification.image=Ce);const Oe=N.notification.icon;Oe&&(I.notification.icon=Oe)}(N,I),function Ma(I,N){N.data&&(I.data=N.data)}(N,I),function O(I,N){var q,ue,Ce,Oe,mt;if(!(N.fcmOptions||null!==(q=N.notification)&&void 0!==q&&q.click_action))return;I.fcmOptions={};const dn=null!==(Ce=null===(ue=N.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ce?Ce:null===(Oe=N.notification)||void 0===Oe?void 0:Oe.click_action;dn&&(I.fcmOptions.link=dn);const sn=null===(mt=N.fcmOptions)||void 0===mt?void 0:mt.analytics_label;sn&&(I.fcmOptions.analyticsLabel=sn)}(N,I),N}function F(I,N){const q=[];for(let ue=0;ue<I.length;ue++)q.push(I.charAt(ue)),ue<N.length&&q.push(N.charAt(ue));return q.join("")}function ye(I){return _i.create("missing-app-config-values",{valueName:I})}F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),F("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class et{constructor(N,q,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ce=function ee(I){if(!I||!I.options)throw ye("App Configuration Object");if(!I.name)throw ye("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:q}=I;for(const ue of N)if(!q[ue])throw ye(ue);return{appName:I.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ce,installations:q,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function E(I){return C.apply(this,arguments)}function C(){return(C=(0,A.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Hn,{scope:Xs}),I.swRegistration.update().catch(()=>{})}catch(N){throw _i.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function he(){return(he=(0,A.Z)(function*(I,N){if(!N&&!I.swRegistration&&(yield E(I)),N||!I.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw _i.create("invalid-sw-registration");I.swRegistration=N}})).apply(this,arguments)}function Bt(){return(Bt=(0,A.Z)(function*(I,N){N?I.vapidKey=N:I.vapidKey||(I.vapidKey=Z)})).apply(this,arguments)}function Cn(){return Cn=(0,A.Z)(function*(I,N){if(!navigator)throw _i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _i.create("permission-blocked");return yield function Ge(I,N){return Bt.apply(this,arguments)}(I,N?.vapidKey),yield function W(I,N){return he.apply(this,arguments)}(I,N?.serviceWorkerRegistration),function Xi(I){return Gi.apply(this,arguments)}(I)}),Cn.apply(this,arguments)}function ki(){return(ki=(0,A.Z)(function*(I,N,q){const ue=function qt(I){switch(I){case D.NOTIFICATION_CLICKED:return"notification_open";case D.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:q[pe],message_name:q[be],message_time:q[$e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wi(){return Wi=(0,A.Z)(function*(I,N){const q=N.data;if(!q.isFirebaseMessaging)return;I.onMessageHandler&&q.messageType===D.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ls(q)):I.onMessageHandler.next(Ls(q)));const ue=q.data;(function z(I){return"object"==typeof I&&!!I&&pe in I})(ue)&&"1"===ue[vt]&&(yield function ir(I,N,q){return ki.apply(this,arguments)}(I,q.messageType,ue))}),Wi.apply(this,arguments)}const jt="@firebase/messaging",Dt=I=>{const N=new et(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function vn(I,N){return Wi.apply(this,arguments)}(N,q)),N},Vi=I=>{const N=I.getProvider("messaging").getImmediate();return{getToken:ue=>function lt(I,N){return Cn.apply(this,arguments)}(N,ue)}};function uu(){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,A.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ra(){(0,Se._registerComponent)(new Ie.wA("messaging",Dt,"PUBLIC")),(0,Se._registerComponent)(new Ie.wA("messaging-internal",Vi,"PRIVATE")),(0,Se.registerVersion)(jt,"0.12.4"),(0,Se.registerVersion)(jt,"0.12.4","esm2017")}();const Qn="analytics",sa="firebase_id",Ba="origin",ai=6e4,On="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oa="https://www.googletagmanager.com/gtag/js",Kn=new Me.Yd("@firebase/analytics"),lr=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rn(I){if(!I.startsWith(oa)){const N=lr.create("invalid-gtag-resource",{gtagURL:I});return Kn.warn(N.message),""}return I}function Bo(I){return Promise.all(I.map(N=>N.catch(q=>q)))}function va(){return(va=(0,A.Z)(function*(I,N,q,ue,Ce,Oe){const mt=ue[Ce];try{if(mt)yield N[mt];else{const sn=(yield Bo(q)).find(Mn=>Mn.measurementId===Ce);sn&&(yield N[sn.appId])}}catch(dn){Kn.error(dn)}I("config",Ce,Oe)})).apply(this,arguments)}function aa(){return(aa=(0,A.Z)(function*(I,N,q,ue,Ce){try{let Oe=[];if(Ce&&Ce.send_to){let mt=Ce.send_to;Array.isArray(mt)||(mt=[mt]);const dn=yield Bo(q);for(const sn of mt){const Mn=dn.find(ar=>ar.measurementId===sn),or=Mn&&N[Mn.appId];if(!or){Oe=[];break}Oe.push(or)}}0===Oe.length&&(Oe=Object.values(N)),yield Promise.all(Oe),I("event",ue,Ce||{})}catch(Oe){Kn.error(Oe)}})).apply(this,arguments)}const ja=30,So=new class Is{constructor(N={},q=1e3){this.throttleMetadata=N,this.intervalMillis=q}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,q){this.throttleMetadata[N]=q}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Je(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ar(){return(Ar=(0,A.Z)(function*(I){var N;const{appId:q,apiKey:ue}=I,Ce={method:"GET",headers:Je(ue)},Oe=On.replace("{app-id}",q),mt=yield fetch(Oe,Ce);if(200!==mt.status&&304!==mt.status){let dn="";try{const sn=yield mt.json();null!==(N=sn.error)&&void 0!==N&&N.message&&(dn=sn.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:dn})}return mt.json()})).apply(this,arguments)}function wa(){return(wa=(0,A.Z)(function*(I,N=So,q){const{appId:ue,apiKey:Ce,measurementId:Oe}=I.options;if(!ue)throw lr.create("no-app-id");if(!Ce){if(Oe)return{measurementId:Oe,appId:ue};throw lr.create("no-api-key")}const mt=N.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new Nu;return setTimeout((0,A.Z)(function*(){dn.abort()}),void 0!==q?q:ai),$o({appId:ue,apiKey:Ce,measurementId:Oe},mt,dn,N)})).apply(this,arguments)}function $o(I,N,q){return el.apply(this,arguments)}function el(){return el=(0,A.Z)(function*(I,{throttleEndTimeMillis:N,backoffCount:q},ue,Ce=So){var Oe;const{appId:mt,measurementId:dn}=I;try{yield function ua(I,N){return new Promise((q,ue)=>{const Ce=Math.max(N-Date.now(),0),Oe=setTimeout(q,Ce);I.addEventListener(()=>{clearTimeout(Oe),ue(lr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(ue,N)}catch(sn){if(dn)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${sn?.message}]`),{appId:mt,measurementId:dn};throw sn}try{const sn=yield function Ou(I){return Ar.apply(this,arguments)}(I);return Ce.deleteThrottleMetadata(mt),sn}catch(sn){const Mn=sn;if(!function Nl(I){if(!(I instanceof ve.ZR&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Mn)){if(Ce.deleteThrottleMetadata(mt),dn)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${Mn?.message}]`),{appId:mt,measurementId:dn};throw sn}const or=503===Number(null===(Oe=Mn?.customData)||void 0===Oe?void 0:Oe.httpStatus)?(0,ve.$s)(q,Ce.intervalMillis,ja):(0,ve.$s)(q,Ce.intervalMillis),ar={throttleEndTimeMillis:Date.now()+or,backoffCount:q+1};return Ce.setThrottleMetadata(mt,ar),Kn.debug(`Calling attemptFetch again in ${or} millis`),$o(I,ar,ue,Ce)}}),el.apply(this,arguments)}class Nu{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Ea,hu;function no(){return(no=(0,A.Z)(function*(I,N,q,ue,Ce){if(Ce&&Ce.global)I("event",q,ue);else{const Oe=yield N;I("event",q,Object.assign(Object.assign({},ue),{send_to:Oe}))}})).apply(this,arguments)}function Oa(){return(Oa=(0,A.Z)(function*(){if(!(0,ve.hl)())return Kn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(I){return Kn.warn(lr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function _(){return _=(0,A.Z)(function*(I,N,q,ue,Ce,Oe,mt){var dn;const sn=function cu(I){return wa.apply(this,arguments)}(I);sn.then(Vs=>{q[Vs.measurementId]=Vs.appId,I.options.measurementId&&Vs.measurementId!==I.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Vs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vs=>Kn.error(Vs)),N.push(sn);const Mn=function so(){return Oa.apply(this,arguments)}().then(Vs=>{if(Vs)return ue.getId()}),[or,ar]=yield Promise.all([sn,Mn]);(function to(I){const N=window.document.getElementsByTagName("script");for(const q of Object.values(N))if(q.src&&q.src.includes(oa)&&q.src.includes(I))return q;return null})(Oe)||function eo(I,N){const q=function ya(I,N){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(I,N)),q}("firebase-js-sdk-policy",{createScriptURL:rn}),ue=document.createElement("script"),Ce=`${oa}?l=${I}&id=${N}`;ue.src=q?q?.createScriptURL(Ce):Ce,ue.async=!0,document.head.appendChild(ue)}(Oe,or.measurementId),hu&&(Ce("consent","default",hu),function Ga(I){hu=I}(void 0)),Ce("js",new Date);const Zs=null!==(dn=mt?.config)&&void 0!==dn?dn:{};return Zs[Ba]="firebase",Zs.update=!0,null!=ar&&(Zs[sa]=ar),Ce("config",or.measurementId,Zs),Ea&&(Ce("set",Ea),function fu(I){Ea=I}(void 0)),or.measurementId}),_.apply(this,arguments)}class m{constructor(N){this.app=N}_delete(){return delete M[this.app.options.appId],Promise.resolve()}}let M={},$=[];const J={};let Ct,Yt,re="dataLayer",Ue="gtag",cn=!1;function zo(I,N,q){!function Ei(){const I=[];if((0,ve.ru)()&&I.push("This is a browser extension environment."),(0,ve.zI)()||I.push("Cookies are not available."),I.length>0){const N=I.map((ue,Ce)=>`(${Ce+1}) ${ue}`).join(" "),q=lr.create("invalid-analytics-context",{errorInfo:N});Kn.warn(q.message)}}();const ue=I.options.appId;if(!ue)throw lr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw lr.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=M[ue])throw lr.create("already-exists",{id:ue});if(!cn){!function Xu(I){let N=[];Array.isArray(window[I])?N=window[I]:window[I]=N}(re);const{wrappedGtag:Oe,gtagCore:mt}=function cs(I,N,q,ue,Ce){let Oe=function(...mt){window[ue].push(arguments)};return window[Ce]&&"function"==typeof window[Ce]&&(Oe=window[Ce]),window[Ce]=function Es(I,N,q,ue){function Oe(){return Oe=(0,A.Z)(function*(mt,...dn){try{if("event"===mt){const[sn,Mn]=dn;yield function _a(I,N,q,ue,Ce){return aa.apply(this,arguments)}(I,N,q,sn,Mn)}else if("config"===mt){const[sn,Mn]=dn;yield function $a(I,N,q,ue,Ce,Oe){return va.apply(this,arguments)}(I,N,q,ue,sn,Mn)}else if("consent"===mt){const[sn]=dn;I("consent","update",sn)}else if("get"===mt){const[sn,Mn,or]=dn;I("get",sn,Mn,or)}else if("set"===mt){const[sn]=dn;I("set",sn)}else I(mt,...dn)}catch(sn){Kn.error(sn)}}),Oe.apply(this,arguments)}return function Ce(mt){return Oe.apply(this,arguments)}}(Oe,I,N,q),{gtagCore:Oe,wrappedGtag:window[Ce]}}(M,$,J,re,Ue);Yt=Oe,Ct=mt,cn=!0}return M[ue]=function v(I,N,q,ue,Ce,Oe,mt){return _.apply(this,arguments)}(I,$,J,N,Ct,re,q),new m(I)}function ei(){return xo.apply(this,arguments)}function xo(){return(xo=(0,A.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const kl="@firebase/analytics";!function ts(){(0,Se._registerComponent)(new Ie.wA(Qn,(N,{options:q})=>zo(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,Se._registerComponent)(new Ie.wA("analytics-internal",function I(N){try{const q=N.getProvider(Qn).getImmediate();return{logEvent:(ue,Ce,Oe)=>function pu(I,N,q,ue){I=(0,ve.m9)(I),function od(I,N,q,ue,Ce){return no.apply(this,arguments)}(Yt,M[I.app.options.appId],N,q,ue).catch(Ce=>Kn.error(Ce))}(q,ue,Ce,Oe)}}catch(q){throw lr.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,Se.registerVersion)(kl,"0.10.0"),(0,Se.registerVersion)(kl,"0.10.0","esm2017")}();var ud=j(4408),Ii=j(7565);const nl=new class la extends Ii.v{}(class Na extends ud.o{constructor(N,q){super(N,q),this.scheduler=N,this.work=q}schedule(N,q=0){return q>0?super.schedule(N,q):(this.delay=q,this.state=N,this.scheduler.flush(this),this)}execute(N,q){return q>0||this.closed?super.execute(N,q):this._execute(N,q)}requestAsyncId(N,q,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(N,q,ue):(N.flush(this),0)}});var rl=j(4986),Fu=j(9751),ba=j(8505),Qo=j(9468),mu=j(5363);const Go=new p.GfV("7.6.1"),Jo="__angularfire_symbol__analyticsIsSupportedValue",Wa="__angularfire_symbol__analyticsIsSupported",Mo="__angularfire_symbol__remoteConfigIsSupportedValue",il="__angularfire_symbol__remoteConfigIsSupported",qa="__angularfire_symbol__messagingIsSupportedValue",Lu="__angularfire_symbol__messagingIsSupported";function yu(I,N,q){if(N){if(1===N.length)return N[0];const Oe=N.filter(mt=>mt.app===q);if(1===Oe.length)return Oe[0]}return q.container.getProvider(I).getImmediate({optional:!0})}globalThis[Wa]||(globalThis[Wa]=ei().then(I=>globalThis[Jo]=I).catch(()=>globalThis[Jo]=!1)),globalThis[Lu]||(globalThis[Lu]=uu().then(I=>globalThis[qa]=I).catch(()=>globalThis[qa]=!1)),globalThis[il]||(globalThis[il]=Zi().then(I=>globalThis[Mo]=I).catch(()=>globalThis[Mo]=!1));const Fl=(I,N)=>{const q=N?[N]:(0,V.C6)(),ue=[];return q.forEach(Ce=>{Ce.container.getProvider(I).instances.forEach(mt=>{ue.includes(mt)||ue.push(mt)})}),ue};function ca(){}class ka{constructor(N,q=nl){this.zone=N,this.delegate=q}now(){return this.delegate.now()}schedule(N,q,ue){const Ce=this.zone;return this.delegate.schedule(function(mt){Ce.runGuarded(()=>{N.apply(this,[mt])})},q,ue)}}class Xo{constructor(N){this.zone=N,this.task=null}call(N,q){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),q.pipe((0,ba.b)({next:ue,complete:ue,error:ue})).subscribe(N).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sl=(()=>{class I{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new ka(Zone.current)),this.insideAngular=q.run(()=>new ka(Zone.current,rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(q){return new(q||I)(p.LFG(p.R0b))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Za(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ca(I){return Za().ngZone.run(()=>I())}function Si(I){return Za(),function Fa(I){return function(q){return(q=q.lift(new Xo(I.ngZone))).pipe((0,Qo.R)(I.outsideAngular),(0,mu.Q)(I.insideAngular))}}(Za())(I)}const Ll=(I,N)=>function(){const ue=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Ca(()=>I.apply(void 0,ue))},ol=(I,N)=>function(){let q;const ue=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof ue[Oe]&&(N&&(q||(q=Ca(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)))),ue[Oe]=Ll(ue[Oe],q));const Ce=function fc(I){return Za().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,ue));if(!N){if(Ce instanceof Fu.y){const Oe=Za();return Ce.pipe((0,Qo.R)(Oe.outsideAngular),(0,mu.Q)(Oe.insideAngular))}return Ca(()=>Ce)}return Ce instanceof Fu.y?Ce.pipe(Si):Ce instanceof Promise?Ca(()=>new Promise((Oe,mt)=>Ce.then(dn=>Ca(()=>Oe(dn)),dn=>Ca(()=>mt(dn))))):"function"==typeof Ce&&q?function(){return setTimeout(()=>{q&&"scheduled"===q.state&&q.invoke()},10),Ce.apply(this,arguments)}:Ca(()=>Ce)}},1389:(on,Pe,j)=>{"use strict";j.d(Pe,{$:()=>Hn,A:()=>ge,D:()=>st,I:()=>ht,J:()=>bt,L:()=>mi,N:()=>nr,P:()=>v,Q:()=>As,R:()=>za,U:()=>js,V:()=>Zi,W:()=>ys,X:()=>as,Y:()=>xs,Z:()=>Js,_:()=>_s,a:()=>wo,a0:()=>Z,a1:()=>pe,a2:()=>Vt,a3:()=>Ut,a4:()=>Yn,a5:()=>br,a6:()=>Kr,a7:()=>mr,a8:()=>zi,a9:()=>Di,aA:()=>ce,aB:()=>Wa,aC:()=>sr,aD:()=>vr,aE:()=>ba,aF:()=>dc,aG:()=>pi,aH:()=>Un,aL:()=>ia,aO:()=>vs,aa:()=>Ti,ab:()=>ga,ac:()=>Vo,ad:()=>Nr,ae:()=>ta,af:()=>na,ai:()=>zs,aj:()=>Gi,ak:()=>Tr,an:()=>mo,ao:()=>ma,aq:()=>Bt,ar:()=>jt,as:()=>tn,at:()=>Te,au:()=>oe,av:()=>it,aw:()=>ar,ax:()=>Lu,ay:()=>ze,az:()=>at,b:()=>lu,c:()=>Yt,d:()=>zo,e:()=>Vr,f:()=>kl,g:()=>la,h:()=>ud,i:()=>Ha,j:()=>rl,k:()=>Qa,l:()=>Ia,m:()=>pc,o:()=>hd,p:()=>fe,r:()=>du,s:()=>jo,u:()=>so});var p=j(5861),V=j(2090),A=j(6881),Se=j(7582),ve=j(1877),Ie=j(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const st=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},wt=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new ve.Yd("@firebase/auth");function _t(w,...d){ot.logLevel<=ve.in.ERROR&&ot.error(`Auth (${A.SDK_VERSION}): ${w}`,...d)}function it(w,...d){throw ct(w,...d)}function at(w,...d){return ct(w,...d)}function pt(w,d,g){const b=Object.assign(Object.assign({},wt()),{[d]:g});return new V.LL("auth","Firebase",b).create(d,{appName:w.name})}function It(w,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&it(w,"argument-error"),pt(w,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(w,...d){if("string"!=typeof w){const g=d[0],b=[...d.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(g,...b)}return ft.create(w,...d)}function ce(w,d,...g){if(!w)throw ct(d,...g)}function kt(w){const d="INTERNAL ASSERTION FAILED: "+w;throw _t(d),new Error(d)}function tn(w,d){w||kt(d)}function Mt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ot(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ne{constructor(d,g){this.shortDelay=d,this.longDelay=g,tn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function gr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function je(w,d){tn(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class tt{static initialize(d,g,b){this.fetchImpl=d,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rt=new Ne(3e4,6e4);function He(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function Pt(w,d,g,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,p.Z)(function*(w,d,g,b,Y={}){return xt(w,Y,(0,p.Z)(function*(){let ie={},Fe={};b&&("GET"===d?Fe=b:ie={body:JSON.stringify(b)});const yt=(0,V.xO)(Object.assign({key:w.config.apiKey},Fe)).slice(1),Kt=yield w._getAdditionalHeaders();return Kt["Content-Type"]="application/json",w.languageCode&&(Kt["X-Firebase-Locale"]=w.languageCode),tt.fetch()(Gn(w,w.config.apiHost,g,yt),Object.assign({method:d,headers:Kt,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function xt(w,d,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(w,d,g){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},dt),d);try{const Y=new tr(w),ie=yield Promise.race([g(),Y.promise]);Y.clearNetworkTimeout();const Fe=yield ie.json();if("needConfirmation"in Fe)throw zn(w,"account-exists-with-different-credential",Fe);if(ie.ok&&!("errorMessage"in Fe))return Fe;{const yt=ie.ok?Fe.errorMessage:Fe.error.message,[Kt,gn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw zn(w,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Kt)throw zn(w,"email-already-in-use",Fe);if("USER_DISABLED"===Kt)throw zn(w,"user-disabled",Fe);const Ln=b[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw pt(w,Ln,gn);it(w,Ln)}}catch(Y){if(Y instanceof V.ZR)throw Y;it(w,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function mn(w,d,g,b){return hn.apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(w,d,g,b,Y={}){const ie=yield Pt(w,d,g,b,Y);return"mfaPendingCredential"in ie&&it(w,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Gn(w,d,g,b){const Y=`${d}${g}?${b}`;return w.config.emulator?je(w.config,Y):`${w.config.apiScheme}://${Y}`}class tr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(at(this.auth,"network-request-failed")),rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(w,d,g){const b={appName:w.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const Y=at(w,d,b);return Y.customData._tokenResponse=g,Y}function Tt(){return(Tt=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ln(){return(ln=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Lt(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function dr(){return(dr=(0,p.Z)(function*(w,d=!1){const g=(0,V.m9)(w),b=yield g.getIdToken(d),Y=Er(b);ce(Y&&Y.exp&&Y.auth_time&&Y.iat,g.auth,"internal-error");const ie="object"==typeof Y.firebase?Y.firebase:void 0,Fe=ie?.sign_in_provider;return{claims:Y,token:b,authTime:Lt(kr(Y.auth_time)),issuedAtTime:Lt(kr(Y.iat)),expirationTime:Lt(kr(Y.exp)),signInProvider:Fe||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function kr(w){return 1e3*Number(w)}function Er(w){const[d,g,b]=w.split(".");if(void 0===d||void 0===g||void 0===b)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,V.tV)(g);return Y?JSON.parse(Y):(_t("Failed to decode base64 JWT payload"),null)}catch(Y){return _t("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function wn(w,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(w,d,g=!1){if(g)return d;try{return yield d}catch(b){throw b instanceof V.ZR&&function Rt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}class Jn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const Y=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),b)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class hr{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(w){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,p.Z)(function*(w){var d;const g=w.auth,b=yield w.getIdToken(),Y=yield wn(w,function Rn(w,d){return ln.apply(this,arguments)}(g,{idToken:b}));ce(Y?.users.length,g,"internal-error");const ie=Y.users[0];w._notifyReloadListener(ie);const Fe=null!==(d=ie.providerUserInfo)&&void 0!==d&&d.length?function Br(w){return w.map(d=>{var{providerId:g}=d,b=(0,Se._T)(d,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(ie.providerUserInfo):[],yt=function Sn(w,d){return[...w.filter(b=>!d.some(Y=>Y.providerId===b.providerId)),...d]}(w.providerData,Fe),Ln=!!w.isAnonymous&&!(w.email&&ie.passwordHash||yt?.length),wr={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:yt,metadata:new hr(ie.createdAt,ie.lastLoginAt),isAnonymous:Ln};Object.assign(w,wr)}),Rr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(w){const d=(0,V.m9)(w);yield rr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Jt(){return(Jt=(0,p.Z)(function*(w,d){const g=yield xt(w,{},(0,p.Z)(function*(){const b=(0,V.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Y,apiKey:ie}=w.config,Fe=Gn(w,Y,"/v1/token",`key=${ie}`),yt=yield w._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(Fe,{method:"POST",headers:yt,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ce(d.idToken,"internal-error"),ce(typeof d.idToken<"u","internal-error"),ce(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function _n(w){const d=Er(w);return ce(d,"internal-error"),ce(typeof d.exp<"u","internal-error"),ce(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var b=this;return(0,p.Z)(function*(){return ce(!b.accessToken||b.refreshToken,d,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(d,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var b=this;return(0,p.Z)(function*(){const{accessToken:Y,refreshToken:ie,expiresIn:Fe}=yield function An(w,d){return Jt.apply(this,arguments)}(d,g);b.updateTokensAndExpiration(Y,ie,Number(Fe))})()}updateTokensAndExpiration(d,g,b){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(d,g){const{refreshToken:b,accessToken:Y,expirationTime:ie}=g,Fe=new Zt;return b&&(ce("string"==typeof b,"internal-error",{appName:d}),Fe.refreshToken=b),Y&&(ce("string"==typeof Y,"internal-error",{appName:d}),Fe.accessToken=Y),ie&&(ce("number"==typeof ie,"internal-error",{appName:d}),Fe.expirationTime=ie),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return kt("not implemented")}}function kn(w,d){ce("string"==typeof w||typeof w>"u","internal-error",{appName:d})}class jn{constructor(d){var{uid:g,auth:b,stsTokenManager:Y}=d,ie=(0,Se._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new hr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const b=yield wn(g,g.stsTokenManager.getToken(g.auth,d));return ce(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(d){return function Zn(w){return dr.apply(this,arguments)}(this,d)}reload(){return function Sr(w){return fr.apply(this,arguments)}(this)}_assign(d){this!==d&&(ce(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new jn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var b=this;return(0,p.Z)(function*(){let Y=!1;d.idToken&&d.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(d),Y=!0),g&&(yield rr(b)),yield b.auth._persistUserIfCurrent(b),Y&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield wn(d,function Qt(w,d){return Tt.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var b,Y,ie,Fe,yt,Kt,gn,Ln;const wr=null!==(b=g.displayName)&&void 0!==b?b:void 0,Oo=null!==(Y=g.email)&&void 0!==Y?Y:void 0,ao=null!==(ie=g.phoneNumber)&&void 0!==ie?ie:void 0,_c=null!==(Fe=g.photoURL)&&void 0!==Fe?Fe:void 0,Wo=null!==(yt=g.tenantId)&&void 0!==yt?yt:void 0,$u=null!==(Kt=g._redirectEventId)&&void 0!==Kt?Kt:void 0,ul=null!==(gn=g.createdAt)&&void 0!==gn?gn:void 0,wc=null!==(Ln=g.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:ea,emailVerified:Ec,isAnonymous:_u,providerData:Ic,stsTokenManager:Ul}=g;ce(ea&&Ul,d,"internal-error");const yr=Zt.fromJSON(this.name,Ul);ce("string"==typeof ea,d,"internal-error"),kn(wr,d.name),kn(Oo,d.name),ce("boolean"==typeof Ec,d,"internal-error"),ce("boolean"==typeof _u,d,"internal-error"),kn(ao,d.name),kn(_c,d.name),kn(Wo,d.name),kn($u,d.name),kn(ul,d.name),kn(wc,d.name);const bc=new jn({uid:ea,auth:d,email:Oo,emailVerified:Ec,displayName:wr,isAnonymous:_u,photoURL:_c,phoneNumber:ao,tenantId:Wo,stsTokenManager:yr,createdAt:ul,lastLoginAt:wc});return Ic&&Array.isArray(Ic)&&(bc.providerData=Ic.map(Bl=>Object.assign({},Bl))),$u&&(bc._redirectEventId=$u),bc}static _fromIdTokenResponse(d,g,b=!1){return(0,p.Z)(function*(){const Y=new Zt;Y.updateFromServerResponse(g);const ie=new jn({uid:g.localId,auth:d,stsTokenManager:Y,isAnonymous:b});return yield rr(ie),ie})()}}const Ir=new Map;function sr(w){tn(w instanceof Function,"Expected a class definition");let d=Ir.get(w);return d?(tn(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,Ir.set(w,d),d)}const nr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,b){var Y=this;return(0,p.Z)(function*(){Y.storage[g]=b})()}_get(g){var b=this;return(0,p.Z)(function*(){const Y=b.storage[g];return void 0===Y?null:Y})()}_remove(g){var b=this;return(0,p.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return w.type="NONE",w})();function vr(w,d,g){return`firebase:${w}:${d}:${g}`}class _e{constructor(d,g,b){this.persistence=d,this.auth=g,this.userKey=b;const{config:Y,name:ie}=this.auth;this.fullUserKey=vr(this.userKey,Y.apiKey,ie),this.fullPersistenceKey=vr("persistence",Y.apiKey,ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?jn._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,b="authUser"){return(0,p.Z)(function*(){if(!g.length)return new _e(sr(nr),d,b);const Y=(yield Promise.all(g.map(function(){var gn=(0,p.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let ie=Y[0]||sr(nr);const Fe=vr(b,d.config.apiKey,d.name);let yt=null;for(const gn of g)try{const Ln=yield gn._get(Fe);if(Ln){const wr=jn._fromJSON(d,Ln);gn!==ie&&(yt=wr),ie=gn;break}}catch{}const Kt=Y.filter(gn=>gn._shouldAllowMigration);return ie._shouldAllowMigration&&Kt.length?(ie=Kt[0],yt&&(yield ie._set(Fe,yt.toJSON())),yield Promise.all(g.map(function(){var gn=(0,p.Z)(function*(Ln){if(Ln!==ie)try{yield Ln._remove(Fe)}catch{}});return function(Ln){return gn.apply(this,arguments)}}())),new _e(ie,d,b)):new _e(ie,d,b)})()}}function X(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ae(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(x(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(le(d))return"Blackberry";if(se(d))return"Webos";if(L(d))return"Safari";if((d.includes("chrome/")||B(d))&&!d.includes("edge/"))return"Chrome";if(oe(d))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function x(w=(0,V.z$)()){return/firefox\//i.test(w)}function L(w=(0,V.z$)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function B(w=(0,V.z$)()){return/crios\//i.test(w)}function ae(w=(0,V.z$)()){return/iemobile/i.test(w)}function oe(w=(0,V.z$)()){return/android/i.test(w)}function le(w=(0,V.z$)()){return/blackberry/i.test(w)}function se(w=(0,V.z$)()){return/webos/i.test(w)}function Te(w=(0,V.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function ze(w=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function an(w=(0,V.z$)()){return Te(w)||oe(w)||se(w)||le(w)||/windows phone/i.test(w)||ae(w)}function Fr(w,d=[]){let g;switch(w){case"Browser":g=X((0,V.z$)());break;case"Worker":g=`${X((0,V.z$)())}-${w}`;break;default:g=w}const b=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${A.SDK_VERSION}/${b}`}function ke(){return(ke=(0,p.Z)(function*(w){return(yield Pt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(w,d){return un.apply(this,arguments)}function un(){return(un=(0,p.Z)(function*(w,d){return Pt(w,"GET","/v2/recaptchaConfig",He(w,d))})).apply(this,arguments)}function pn(w){return void 0!==w&&void 0!==w.getResponse}function Nn(w){return void 0!==w&&void 0!==w.enterprise}class Xt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function qn(w){return new Promise((d,g)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=d,b.onerror=Y=>{const ie=at("internal-error");ie.customData=Y,g(ie)},b.type="text/javascript",b.charset="UTF-8",function er(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(b)})}function qr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const zr="NO_RECAPTCHA";class Bi{constructor(d){this.type="recaptcha-enterprise",this.auth=Un(d)}verify(d="verify",g=!1){var b=this;return(0,p.Z)(function*(){function ie(){return ie=(0,p.Z)(function*(yt){if(!g){if(null==yt.tenantId&&null!=yt._agentRecaptchaConfig)return yt._agentRecaptchaConfig.siteKey;if(null!=yt.tenantId&&void 0!==yt._tenantRecaptchaConfigs[yt.tenantId])return yt._tenantRecaptchaConfigs[yt.tenantId].siteKey}return new Promise(function(){var Kt=(0,p.Z)(function*(gn,Ln){St(yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wr=>{if(void 0!==wr.recaptchaKey){const Oo=new Xt(wr);return null==yt.tenantId?yt._agentRecaptchaConfig=Oo:yt._tenantRecaptchaConfigs[yt.tenantId]=Oo,gn(Oo.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(wr=>{Ln(wr)})});return function(gn,Ln){return Kt.apply(this,arguments)}}())}),ie.apply(this,arguments)}function Fe(yt,Kt,gn){const Ln=window.grecaptcha;Nn(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(yt,{action:d}).then(wr=>{Kt(wr)}).catch(()=>{Kt(zr)})}):gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((yt,Kt)=>{(function Y(yt){return ie.apply(this,arguments)})(b.auth).then(gn=>{if(!g&&Nn(window.grecaptcha))Fe(gn,yt,Kt);else{if(typeof window>"u")return void Kt(new Error("RecaptchaVerifier is only supported in browser"));qn("https://www.google.com/recaptcha/enterprise.js?render="+gn).then(()=>{Fe(gn,yt,Kt)}).catch(Ln=>{Kt(Ln)})}}).catch(gn=>{Kt(gn)})})})()}}function Gr(w,d,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(w,d,g,b=!1){const Y=new Bi(w);let ie;try{ie=yield Y.verify(g)}catch{ie=yield Y.verify(g,!0)}const Fe=Object.assign({},d);return Object.assign(Fe,b?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(Fe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Fe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Fe})).apply(this,arguments)}class Pn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const b=ie=>new Promise((Fe,yt)=>{try{Fe(d(ie))}catch(Kt){yt(Kt)}});b.onAbort=g,this.queue.push(b);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const b=[];try{for(const Y of g.queue)yield Y(d),Y.onAbort&&b.push(Y.onAbort)}catch(Y){b.reverse();for(const ie of b)try{ie()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class Pr{constructor(d,g,b,Y){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=b,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ui(this),this.idTokenSubscription=new ui(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(d,g){var b=this;return g&&(this._popupRedirectResolver=sr(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var Y,ie;if(!b._deleted&&(b.persistenceManager=yield _e.create(b,d),!b._deleted)){if(null!==(Y=b._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(ie=b.currentUser)||void 0===ie?void 0:ie.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var b;const Y=yield g.assertedPersistence.getCurrentUser();let ie=Y,Fe=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const yt=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Kt=ie?._redirectEventId,gn=yield g.tryRedirectSignIn(d);(!yt||yt===Kt)&&gn?.user&&(ie=gn.user,Fe=!0)}if(!ie)return g.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Fe)try{yield g.beforeStateQueue.runMiddleware(ie)}catch(yt){ie=Y,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(yt))}return ie?g.reloadAndSetCurrentUserOrClear(ie):g.directlySetCurrentUser(null)}return ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ie._redirectEventId?g.directlySetCurrentUser(ie):g.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield rr(d)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const b=d?(0,V.m9)(d):null;return b&&ce(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(d,g=!1){var b=this;return(0,p.Z)(function*(){if(!b._deleted)return d&&ce(b.tenantId===d.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(d)),b.queue((0,p.Z)(function*(){yield b.directlySetCurrentUser(d),b.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(sr(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield St(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Xt(g);null==d.tenantId?d._agentRecaptchaConfig=b:d._tenantRecaptchaConfigs[d.tenantId]=b,b.emailPasswordEnabled&&new Bi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new V.LL("auth","Firebase",d())}onAuthStateChanged(d,g,b){return this.registerStateListener(this.authStateSubscription,d,g,b)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,b){return this.registerStateListener(this.idTokenSubscription,d,g,b)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var b=this;return(0,p.Z)(function*(){const Y=yield b.getOrInitRedirectPersistenceManager(g);return null===d?Y.removeCurrentUser():Y.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const b=d&&sr(d)||g._popupRedirectResolver;ce(b,g,"argument-error"),g.redirectPersistenceManager=yield _e.create(g,[sr(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var b,Y;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===d?g._currentUser:(null===(Y=g.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,b,Y){if(this._deleted)return()=>{};const ie="function"==typeof g?g:g.next.bind(g),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(Fe,this,"internal-error"),Fe.then(()=>ie(this.currentUser)),"function"==typeof g?d.addObserver(g,b,Y):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const b={"X-Client-Version":d.clientVersion};d.app.options.appId&&(b["X-Firebase-gmpid"]=d.app.options.appId);const Y=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();Y&&(b["X-Firebase-Client"]=Y);const ie=yield d._getAppCheckToken();return ie&&(b["X-Firebase-AppCheck"]=ie),b})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const b=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return b?.error&&function Ke(w,...d){ot.logLevel<=ve.in.WARN&&ot.warn(`Auth (${A.SDK_VERSION}): ${w}`,...d)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Un(w){return(0,V.m9)(w)}class ui{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,V.ne)(g=>this.observer=g)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ht(w,d,g){const b=Un(w);ce(b._canInitEmulator,b,"emulator-config-failed"),ce(/^https?:\/\//.test(d),b,"invalid-emulator-scheme");const Y=!!g?.disableWarnings,ie=we(d),{host:Fe,port:yt}=function Ae(w){const d=we(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(d.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(b);if(Y){const ie=Y[1];return{host:ie,port:De(b.substr(ie.length+1))}}{const[ie,Fe]=b.split(":");return{host:ie,port:De(Fe)}}}(d);b.config.emulator={url:`${ie}//${Fe}${null===yt?"":`:${yt}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Fe,port:yt,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function ut(){function w(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function we(w){const d=w.indexOf(":");return d<0?"":w.substr(0,d+1)}function De(w){if(!w)return null;const d=Number(w);return isNaN(d)?null:d}class bt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return kt("not implemented")}_getIdTokenResponse(d){return kt("not implemented")}_linkToIdToken(d,g){return kt("not implemented")}_getReauthenticationResolver(d){return kt("not implemented")}}function yn(w,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:resetPassword",He(w,d))})).apply(this,arguments)}function bn(w,d){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:update",He(w,d))})).apply(this,arguments)}function Xr(w,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithPassword",He(w,d))})).apply(this,arguments)}function Lr(w,d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:sendOobCode",He(w,d))})).apply(this,arguments)}function Pi(){return(Pi=(0,p.Z)(function*(w,d){return Lr(w,d)})).apply(this,arguments)}function is(w,d){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(w,d){return Lr(w,d)})).apply(this,arguments)}function fs(w,d){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(w,d){return Lr(w,d)})).apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(w,d){return Lr(w,d)})).apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithEmailLink",He(w,d))})).apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithEmailLink",He(w,d))})).apply(this,arguments)}class oi extends bt{constructor(d,g,b,Y=null){super("password",b),this._email=d,this._password=g,this._tenantId=Y}static _fromEmailAndPassword(d,g){return new oi(d,g,"password")}static _fromEmailAndCode(d,g,b=null){return new oi(d,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var b;switch(g.signInMethod){case"password":const Y={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=d._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ie=yield Gr(d,Y,"signInWithPassword");return Xr(d,ie)}return Xr(d,Y).catch(function(){var ie=(0,p.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yt=yield Gr(d,Y,"signInWithPassword");return Xr(d,yt)}return Promise.reject(Fe)});return function(Fe){return ie.apply(this,arguments)}}());case"emailLink":return function ci(w,d){return Oi.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:it(d,"internal-error")}})()}_linkToIdToken(d,g){var b=this;return(0,p.Z)(function*(){switch(b.signInMethod){case"password":return bn(d,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ps(w,d){return Ds.apply(this,arguments)}(d,{idToken:g,email:b._email,oobCode:b._password});default:it(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function _r(w,d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithIdp",He(w,d))})).apply(this,arguments)}class mi extends bt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new mi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):it("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:Y}=g,ie=(0,Se._T)(g,["providerId","signInMethod"]);if(!b||!Y)return null;const Fe=new mi(b,Y);return Fe.idToken=ie.idToken||void 0,Fe.accessToken=ie.accessToken||void 0,Fe.secret=ie.secret,Fe.nonce=ie.nonce,Fe.pendingToken=ie.pendingToken||null,Fe}_getIdTokenResponse(d){return _r(d,this.buildRequest())}_linkToIdToken(d,g){const b=this.buildRequest();return b.idToken=g,_r(d,b)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,_r(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,V.xO)(g)}return d}}function Ki(){return(Ki=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:sendVerificationCode",He(w,d))})).apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithPhoneNumber",He(w,d))})).apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(w,d){const g=yield mn(w,"POST","/v1/accounts:signInWithPhoneNumber",He(w,d));if(g.temporaryProof)throw zn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ms={USER_NOT_FOUND:"user-not-found"};function po(){return(po=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithPhoneNumber",He(w,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ms)})).apply(this,arguments)}class ji extends bt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new ji({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new ji({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Ys(w,d){return Fo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Zo(w,d){return Os.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ss(w,d){return po.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:b,verificationCode:Y}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:b,code:Y}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:b,phoneNumber:Y,temporaryProof:ie}=d;return b||g||Y||ie?new ji({verificationId:g,verificationCode:b,phoneNumber:Y,temporaryProof:ie}):null}}class Ns{constructor(d){var g,b,Y,ie,Fe,yt;const Kt=(0,V.zd)((0,V.pd)(d)),gn=null!==(g=Kt.apiKey)&&void 0!==g?g:null,Ln=null!==(b=Kt.oobCode)&&void 0!==b?b:null,wr=function Ts(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Kt.mode)&&void 0!==Y?Y:null);ce(gn&&Ln&&wr,"argument-error"),this.apiKey=gn,this.operation=wr,this.code=Ln,this.continueUrl=null!==(ie=Kt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Fe=Kt.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(yt=Kt.tenantId)&&void 0!==yt?yt:null}static parseLink(d){const g=function Ss(w){const d=(0,V.zd)((0,V.pd)(w)).link,g=d?(0,V.zd)((0,V.pd)(d)).deep_link_id:null,b=(0,V.zd)((0,V.pd)(w)).deep_link_id;return(b?(0,V.zd)((0,V.pd)(b)).link:null)||b||g||d||w}(d);try{return new Ns(g)}catch{return null}}}let As=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,b){return oi._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const Y=Ns.parseLink(b);return ce(Y,"argument-error"),oi._fromEmailAndCode(g,Y.code,Y.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class os{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class $s extends os{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class as extends $s{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ce("providerId"in g&&"signInMethod"in g,"argument-error"),mi._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ce(d.idToken||d.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return as.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return as.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:Y,pendingToken:ie,nonce:Fe,providerId:yt}=d;if(!b&&!Y&&!g&&!ie||!yt)return null;try{return new as(yt)._credential({idToken:g,accessToken:b,nonce:Fe,pendingToken:ie})}catch{return null}}}let js=(()=>{class w extends $s{constructor(){super("facebook.com")}static credential(g){return mi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Zi=(()=>{class w extends $s{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return mi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:Y}=g;if(!b&&!Y)return null;try{return w.credential(b,Y)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ys=(()=>{class w extends $s{constructor(){super("github.com")}static credential(g){return mi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class vs extends bt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return _r(d,this.buildRequest())}_linkToIdToken(d,g){const b=this.buildRequest();return b.idToken=g,_r(d,b)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,_r(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:Y,pendingToken:ie}=g;return b&&Y&&ie&&b===Y?new vs(b,ie):null}static _create(d,g){return new vs(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xs extends os{constructor(d){ce(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return xs.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return xs.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=vs.fromJSON(d);return ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:b}=d;if(!g||!b)return null;try{return vs._create(b,g)}catch{return null}}}let Js=(()=>{class w extends $s{constructor(){super("twitter.com")}static credential(g,b){return mi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:Y}=g;if(!b||!Y)return null;try{return w.credential(b,Y)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Qi(w,d){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signUp",He(w,d))})).apply(this,arguments)}class jr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,b,Y=!1){return(0,p.Z)(function*(){const ie=yield jn._fromIdTokenResponse(d,b,Y),Fe=us(b);return new jr({user:ie,providerId:Fe,_tokenResponse:b,operationType:g})})()}static _forOperation(d,g,b){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(b,!0);const Y=us(b);return new jr({user:d,providerId:Y,_tokenResponse:b,operationType:g})})()}}function us(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function _s(w){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(w){var d;const g=Un(w);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new jr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Qi(g,{returnSecureToken:!0}),Y=yield jr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ni extends V.ZR{constructor(d,g,b,Y){var ie;super(g.code,g.message),this.operationType=b,this.user=Y,Object.setPrototypeOf(this,Ni.prototype),this.customData={appName:d.name,tenantId:null!==(ie=d.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(d,g,b,Y){return new Ni(d,g,b,Y)}}function Hs(w,d,g,b){return("reauthenticate"===d?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Ni._fromErrorAndOperation(w,ie,d,b):ie})}function cr(w){return new Set(w.map(({providerId:d})=>d).filter(d=>!!d))}function mo(w,d){return yo.apply(this,arguments)}function yo(){return yo=(0,p.Z)(function*(w,d){const g=(0,V.m9)(w);yield Ms(!0,g,d);const{providerUserInfo:b}=yield function Wn(w,d){return $n.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),Y=cr(b||[]);return g.providerData=g.providerData.filter(ie=>Y.has(ie.providerId)),Y.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),yo.apply(this,arguments)}function xi(w,d){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(w,d,g=!1){const b=yield wn(w,d._linkToIdToken(w.auth,yield w.getIdToken()),g);return jr._forOperation(w,"link",b)})).apply(this,arguments)}function Ms(w,d,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(w,d,g){yield rr(d);const Y=!1===w?"provider-already-linked":"no-such-provider";ce(cr(d.providerData).has(g)===w,d.auth,Y)})).apply(this,arguments)}function Lo(w,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(w,d,g=!1){const{auth:b}=w,Y="reauthenticate";try{const ie=yield wn(w,Hs(b,Y,d,w),g);ce(ie.idToken,b,"internal-error");const Fe=Er(ie.idToken);ce(Fe,b,"internal-error");const{sub:yt}=Fe;return ce(w.uid===yt,b,"user-mismatch"),jr._forOperation(w,Y,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&it(b,"user-mismatch"),ie}})).apply(this,arguments)}function ks(w,d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(w,d,g=!1){const b="signIn",Y=yield Hs(w,b,d),ie=yield jr._fromIdTokenResponse(w,b,Y);return g||(yield w._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function Hn(w,d){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,p.Z)(function*(w,d){return ks(Un(w),d)})).apply(this,arguments)}function Z(w,d){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(w,d){const g=(0,V.m9)(w);return yield Ms(!1,g,d.providerId),xi(g,d)})).apply(this,arguments)}function pe(w,d){return be.apply(this,arguments)}function be(){return(be=(0,p.Z)(function*(w,d){return Lo((0,V.m9)(w),d)})).apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(w,d){return mn(w,"POST","/v1/accounts:signInWithCustomToken",He(w,d))})).apply(this,arguments)}function Vt(w,d){return D.apply(this,arguments)}function D(){return D=(0,p.Z)(function*(w,d){const g=Un(w),b=yield function $e(w,d){return vt.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),Y=yield jr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(Y.user),Y}),D.apply(this,arguments)}class R{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?P._fromServerResponse(d,g):"totpInfo"in g?Q._fromServerResponse(d,g):it(d,"internal-error")}}class P extends R{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new P(g)}}class Q extends R{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new Q(g)}}function Ve(w,d,g){var b;ce((null===(b=g.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ce(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ce(g.android.packageName.length>0,w,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function Ut(w,d,g){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,p.Z)(function*(w,d,g){var b;const Y=Un(w),ie={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=Y._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Fe=yield Gr(Y,ie,"getOobCode",!0);g&&Ve(Y,Fe,g),yield is(Y,Fe)}else g&&Ve(Y,ie,g),yield is(Y,ie).catch(function(){var Fe=(0,p.Z)(function*(yt){if("auth/missing-recaptcha-token"!==yt.code)return Promise.reject(yt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Kt=yield Gr(Y,ie,"getOobCode",!0);g&&Ve(Y,Kt,g),yield is(Y,Kt)}});return function(yt){return Fe.apply(this,arguments)}}())}),Fn.apply(this,arguments)}function Yn(w,d,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(w,d,g){yield yn((0,V.m9)(w),{oobCode:d,newPassword:g})})).apply(this,arguments)}function br(w,d){return vi.apply(this,arguments)}function vi(){return vi=(0,p.Z)(function*(w,d){yield function gi(w,d){return Jr.apply(this,arguments)}((0,V.m9)(w),{oobCode:d})}),vi.apply(this,arguments)}function Kr(w,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(function*(w,d){const g=(0,V.m9)(w),b=yield yn(g,{oobCode:d}),Y=b.requestType;switch(ce(Y,g,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(b.mfaInfo,g,"internal-error");default:ce(b.email,g,"internal-error")}let ie=null;return b.mfaInfo&&(ie=R._fromServerResponse(Un(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:ie},operation:Y}})).apply(this,arguments)}function mr(w,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(w,d){const{data:g}=yield Kr((0,V.m9)(w),d);return g.email})).apply(this,arguments)}function zi(w,d,g){return ls.apply(this,arguments)}function ls(){return ls=(0,p.Z)(function*(w,d,g){var b;const Y=Un(w),ie={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Fe;if(null!==(b=Y._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const gn=yield Gr(Y,ie,"signUpPassword");Fe=Qi(Y,gn)}else Fe=Qi(Y,ie).catch(function(){var gn=(0,p.Z)(function*(Ln){if("auth/missing-recaptcha-token"===Ln.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wr=yield Gr(Y,ie,"signUpPassword");return Qi(Y,wr)}return Promise.reject(Ln)});return function(Ln){return gn.apply(this,arguments)}}());const yt=yield Fe.catch(gn=>Promise.reject(gn)),Kt=yield jr._fromIdTokenResponse(Y,"signIn",yt);return yield Y._updateCurrentUser(Kt.user),Kt}),ls.apply(this,arguments)}function Di(w,d,g){return Hn((0,V.m9)(w),As.credential(d,g))}function Ti(w,d,g){return vo.apply(this,arguments)}function vo(){return vo=(0,p.Z)(function*(w,d,g){var b;const Y=Un(w),ie={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Fe(yt,Kt){ce(Kt.handleCodeInApp,Y,"argument-error"),Kt&&Ve(Y,yt,Kt)}if(null!==(b=Y._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const yt=yield Gr(Y,ie,"getOobCode",!0);Fe(yt,g),yield fs(Y,yt)}else Fe(ie,g),yield fs(Y,ie).catch(function(){var yt=(0,p.Z)(function*(Kt){if("auth/missing-recaptcha-token"!==Kt.code)return Promise.reject(Kt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gn=yield Gr(Y,ie,"getOobCode",!0);Fe(gn,g),yield fs(Y,gn)}});return function(Kt){return yt.apply(this,arguments)}}())}),vo.apply(this,arguments)}function ga(w,d){return"EMAIL_SIGNIN"===Ns.parseLink(d)?.operation}function Vo(w,d,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w),Y=As.credentialWithLink(d,g||Mt());return ce(Y._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Hn(b,Y)})).apply(this,arguments)}function _o(){return(_o=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:createAuthUri",He(w,d))})).apply(this,arguments)}function Nr(w,d){return Co.apply(this,arguments)}function Co(){return Co=(0,p.Z)(function*(w,d){const b={identifier:d,continueUri:Ot()?Mt():"http://localhost"},{signinMethods:Y}=yield function Fi(w,d){return _o.apply(this,arguments)}((0,V.m9)(w),b);return Y||[]}),Co.apply(this,arguments)}function ta(w,d){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,p.Z)(function*(w,d){const g=(0,V.m9)(w),Y={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};d&&Ve(g.auth,Y,d);const{email:ie}=yield function $i(w,d){return Pi.apply(this,arguments)}(g.auth,Y);ie!==w.email&&(yield w.reload())}),Ji.apply(this,arguments)}function na(w,d,g){return Do.apply(this,arguments)}function Do(){return Do=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:d};g&&Ve(b.auth,ie,g);const{email:Fe}=yield function bo(w,d){return li.apply(this,arguments)}(b.auth,ie);Fe!==w.email&&(yield w.reload())}),Do.apply(this,arguments)}function To(){return(To=(0,p.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function zs(w,d){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,p.Z)(function*(w,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const b=(0,V.m9)(w),ie={idToken:yield b.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Fe=yield wn(b,function Fs(w,d){return To.apply(this,arguments)}(b.auth,ie));b.displayName=Fe.displayName||null,b.photoURL=Fe.photoUrl||null;const yt=b.providerData.find(({providerId:Kt})=>"password"===Kt);yt&&(yt.displayName=b.displayName,yt.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Fe)}),Xi.apply(this,arguments)}function Gi(w,d){return Li((0,V.m9)(w),d,null)}function Tr(w,d){return Li((0,V.m9)(w),null,d)}function Li(w,d,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(w,d,g){const{auth:b}=w,ie={idToken:yield w.getIdToken(),returnSecureToken:!0};d&&(ie.email=d),g&&(ie.password=g);const Fe=yield wn(w,bn(b,ie));yield w._updateTokensIfNecessary(Fe,!0)})).apply(this,arguments)}class Gs{constructor(d,g,b={}){this.isNewUser=d,this.providerId=g,this.profile=b}}class ra extends Gs{constructor(d,g,b,Y){super(d,g,b),this.username=Y}}class Yo extends Gs{constructor(d,g){super(d,"facebook.com",g)}}class xa extends ra{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ws extends Gs{constructor(d,g){super(d,"google.com",g)}}class Ls extends ra{constructor(d,g,b){super(d,"twitter.com",g,b)}}function ma(w){const{user:d,_tokenResponse:g}=w;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Uo(w){var d,g;if(!w)return null;const{providerId:b}=w,Y=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ie=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!b&&w?.idToken){const Fe=null===(g=null===(d=Er(w.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Fe)return new Gs(ie,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!b)return null;switch(b){case"facebook.com":return new Yo(ie,Y);case"github.com":return new xa(ie,Y);case"google.com":return new Ws(ie,Y);case"twitter.com":return new Ls(ie,Y,w.screenName||null);case"custom":case"anonymous":return new Gs(ie,null);default:return new Gs(ie,b,Y)}}(g)}class he{constructor(d,g,b){this.type=d,this.credential=g,this.auth=b}static _fromIdtoken(d,g){return new he("enroll",d,g)}static _fromMfaPendingCredential(d){return new he("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,b;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return he._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(b=d.multiFactorSession)&&void 0!==b&&b.idToken)return he._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ge{constructor(d,g,b){this.session=d,this.hints=g,this.signInResolver=b}static _fromError(d,g){const b=Un(d),Y=g.customData._serverResponse,ie=(Y.mfaInfo||[]).map(yt=>R._fromServerResponse(b,yt));ce(Y.mfaPendingCredential,b,"internal-error");const Fe=he._fromMfaPendingCredential(Y.mfaPendingCredential);return new Ge(Fe,ie,function(){var yt=(0,p.Z)(function*(Kt){const gn=yield Kt._process(b,Fe);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Ln=Object.assign(Object.assign({},Y),{idToken:gn.idToken,refreshToken:gn.refreshToken});switch(g.operationType){case"signIn":const wr=yield jr._fromIdTokenResponse(b,g.operationType,Ln);return yield b._updateCurrentUser(wr.user),wr;case"reauthenticate":return ce(g.user,b,"internal-error"),jr._forOperation(g.user,g.operationType,Ln);default:it(b,"internal-error")}});return function(Kt){return yt.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function Bt(w,d){var g;const b=(0,V.m9)(w),Y=d;return ce(d.customData.operationType,b,"argument-error"),ce(null===(g=Y.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ge._fromError(b,Y)}class vn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>R._fromServerResponse(d.auth,b)))})}static _fromUser(d){return new vn(d)}getSession(){var d=this;return(0,p.Z)(function*(){return he._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var b=this;return(0,p.Z)(function*(){const Y=d,ie=yield b.getSession(),Fe=yield wn(b.user,Y._process(b.user.auth,ie,g));return yield b.user._updateTokensIfNecessary(Fe),b.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const b="string"==typeof d?d:d.uid,Y=yield g.user.getIdToken();try{const ie=yield wn(g.user,function qt(w,d){return Pt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",He(w,d))}(g.user.auth,{idToken:Y,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Fe})=>Fe!==b),yield g.user._updateTokensIfNecessary(ie),yield g.user.reload()}catch(ie){throw ie}})()}}const Wi=new WeakMap;function jt(w){const d=(0,V.m9)(w);return Wi.has(d)||Wi.set(d,vn._fromUser(d)),Wi.get(d)}const qe="__sak";class Dt{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(qe,"1"),this.storage.removeItem(qe),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const lu=(()=>{class w extends Dt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vi(){const w=(0,V.z$)();return L(w)||Te(w)}()&&function Xn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=an(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const Y=this.storage.getItem(b),ie=this.localCache[b];Y!==ie&&g(b,ie,Y)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((yt,Kt,gn)=>{this.notifyListeners(yt,gn)});const Y=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(Y);if(g.newValue!==yt)null!==g.newValue?this.storage.setItem(Y,g.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===g.newValue&&!b)return}const ie=()=>{const yt=this.storage.getItem(Y);!b&&this.localCache[Y]===yt||this.notifyListeners(Y,yt)},Fe=this.storage.getItem(Y);!function Ht(){return(0,V.w1)()&&10===document.documentMode}()||Fe===g.newValue||g.newValue===g.oldValue?ie():setTimeout(ie,10)}notifyListeners(g,b){this.localCache[g]=b;const Y=this.listeners[g];if(Y)for(const ie of Array.from(Y))ie(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var Y=()=>super._set,ie=this;return(0,p.Z)(function*(){yield Y().call(ie,g,b),ie.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,Y=this;return(0,p.Z)(function*(){const ie=yield b().call(Y,g);return Y.localCache[g]=JSON.stringify(ie),ie})()}_remove(g){var b=()=>super._remove,Y=this;return(0,p.Z)(function*(){yield b().call(Y,g),delete Y.localCache[g]})()}}return w.type="LOCAL",w})(),wo=(()=>{class w extends Dt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return w.type="SESSION",w})();let Pu=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(ie=>ie.isListeningto(g));if(b)return b;const Y=new w(g);return this.receivers.push(Y),Y}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,p.Z)(function*(){const Y=g,{eventId:ie,eventType:Fe,data:yt}=Y.data,Kt=b.handlersMap[Fe];if(!Kt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:ie,eventType:Fe});const gn=Array.from(Kt).map(function(){var wr=(0,p.Z)(function*(Oo){return Oo(Y.origin,yt)});return function(Oo){return wr.apply(this,arguments)}}()),Ln=yield function Pl(w){return Promise.all(w.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return d.apply(this,arguments)}}()))}(gn);Y.ports[0].postMessage({status:"done",eventId:ie,eventType:Fe,response:Ln})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ia(w="",d=10){let g="";for(let b=0;b<d;b++)g+=Math.floor(10*Math.random());return w+g}class Ol{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,b=50){var Y=this;return(0,p.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Fe,yt;return new Promise((Kt,gn)=>{const Ln=ia("",20);ie.port1.start();const wr=setTimeout(()=>{gn(new Error("unsupported_event"))},b);yt={messageChannel:ie,onMessage(Oo){const ao=Oo;if(ao.data.eventId===Ln)switch(ao.data.status){case"ack":clearTimeout(wr),Fe=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Kt(ao.data.response);break;default:clearTimeout(wr),clearTimeout(Fe),gn(new Error("invalid_response"))}}},Y.handlers.add(yt),ie.port1.addEventListener("message",yt.onMessage),Y.target.postMessage({eventType:d,eventId:Ln,data:g},[ie.port2])}).finally(()=>{yt&&Y.removeMessageHandler(yt)})})()}}function wi(){return window}function sa(){return typeof wi().WorkerGlobalScope<"u"&&"function"==typeof wi().importScripts}function ai(){return(ai=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Kn="firebaseLocalStorageDb",ws=1,lr="firebaseLocalStorage",rn="fbase_key";class Bo{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ya(w,d){return w.transaction([lr],d?"readwrite":"readonly").objectStore(lr)}function Xu(){const w=indexedDB.open(Kn,ws);return new Promise((d,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(lr,{keyPath:rn})}catch(Y){g(Y)}}),w.addEventListener("success",(0,p.Z)(function*(){const b=w.result;b.objectStoreNames.contains(lr)?d(b):(b.close(),yield function eo(){const w=indexedDB.deleteDatabase(Kn);return new Bo(w).toPromise()}(),d(yield Xu()))}))})}function $a(w,d,g){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(w,d,g){const b=ya(w,!0).put({[rn]:d,value:g});return new Bo(b).toPromise()})).apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(w,d){const g=ya(w,!1).get(d),b=yield new Bo(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Es(w,d){const g=ya(w,!0).delete(d);return new Bo(g).toPromise()}const Ha=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Xu()),g.db})()}_withRetries(g){var b=this;return(0,p.Z)(function*(){let Y=0;for(;;)try{const ie=yield b._openDb();return yield g(ie)}catch(ie){if(Y++>3)throw ie;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return sa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Pu._getInstance(function oa(){return sa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,p.Z)(function*(Y,ie){return{keyProcessed:(yield g._poll()).includes(ie.key)}});return function(Y,ie){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,p.Z)(function*(Y,ie){return["keyChanged"]});return function(Y,ie){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var b,Y;if(g.activeServiceWorker=yield function Ba(){return ai.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ol(g.activeServiceWorker);const ie=yield g.sender._send("ping",{},800);ie&&null!==(b=ie[0])&&void 0!==b&&b.fulfilled&&null!==(Y=ie[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,p.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function On(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Xu();return yield $a(g,qe,"1"),yield Es(g,qe),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,p.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var Y=this;return(0,p.Z)(function*(){return Y._withPendingWrite((0,p.Z)(function*(){return yield Y._withRetries(ie=>$a(ie,g,b)),Y.localCache[g]=b,Y.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,p.Z)(function*(){const Y=yield b._withRetries(ie=>function _a(w,d){return aa.apply(this,arguments)}(ie,g));return b.localCache[g]=Y,Y})()}_remove(g){var b=this;return(0,p.Z)(function*(){return b._withPendingWrite((0,p.Z)(function*(){return yield b._withRetries(Y=>Es(Y,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const b=yield g._withRetries(Fe=>{const yt=ya(Fe,!1).getAll();return new Bo(yt).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const Y=[],ie=new Set;for(const{fbase_key:Fe,value:yt}of b)ie.add(Fe),JSON.stringify(g.localCache[Fe])!==JSON.stringify(yt)&&(g.notifyListeners(Fe,yt),Y.push(Fe));for(const Fe of Object.keys(g.localCache))g.localCache[Fe]&&!ie.has(Fe)&&(g.notifyListeners(Fe,null),Y.push(Fe));return Y})()}notifyListeners(g,b){this.localCache[g]=b;const Y=this.listeners[g];if(Y)for(const ie of Array.from(Y))ie(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),cu=1e12;class wa{constructor(d){this.auth=d,this.counter=cu,this._widgets=new Map}render(d,g){const b=this.counter;return this._widgets.set(b,new $o(d,this.auth.name,g||{})),this.counter++,b}reset(d){var g;const b=d||cu;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(d){var g;return(null===(g=this._widgets.get(d||cu))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var b;return null===(b=g._widgets.get(d||cu))||void 0===b||b.execute(),""})()}}class $o{constructor(d,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof d?document.getElementById(d):d;ce(Y,"argument-error",{appName:g}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function el(w){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<w;b++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ua=qr("rcb"),Nl=new Ne(3e4,6e4);class Ea{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=wi().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return ce(function od(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&pn(wi().grecaptcha)?Promise.resolve(wi().grecaptcha):new Promise((b,Y)=>{const ie=wi().setTimeout(()=>{Y(at(d,"network-request-failed"))},Nl.get());wi()[ua]=()=>{wi().clearTimeout(ie),delete wi()[ua];const yt=wi().grecaptcha;if(!yt||!pn(yt))return void Y(at(d,"internal-error"));const Kt=yt.render;yt.render=(gn,Ln)=>{const wr=Kt(gn,Ln);return this.counter++,wr},this.hostLanguage=g,b(yt)},qn(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:ua,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ie),Y(at(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=wi().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class no{load(d){return(0,p.Z)(function*(){return new wa(d)})()}clearedOneInstance(){}}const Mi="recaptcha",ro={theme:"light",type:"image"};class za{constructor(d,g=Object.assign({},ro),b){this.parameters=g,this.type=Mi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(b),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof d?document.getElementById(d):d;ce(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new no:new Ea,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),b=d.getAssertedRecaptcha();return b.getResponse(g)||new Promise(ie=>{const Fe=yt=>{yt&&(d.tokenChangeListeners.delete(Fe),ie(yt))};d.tokenChangeListeners.add(Fe),d.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof d)d(g);else if("string"==typeof d){const b=wi()[d];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){ce(Ot()&&!sa(),d.auth,"internal-error"),yield function es(){let w=null;return new Promise(d=>{"complete"!==document.readyState?(w=()=>d(),window.addEventListener("load",w)):d()}).catch(d=>{throw w&&window.removeEventListener("load",w),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function We(w){return ke.apply(this,arguments)}(d.auth);ce(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qs{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=ji._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function jo(w,d,g){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(w,d,g){const b=Un(w),Y=yield Ga(b,d,(0,V.m9)(g));return new qs(Y,ie=>Hn(b,ie))})).apply(this,arguments)}function Ia(w,d,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w);yield Ms(!1,b,"phone");const Y=yield Ga(b.auth,d,(0,V.m9)(g));return new qs(Y,ie=>Z(b,ie))})).apply(this,arguments)}function du(w,d,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w),Y=yield Ga(b.auth,d,(0,V.m9)(g));return new qs(Y,ie=>pe(b,ie))})).apply(this,arguments)}function Ga(w,d,g){return fu.apply(this,arguments)}function fu(){return fu=(0,p.Z)(function*(w,d,g){var b;const Y=yield g.verify();try{let ie;if(ce("string"==typeof Y,w,"argument-error"),ce(g.type===Mi,w,"argument-error"),ie="string"==typeof d?{phoneNumber:d}:d,"session"in ie){const Fe=ie.session;if("phoneNumber"in ie)return ce("enroll"===Fe.type,w,"internal-error"),(yield function lt(w,d){return Pt(w,"POST","/v2/accounts/mfaEnrollment:start",He(w,d))}(w,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ce("signin"===Fe.type,w,"internal-error");const yt=(null===(b=ie.multiFactorHint)||void 0===b?void 0:b.uid)||ie.multiFactorUid;return ce(yt,w,"missing-multi-factor-info"),(yield function Is(w,d){return Pt(w,"POST","/v2/accounts/mfaSignIn:start",He(w,d))}(w,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield function qi(w,d){return Ki.apply(this,arguments)}(w,{phoneNumber:ie.phoneNumber,recaptchaToken:Y});return Fe}}finally{g._reset()}}),fu.apply(this,arguments)}function so(w,d){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,p.Z)(function*(w,d){yield xi((0,V.m9)(w),d)})).apply(this,arguments)}let v=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=Un(g)}verifyPhoneNumber(g,b){return Ga(this.auth,g,(0,V.m9)(b))}static credential(g,b){return ji._fromVerification(g,b)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:Y}=g;return b&&Y?ji._fromTokenResponse(b,Y):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function _(w,d){return d?sr(d):(ce(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class m extends bt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return _r(d,this._buildIdpRequest())}_linkToIdToken(d,g){return _r(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return _r(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function M(w){return ks(w.auth,new m(w),w.bypassAuthState)}function $(w){const{auth:d,user:g}=w;return ce(g,d,"internal-error"),Lo(g,new m(w),w.bypassAuthState)}function J(w){return re.apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(w){const{auth:d,user:g}=w;return ce(g,d,"internal-error"),xi(g,new m(w),w.bypassAuthState)})).apply(this,arguments)}class Ue{constructor(d,g,b,Y,ie=!1){this.auth=d,this.resolver=b,this.user=Y,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(b,Y){d.pendingPromise={resolve:b,reject:Y};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ie){d.reject(ie)}});return function(b,Y){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:b,sessionId:Y,postBody:ie,tenantId:Fe,error:yt,type:Kt}=d;if(yt)return void g.reject(yt);const gn={auth:g.auth,requestUri:b,sessionId:Y,tenantId:Fe||void 0,postBody:ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Kt)(gn))}catch(Ln){g.reject(Ln)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return M;case"linkViaPopup":case"linkViaRedirect":return J;case"reauthViaPopup":case"reauthViaRedirect":return $;default:it(this.auth,"internal-error")}}resolve(d){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ct=new Ne(2e3,1e4);function Yt(w,d,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(w,d,g){const b=Un(w);It(w,d,os);const Y=_(b,g);return new Ao(b,"signInViaPopup",d,Y).executeNotNull()})).apply(this,arguments)}function Vr(w,d,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w);It(b.auth,d,os);const Y=_(b.auth,g);return new Ao(b.auth,"reauthViaPopup",d,Y,b).executeNotNull()})).apply(this,arguments)}function zo(w,d,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w);It(b.auth,d,os);const Y=_(b.auth,g);return new Ao(b.auth,"linkViaPopup",d,Y,b).executeNotNull()})).apply(this,arguments)}let Ao=(()=>{class w extends Ue{constructor(g,b,Y,ie,Fe){super(g,b,ie,Fe),this.provider=Y,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const b=yield g.execute();return ce(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,p.Z)(function*(){tn(1===g.filter.length,"Popup operations only handle one event");const b=ia();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(Y=>{g.reject(Y)}),g.resolver._isIframeWebStorageSupported(g.auth,Y=>{Y||g.reject(at(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,Y;this.pollId=null!==(Y=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ct.get())};g()}}return w.currentPopupAction=null,w})();const ei="pendingRedirect",xo=new Map;class Eo extends Ue{constructor(d,g,b=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let b=xo.get(g.auth._key());if(!b){try{const ie=(yield function tl(w,d){return ri.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;b=()=>Promise.resolve(ie)}catch(Y){b=()=>Promise.reject(Y)}xo.set(g.auth._key(),b)}return g.bypassAuthState||xo.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,b=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(b,d);if("unknown"!==d.type){if(d.eventId){const Y=yield b.auth._redirectUserForId(d.eventId);if(Y)return b.user=Y,g().call(b,d);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function ri(){return(ri=(0,p.Z)(function*(w,d){const g=oo(d),b=pu(w);if(!(yield b._isAvailable()))return!1;const Y="true"===(yield b._get(g));return yield b._remove(g),Y})).apply(this,arguments)}function ku(w,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(w,d){return pu(w)._set(oo(d),"true")})).apply(this,arguments)}function pi(){xo.clear()}function dc(w,d){xo.set(w._key(),d)}function pu(w){return sr(w._redirectPersistence)}function oo(w){return vr(ei,w.config.apiKey,w.name)}function kl(w,d,g){return function ad(w,d,g){return ts.apply(this,arguments)}(w,d,g)}function ts(){return(ts=(0,p.Z)(function*(w,d,g){const b=Un(w);It(w,d,os),yield b._initializationPromise;const Y=_(b,g);return yield ku(Y,b),Y._openRedirect(b,d,"signInViaRedirect")})).apply(this,arguments)}function ud(w,d,g){return function Na(w,d,g){return Ii.apply(this,arguments)}(w,d,g)}function Ii(){return(Ii=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w);It(b.auth,d,os),yield b.auth._initializationPromise;const Y=_(b.auth,g);yield ku(Y,b.auth);const ie=yield mu(b);return Y._openRedirect(b.auth,d,"reauthViaRedirect",ie)})).apply(this,arguments)}function la(w,d,g){return function nl(w,d,g){return gu.apply(this,arguments)}(w,d,g)}function gu(){return(gu=(0,p.Z)(function*(w,d,g){const b=(0,V.m9)(w);It(b.auth,d,os),yield b.auth._initializationPromise;const Y=_(b.auth,g);yield Ms(!1,b,d.providerId),yield ku(Y,b.auth);const ie=yield mu(b);return Y._openRedirect(b.auth,d,"linkViaRedirect",ie)})).apply(this,arguments)}function rl(w,d){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,p.Z)(function*(w,d){return yield Un(w)._initializationPromise,ba(w,d,!1)})).apply(this,arguments)}function ba(w,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.Z)(function*(w,d,g=!1){const b=Un(w),Y=_(b,d),Fe=yield new Eo(b,Y,g).execute();return Fe&&!g&&(delete Fe.user._redirectEventId,yield b._persistUserIfCurrent(Fe.user),yield b._setRedirectUser(null,d)),Fe})).apply(this,arguments)}function mu(w){return Go.apply(this,arguments)}function Go(){return(Go=(0,p.Z)(function*(w){const d=ia(`${w.uid}:::`);return w._redirectEventId=d,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),d})).apply(this,arguments)}class Wa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(d,b)&&(g=!0,this.sendToConsumer(d,b),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function qa(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return il(w);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var b;if(d.error&&!il(d)){const Y=(null===(b=d.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(at(this.auth,Y))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const b=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&b}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mo(d))}saveEventToCache(d){this.cachedEventUids.add(Mo(d)),this.lastProcessedEventTime=Date.now()}}function Mo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(d=>d).join("-")}function il({type:w,error:d}){return"unknown"===w&&"auth/no-auth-event"===d?.code}function Lu(w){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(w,d={}){return Pt(w,"GET","/v1/projects",d)})).apply(this,arguments)}const Vu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hc=/^https?/;function yu(){return(yu=(0,p.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:d}=yield Lu(w);for(const g of d)try{if(Fl(g))return}catch{}it(w,"unauthorized-domain")})).apply(this,arguments)}function Fl(w){const d=Mt(),{protocol:g,hostname:b}=new URL(d);if(w.startsWith("chrome-extension://")){const Fe=new URL(w);return""===Fe.hostname&&""===b?"chrome-extension:"===g&&w.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Fe.hostname===b}if(!hc.test(g))return!1;if(Vu.test(w))return b===w;const Y=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(b)}const ca=new Ne(3e4,6e4);function ka(){const w=wi().___jsl;if(w?.H)for(const d of Object.keys(w.H))if(w.H[d].r=w.H[d].r||[],w.H[d].L=w.H[d].L||[],w.H[d].r=[...w.H[d].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let sl=null;const fc=new Ne(5e3,15e3),Ca="__/auth/iframe",Rs="emulator/auth/iframe",ld={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Si=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(w){const d=w.config;ce(d.authDomain,w,"auth-domain-config-required");const g=d.emulator?je(d,Rs):`https://${w.config.authDomain}/${Ca}`,b={apiKey:d.apiKey,appName:w.name,v:A.SDK_VERSION},Y=Si.get(w.config.apiHost);Y&&(b.eid=Y);const ie=w._getFrameworks();return ie.length&&(b.fw=ie.join(",")),`${g}?${(0,V.xO)(b).slice(1)}`}function ol(){return ol=(0,p.Z)(function*(w){const d=yield function Za(w){return sl=sl||function Xo(w){return new Promise((d,g)=>{var b,Y,ie;function Fe(){ka(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ka(),g(at(w,"network-request-failed"))},timeout:ca.get()})}if(null!==(Y=null===(b=wi().gapi)||void 0===b?void 0:b.iframes)&&void 0!==Y&&Y.Iframe)d(gapi.iframes.getContext());else{if(null===(ie=wi().gapi)||void 0===ie||!ie.load){const yt=qr("iframefcb");return wi()[yt]=()=>{gapi.load?Fe():g(at(w,"network-request-failed"))},qn(`https://apis.google.com/js/api.js?onload=${yt}`).catch(Kt=>g(Kt))}Fe()}}).catch(d=>{throw sl=null,d})}(w),sl}(w),g=wi().gapi;return ce(g,w,"internal-error"),d.open({where:document.body,url:Fa(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ld,dontclear:!0},b=>new Promise(function(){var Y=(0,p.Z)(function*(ie,Fe){yield b.restyle({setHideOnLeave:!1});const yt=at(w,"network-request-failed"),Kt=wi().setTimeout(()=>{Fe(yt)},fc.get());function gn(){wi().clearTimeout(Kt),ie(b)}b.ping(gn).then(gn,()=>{Fe(yt)})});return function(ie,Fe){return Y.apply(this,arguments)}}()))}),ol.apply(this,arguments)}const I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,q=600,ue="_blank",Ce="http://localhost";class Oe{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const sn="__/auth/handler",Mn="emulator/auth/handler",or=encodeURIComponent("fac");function ar(w,d,g,b,Y,ie){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(w,d,g,b,Y,ie){ce(w.config.authDomain,w,"auth-domain-config-required"),ce(w.config.apiKey,w,"invalid-api-key");const Fe={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:b,v:A.SDK_VERSION,eventId:Y};if(d instanceof os){d.setDefaultLanguage(w.languageCode),Fe.providerId=d.providerId||"",(0,V.xb)(d.getCustomParameters())||(Fe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ln,wr]of Object.entries(ie||{}))Fe[Ln]=wr}if(d instanceof $s){const Ln=d.getScopes().filter(wr=>""!==wr);Ln.length>0&&(Fe.scopes=Ln.join(","))}w.tenantId&&(Fe.tid=w.tenantId);const yt=Fe;for(const Ln of Object.keys(yt))void 0===yt[Ln]&&delete yt[Ln];const Kt=yield w._getAppCheckToken(),gn=Kt?`#${or}=${encodeURIComponent(Kt)}`:"";return`${function Vs({config:w}){return w.emulator?je(w,Mn):`https://${w.authDomain}/${sn}`}(w)}?${(0,V.xO)(yt).slice(1)}${gn}`})).apply(this,arguments)}const Ya="webStorageSupport",Qa=class Vl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wo,this._completeRedirectFn=ba,this._overrideRedirectResult=dc}_openPopup(d,g,b,Y){var ie=this;return(0,p.Z)(function*(){var Fe;tn(null===(Fe=ie.eventManagers[d._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const yt=yield ar(d,g,b,Mt(),Y);return function mt(w,d,g,b=N,Y=q){const ie=Math.max((window.screen.availHeight-Y)/2,0).toString(),Fe=Math.max((window.screen.availWidth-b)/2,0).toString();let yt="";const Kt=Object.assign(Object.assign({},I),{width:b.toString(),height:Y.toString(),top:ie,left:Fe}),gn=(0,V.z$)().toLowerCase();g&&(yt=B(gn)?ue:g),x(gn)&&(d=d||Ce,Kt.scrollbars="yes");const Ln=Object.entries(Kt).reduce((Oo,[ao,_c])=>`${Oo}${ao}=${_c},`,"");if(function gt(w=(0,V.z$)()){var d;return Te(w)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(gn)&&"_self"!==yt)return function dn(w,d){const g=document.createElement("a");g.href=w,g.target=d;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(d||"",yt),new Oe(null);const wr=window.open(d||"",yt,Ln);ce(wr,w,"popup-blocked");try{wr.focus()}catch{}return new Oe(wr)}(d,yt,ia())})()}_openRedirect(d,g,b,Y){var ie=this;return(0,p.Z)(function*(){return yield ie._originValidation(d),function Qn(w){wi().location.href=w}(yield ar(d,g,b,Mt(),Y)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:Y,promise:ie}=this.eventManagers[g];return Y?Promise.resolve(Y):(tn(ie,"If manager is not set, promise should be"),ie)}const b=this.initAndGetManager(d);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const b=yield function Ll(w){return ol.apply(this,arguments)}(d),Y=new Wa(d);return b.register("authEvent",ie=>(ce(ie?.authEvent,d,"invalid-auth-event"),{status:Y.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:Y},g.iframes[d._key()]=b,Y})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Ya,{type:Ya},Y=>{var ie;const Fe=null===(ie=Y?.[0])||void 0===ie?void 0:ie[Ya];void 0!==Fe&&g(!!Fe),it(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Uu(w){return yu.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return an()||L()||Te()}};class Ro{constructor(d){this.factorId=d}_process(d,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,b);case"signin":return this._finalizeSignIn(d,g.credential);default:return kt("unexpected MultiFactorSessionType")}}}class Po extends Ro{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Po(d)}_finalizeEnroll(d,g,b){return function Cn(w,d){return Pt(w,"POST","/v2/accounts/mfaEnrollment:finalize",He(w,d))}(d,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function So(w,d){return Pt(w,"POST","/v2/accounts/mfaSignIn:finalize",He(w,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pc=(()=>{class w{constructor(){}static assertion(g){return Po._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var vu="@firebase/auth";class Ja{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(b=>{d(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vc=(0,V.Pz)("authIdTokenMaxAge")||300;let Bu=null;const ih=w=>function(){var d=(0,p.Z)(function*(g){const b=g&&(yield g.getIdTokenResult()),Y=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(Y&&Y>vc)return;const ie=b?.token;Bu!==ie&&(Bu=ie,yield fetch(w,{method:ie?"POST":"DELETE",headers:ie?{Authorization:`Bearer ${ie}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function hd(w=(0,A.getApp)()){const d=(0,A._getProvider)(w,"auth");if(d.isInitialized())return d.getImmediate();const g=function Qe(w,d){const g=(0,A._getProvider)(w,"auth");if(g.isInitialized()){const Y=g.getImmediate(),ie=g.getOptions();if((0,V.vZ)(ie,d??{}))return Y;it(Y,"already-initialized")}return g.initialize({options:d})}(w,{popupRedirectResolver:Qa,persistence:[Ha,lu,wo]}),b=(0,V.Pz)("authTokenSyncURL");if(b){const ie=ih(b);(function F(w,d,g){(0,V.m9)(w).beforeAuthStateChanged(d,g)})(g,ie,()=>ie(g.currentUser)),function z(w,d,g,b){(0,V.m9)(w).onIdTokenChanged(d,g,b)}(g,Fe=>ie(Fe))}const Y=(0,V.q4)("auth");return Y&&ht(g,`http://${Y}`),g}!function dd(w){(0,A._registerComponent)(new Ie.wA("auth",(d,{options:g})=>{const b=d.getProvider("app").getImmediate(),Y=d.getProvider("heartbeat"),ie=d.getProvider("app-check-internal"),{apiKey:Fe,authDomain:yt}=b.options;ce(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:b.name});const Kt={apiKey:Fe,authDomain:yt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(w)},gn=new Pr(b,Y,ie,Kt);return function fn(w,d){const g=d?.persistence||[],b=(Array.isArray(g)?g:[g]).map(sr);d?.errorMap&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(b,d?.popupRedirectResolver)}(gn,g),gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,b)=>{d.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new Ie.wA("auth-internal",d=>{const g=Un(d.getProvider("auth").getImmediate());return new Ja(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(vu,"0.23.2",function yc(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,A.registerVersion)(vu,"0.23.2","esm2017")}("Browser")},2810:(on,Pe,j)=>{"use strict";j.d(Pe,{u7:()=>If,Jj:()=>Su,IX:()=>Nm,my:()=>bs,xU:()=>uc,Lz:()=>Au,WA:()=>Dt,F8:()=>zd,$q:()=>Xd,W:()=>xu,EK:()=>ai,PU:()=>sg,l7:()=>ba,Ky:()=>rn,Xb:()=>lr,Cf:()=>Ur,K9:()=>Wi,Me:()=>ad,yq:()=>ir,Wi:()=>zp,ET:()=>qv,Ab:()=>uy,vr:()=>r_,Fc:()=>xv,hJ:()=>Wp,B$:()=>Tu,at:()=>Rm,oe:()=>ry,AK:()=>n_,TF:()=>Fm,JU:()=>Pm,ST:()=>Hd,fH:()=>Av,Ix:()=>km,Wu:()=>Ef,Lx:()=>Bv,qY:()=>Us,GL:()=>id,QT:()=>ey,kl:()=>eh,Xk:()=>th,PL:()=>zv,UQ:()=>Gv,zN:()=>Wv,ad:()=>Sv,nP:()=>i_,b9:()=>Z_,vh:()=>ur,Pb:()=>Rv,L$:()=>Lm,cf:()=>iy,sc:()=>Kv,Xo:()=>Zm,IO:()=>oc,iE:()=>Ua,Eo:()=>Tv,i3:()=>nh,Bt:()=>ay,pl:()=>ty,Ub:()=>Bt,qK:()=>Xm,TQ:()=>Uv,e0:()=>Vv,r7:()=>ny,Mx:()=>Mv,ar:()=>Lv});var fe,p=j(5861),V=j(6881),A=j(4859),Se=j(1877),ve=j(2090),Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},Be=Be||{},de=Ie||self;function ge(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function xe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function ft(r,e,t){return r.call.apply(r.bind,arguments)}function Re(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function ot(r,e,t){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:Re).apply(null,arguments)}function Ke(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function _t(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[a].apply(s,f)}}function it(){this.s=this.s,this.o=this.o}it.prototype.s=!1,it.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nt(r){Object.prototype.hasOwnProperty.call(r,st)&&r[st]||(r[st]=++wt)}(this)},it.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function It(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function ct(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ge(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function ce(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var kt=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return r}();function tn(r){return/^[\s\xa0]*$/.test(r)}function Mt(){var r=de.navigator;return r&&(r=r.userAgent)?r:""}function Ot(r){return-1!=Mt().indexOf(r)}function Nt(r){return Nt[" "](r),r}Nt[" "]=function(){};var Pt,r,Ze=Ot("Opera"),Ne=Ot("Trident")||Ot("MSIE"),je=Ot("Edge"),tt=je||Ne,dt=Ot("Gecko")&&!(-1!=Mt().toLowerCase().indexOf("webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),rt=-1!=Mt().toLowerCase().indexOf("webkit")&&!Ot("Edge");function He(){var r=de.document;return r?r.documentMode:void 0}e:{var Tn="",xt=(r=Mt(),dt?/rv:([^\);]+)(\)|;)/.exec(r):je?/Edge\/([\d\.]+)/.exec(r):Ne?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):rt?/WebKit\/(\S+)/.exec(r):Ze?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(xt&&(Tn=xt?xt[1]:""),Ne){var Ft=He();if(null!=Ft&&Ft>parseFloat(Tn)){Pt=String(Ft);break e}}Pt=Tn}var Gn=de.document&&Ne&&(He()||parseInt(Pt,10))||void 0;function tr(r,e){if(ce.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(dt){e:{try{Nt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:zn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&tr.$.h.call(this)}}_t(tr,ce);var zn={2:"touch",3:"pen",4:"mouse"};tr.prototype.h=function(){tr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function Wn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Tt,this.fa=this.ia=!1}function $n(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Rn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Lt(r){const e={};for(const t in r)e[t]=r[t];return e}const nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<nn.length;c++)t=nn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function dr(r){this.src=r,this.g={},this.h=0}function kr(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=pt(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&($n(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Er(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}dr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Er(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Wn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var _n="closure_lm_"+(1e6*Math.random()|0),wn={};function Gt(r,e,t,s,a){if(s&&s.once)return hr(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Gt(r,e[c],t,s,a);return null}return t=An(t),r&&r[Qt]?r.O(e,t,xe(s)?!!s.capture:!!s,a):Rt(r,e,t,!1,s,a)}function Rt(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=xe(a)?!!a.capture:!!a,T=Sn(r);if(T||(r[_n]=T=new dr(r)),(t=T.add(e,t,s,f,c)).proxy)return t;if(s=function Jn(){const e=fr;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)kt||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Sr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function hr(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)hr(r,e[c],t,s,a);return null}return t=An(t),r&&r[Qt]?r.P(e,t,xe(s)?!!s.capture:!!s,a):Rt(r,e,t,!0,s,a)}function rr(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)rr(r,e[c],t,s,a);else s=xe(s)?!!s.capture:!!s,t=An(t),r&&r[Qt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Er(c=r.g[e],t,s,a))&&($n(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Sn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Er(e,t,s,a)),(t=-1<r?e[r]:null)&&Rr(t))}function Rr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Qt])kr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Sr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Sn(e))?(kr(t,r),0==t.h&&(t.src=null,e[_n]=null)):$n(r)}}}function Sr(r){return r in wn?wn[r]:wn[r]="on"+r}function fr(r,e){if(r.fa)r=!0;else{e=new tr(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Rr(r),r=t.call(s,e)}return r}function Sn(r){return(r=r[_n])instanceof dr?r:null}var Br="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(r){return"function"==typeof r?r:(r[Br]||(r[Br]=function(e){return r.handleEvent(e)}),r[Br])}function Jt(){it.call(this),this.i=new dr(this),this.S=this,this.J=null}function Zt(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new ce(e,r);else if(e instanceof ce)e.target=e.target||r;else{var a=e;Zn(e=new ce(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=kn(f,s,!0,e)&&a}if(a=kn(f=e.g=r,s,!0,e)&&a,a=kn(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=kn(f=e.g=t[c],s,!1,e)&&a}function kn(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var T=f.listener,U=f.la||f.src;f.ia&&kr(r.i,f),a=!1!==T.call(U,s)&&a}}return a&&!s.defaultPrevented}_t(Jt,it),Jt.prototype[Qt]=!0,Jt.prototype.removeEventListener=function(r,e,t,s){rr(this,r,e,t,s)},Jt.prototype.N=function(){if(Jt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)$n(t[s]);delete r.g[e],r.h--}}this.J=null},Jt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Jt.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var jn=de.JSON.stringify;function sr(){var r=B;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var nr=new class Ir{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vr,r=>r.reset());class vr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _e(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function X(r){de.setTimeout(()=>{throw r},0)}let x,L=!1,B=new class $r{constructor(){this.h=this.g=null}add(e,t){const s=nr.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},ae=()=>{const r=de.Promise.resolve(void 0);x=()=>{r.then(oe)}};var oe=()=>{for(var r;r=sr();){try{r.h.call(r.g)}catch(t){X(t)}var e=nr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}L=!1};function le(r,e){Jt.call(this),this.h=r||1,this.g=e||de,this.j=ot(this.qb,this),this.l=Date.now()}function se(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Te(r,e,t){if("function"==typeof r)t&&(r=ot(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ot(r.handleEvent,r)}return 2147483647<Number(e)?-1:de.setTimeout(r,e||0)}function ze(r){r.g=Te(()=>{r.g=null,r.i&&(r.i=!1,ze(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}_t(le,Jt),(fe=le.prototype).ga=!1,fe.T=null,fe.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(se(this),this.start()))}},fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.N=function(){le.$.N.call(this),se(this),delete this.g};class gt extends it{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(r){it.call(this),this.h=r,this.g={}}_t(Ht,it);var an=[];function Xn(r,e,t,s){Array.isArray(t)||(t&&(an[0]=t.toString()),t=an);for(var a=0;a<t.length;a++){var c=Gt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Fr(r){Rn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Rr(e)},r),r.g={}}function We(){this.g=!0}function un(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return jn(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Ht.prototype.N=function(){Ht.$.N.call(this),Fr(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Ea=function(){this.g=!1},We.prototype.info=function(){};var Xt={},er=null;function qn(){return er=er||new Jt}function qr(r){ce.call(this,Xt.Ta,r)}function Dr(r){const e=qn();Zt(e,new qr(e))}function bi(r,e){ce.call(this,Xt.STAT_EVENT,r),this.stat=e}function zr(r){const e=qn();Zt(e,new bi(e,r))}function Bi(r,e){ce.call(this,Xt.Ua,r),this.size=e}function Gr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){r()},e)}Xt.Ta="serverreachability",_t(qr,ce),Xt.STAT_EVENT="statevent",_t(bi,ce),Xt.Ua="timingevent",_t(Bi,ce);var Wt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pr(){}function ui(){}Pr.prototype.h=null;var we,Qe={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fn(){ce.call(this,"d")}function ht(){ce.call(this,"c")}function Ae(){}function De(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Ht(this),this.P=bt,this.V=new le(r=tt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}_t(fn,ce),_t(ht,ce),_t(Ae,Pr),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},we=new Ae;var bt=45e3,yn={},xn={};function bn(r,e,t){r.L=1,r.v=Ai(Oi(e)),r.s=t,r.S=!0,Bn(r,null)}function Bn(r,e){r.G=Date.now(),ii(r),r.A=Oi(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ts(t.i,"t",s),r.C=0,t=r.l.J,r.h=new ut,r.g=zi(r.l,t?e:null,!r.s),0<r.O&&(r.M=new gt(ot(r.Pa,r,r.g),r.O)),Xn(r.U,r.g,"readystatechange",r.nb),e=r.I?Lt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Dr(),function ke(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",T=c.split("&"),U=0;U<T.length;U++){var G=T[U].split("=");if(1<G.length){var ne=G[0];G=G[1];var Ee=ne.split("_");f=2<=Ee.length&&"type"==Ee[1]?f+(ne+"=")+G+"&":f+(ne+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function gi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Jr(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Xr(r,t),a==xn){4==e&&(r.o=4,zr(14),s=!1),un(r.j,r.m,null,"[Incomplete Response]");break}if(a==yn){r.o=4,zr(15),un(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}un(r.j,r.m,a,null),is(r,a)}gi(r)&&a!=xn&&a!=yn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,zr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yn(e),e.M=!0,zr(11))):(un(r.j,r.m,t,"[Invalid Chunked Response]"),Pi(r),$i(r))}function Xr(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?xn:(t=Number(e.substring(t,s)),isNaN(t)?yn:(s+=1)+t>e.length?xn:(e=e.slice(s,s+t),r.C=s+t,e))}function ii(r){r.Y=Date.now()+r.P,Lr(r,r.P)}function Lr(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Gr(ot(r.lb,r),e)}function Ri(r){r.B&&(de.clearTimeout(r.B),r.B=null)}function $i(r){0==r.l.H||r.J||vi(r.l,r)}function Pi(r){Ri(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,se(r.V),Fr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function is(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||js(t.i,r)))if(!r.K&&js(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;br(t),vt(t)}Fn(t),zr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Gr(ot(t.ib,t),6e3));if(1>=as(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Or(t,11)}else if((r.K||t.g==r)&&br(t),!tn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let G=a[e];if(t.V=G[0],G=G[1],2==t.H)if("c"==G[0]){t.K=G[1],t.pa=G[2];const ne=G[3];null!=ne&&(t.ra=ne,t.l.info("VER="+t.ra));const Ee=G[4];null!=Ee&&(t.Ga=Ee,t.l.info("SVER="+t.Ga));const Ye=G[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(t.L=s=1.5*Ye,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Et=r.g;if(Et){const zt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var c=s.i;c.g||-1==zt.indexOf("spdy")&&-1==zt.indexOf("quic")&&-1==zt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Zi(c,c.h),c.h=null))}if(s.F){const En=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(s.Da=En,_r(s.I,s.F,En))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=fi(s,s.J?s.pa:null,s.Y),f.K){ys(s.i,f);var T=f,U=s.L;U&&T.setTimeout(U),T.B&&(Ri(T),ii(T)),s.g=f}else Ut(s);0<t.j.length&&D(t)}else"stop"!=G[0]&&"close"!=G[0]||Or(t,7);else 3==t.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Or(t,7):$e(t):"noop"!=G[0]&&t.h&&t.h.Aa(G),t.A=0)}Dr()}catch{}}function si(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ge(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function fs(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ge(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function hs(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ge(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(fe=De.prototype).setTimeout=function(r){this.P=r},fe.nb=function(r){r=r.target;const e=this.M;e&&3==Ci(r)?e.l():this.Pa(r)},fe.Pa=function(r){try{if(r==this.g)e:{const ne=Ci(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||tt||this.g&&(this.h.h||this.g.ja()||Hn(this.g)))){this.J||4!=ne||7==e||Dr(),Ri(this);var t=this.g.da();this.ca=t;t:if(gi(this)){var s=Hn(this.g);r="";var a=s.length,c=4==Ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),$i(this);var f="";break t}this.h.i=new de.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function St(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tn(T)){var G=T;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,zr(12),Pi(this),$i(this);break e}un(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,t)}this.S?(Jr(this,ne,f),tt&&this.i&&3==ne&&(Xn(this.U,this.V,"tick",this.mb),this.V.start())):(un(this.j,this.m,f,null),is(this,f)),4==ne&&Pi(this),this.i&&!this.J&&(4==ne?vi(this.l,this):(this.i=!1,ii(this)))}else(function Xs(r){const e={};r=(r.g&&2<=Ci(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(tn(r[s]))continue;var t=_e(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function ln(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),Pi(this),$i(this)}}}catch{}},fe.mb=function(){if(this.g){var r=Ci(this.g),e=this.g.ja();this.C<e.length&&(Ri(this),Jr(this,r,e),this.i&&4!=r&&ii(this))}},fe.cancel=function(){this.J=!0,Pi(this)},fe.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function pn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Dr(),zr(17)),Pi(this),this.o=2,$i(this)):Lr(this,this.Y-r)};var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ci){this.h=r.h,ps(this,r.j),this.s=r.s,this.g=r.g,Ds(this,r.m),this.l=r.l;var e=r.i,t=new ms;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oi(this,t),this.o=r.o}else r&&(e=String(r).match(bo))?(this.h=!1,ps(this,e[1]||"",!0),this.s=gs(e[2]||""),this.g=gs(e[3]||"",!0),Ds(this,e[4]),this.l=gs(e[5]||"",!0),oi(this,e[6]||"",!0),this.o=gs(e[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}function Oi(r){return new ci(r)}function ps(r,e,t){r.j=t?gs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ds(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function oi(r,e,t){e instanceof ms?(r.i=e,function Ns(r,e){e&&!r.j&&(ss(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(po(this,s),Ts(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=mi(e,Zo)),r.i=new ms(e,r.h))}function _r(r,e,t){r.i.set(e,t)}function Ai(r){return _r(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function gs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function mi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,qi),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function qi(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ci.prototype.toString=function(){var r=[],e=this.j;e&&r.push(mi(e,Ki,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(mi(e,Ki,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(mi(t,"/"==t.charAt(0)?Fo:Ys,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",mi(t,Os)),r.join("")};var Ki=/[#\/\?@]/g,Ys=/[#\?:]/g,Fo=/[#\?]/g,Zo=/[#\?@]/g,Os=/#/g;function ms(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ss(r){r.g||(r.g=new Map,r.h=0,r.i&&function li(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function po(r,e){ss(r),e=Ss(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function ji(r,e){return ss(r),e=Ss(r,e),r.g.has(e)}function Ts(r,e,t){po(r,e),0<t.length&&(r.i=null,r.g.set(Ss(r,e),It(t)),r.h+=t.length)}function Ss(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function As(r){this.l=r||os,r=de.PerformanceNavigationTiming?0<(r=de.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=ms.prototype).add=function(r,e){ss(this),this.i=null,r=Ss(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},fe.forEach=function(r,e){ss(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},fe.ta=function(){ss(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},fe.Z=function(r){ss(this);let e=[];if("string"==typeof r)ji(this,r)&&(e=e.concat(this.g.get(Ss(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},fe.set=function(r,e){return ss(this),this.i=null,ji(this,r=Ss(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},fe.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var os=10;function $s(r){return!!r.h||!!r.g&&r.g.size>=r.j}function as(r){return r.h?1:r.g?r.g.size:0}function js(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Zi(r,e){r.g?r.g.add(e):r.h=e}function ys(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function go(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return It(r.i)}As.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var vs=class{stringify(r){return de.JSON.stringify(r,void 0)}parse(r){return de.JSON.parse(r,void 0)}};function Yi(){this.g=new vs}function xs(r,e,t){const s=t||"";try{si(r,function(a,c){let f=a;xe(a)&&(f=jn(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Qi(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Hi(r){this.l=r.fc||null,this.j=r.ob||!1}function jr(r,e){Jt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(Hi,Pr),Hi.prototype.g=function(){return new jr(this.l,this.j)},Hi.prototype.i=function(r){return function(){return r}}({}),_t(jr,Jt);var us=0;function _s(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Yr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ni(r)}function Ni(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(fe=jr.prototype).open=function(r,e){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ni(this)},fe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yr(this)),this.readyState=us},fe.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_s(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},fe.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Yr(this):Ni(this),3==this.readyState&&_s(this)}},fe.Za=function(r){this.g&&(this.response=this.responseText=r,Yr(this))},fe.Ya=function(r){this.g&&(this.response=r,Yr(this))},fe.ka=function(){this.g&&Yr(this)},fe.setRequestHeader=function(r,e){this.v.append(r,e)},fe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Hs=de.JSON.parse;function cr(r){Jt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mo,this.L=this.M=!1}_t(cr,Jt);var mo="",yo=/^https?$/i,xi=["POST","PUT"];function Ms(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,hi(r),yi(r)}function hi(r){r.F||(r.F=!0,Zt(r,"complete"),Zt(r,"error"))}function Lo(r){if(r.h&&typeof Be<"u"&&(!r.C[1]||4!=Ci(r)||2!=r.da()))if(r.v&&4==Ci(r))Te(r.La,0,r);else if(Zt(r,"readystatechange"),4==Ci(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(bo)[1]||null;!a&&de.self&&de.self.location&&(a=de.self.location.protocol.slice(0,-1)),s=!yo.test(a?a.toLowerCase():"")}t=s}if(t)Zt(r,"complete"),Zt(r,"success");else{r.m=6;try{var c=2<Ci(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",hi(r)}}finally{yi(r)}}}function yi(r,e){if(r.g){ks(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Zt(r,"ready");try{t.onreadystatechange=s}catch{}}}function ks(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(de.clearTimeout(r.A),r.A=null)}function Ci(r){return r.g?r.g.readyState:0}function Hn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case mo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Z(r){let e="";return Rn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function K(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Z(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):_r(r,e,t))}function pe(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function be(r){this.Ga=0,this.j=[],this.l=new We,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pe("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pe("baseRetryDelayMs",5e3,r),this.hb=pe("retryDelaySeedMs",1e4,r),this.eb=pe("forwardChannelMaxRetries",2,r),this.xa=pe("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new As(r&&r.concurrentRequestLimit),this.Ja=new Yi,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $e(r){if(Vt(r),3==r.H){var e=r.W++,t=Oi(r.I);if(_r(t,"SID",r.K),_r(t,"RID",e),_r(t,"TYPE","terminate"),Q(r,t),(e=new De(r,r.l,e)).L=2,e.v=Ai(Oi(t)),t=!1,de.navigator&&de.navigator.sendBeacon)try{t=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=zi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ii(e)}mr(r)}function vt(r){r.g&&(Yn(r),r.g.cancel(),r.g=null)}function Vt(r){vt(r),r.u&&(de.clearTimeout(r.u),r.u=null),br(r),r.i.cancel(),r.m&&("number"==typeof r.m&&de.clearTimeout(r.m),r.m=null)}function D(r){if(!$s(r.i)&&!r.m){r.m=!0;var e=r.Na;x||ae(),L||(x(),L=!0),B.add(e,r),r.C=0}}function P(r,e){var t;t=e?e.m:r.W++;const s=Oi(r.I);_r(s,"SID",r.K),_r(s,"RID",t),_r(s,"AID",r.V),Q(r,s),r.o&&r.s&&K(s,r.o,r.s),t=new De(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Ve(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Zi(r.i,t),bn(t,s,e)}function Q(r,e){r.na&&Rn(r.na,function(t,s){_r(e,s,t)}),r.h&&si({},function(t,s){_r(e,s,t)})}function Ve(r,e,t){t=Math.min(r.j.length,t);var s=r.h?ot(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let T=!0;for(let U=0;U<t;U++){let G=a[U].g;const ne=a[U].map;if(G-=c,0>G)c=Math.max(0,a[U].g-100),T=!1;else try{xs(ne,f,"req"+G+"_")}catch{s&&s(ne)}}if(T){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Ut(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;x||ae(),L||(x(),L=!0),B.add(e,r),r.A=0}}function Fn(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Gr(ot(r.Ma,r),Kr(r,r.A)),r.A++,0))}function Yn(r){null!=r.B&&(de.clearTimeout(r.B),r.B=null)}function Qr(r){r.g=new De(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Oi(r.wa);_r(e,"RID","rpc"),_r(e,"SID",r.K),_r(e,"AID",r.V),_r(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&_r(e,"TO",r.qa),_r(e,"TYPE","xmlhttp"),Q(r,e),r.o&&r.s&&K(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Ai(Oi(e)),t.s=null,t.S=!0,Bn(t,r)}function br(r){null!=r.v&&(de.clearTimeout(r.v),r.v=null)}function vi(r,e){var t=null;if(r.g==e){br(r),Yn(r),r.g=null;var s=2}else{if(!js(r.i,e))return;t=e.F,ys(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Zt(s=qn(),new Bi(s,t)),D(r)}else Ut(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function R(r,e){return!(as(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Gr(ot(r.Na,r,e),Kr(r,r.C)),r.C++,0)))}(r,e)||2==s&&Fn(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Or(r,5);break;case 4:Or(r,10);break;case 3:Or(r,6);break;default:Or(r,2)}}function Kr(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Or(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=ot(r.pb,r);t||(t=new ci("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||ps(t,"https"),Ai(t)),function Js(r,e){const t=new We;if(de.Image){const s=new Image;s.onload=Ke(Qi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ke(Qi,t,s,"TestLoadImage: error",!1,e),s.onabort=Ke(Qi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ke(Qi,t,s,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else zr(2);r.H=0,r.h&&r.h.za(e),mr(r),Vt(r)}function mr(r){if(r.H=0,r.ma=[],r.h){const e=go(r.i);(0!=e.length||0!=r.j.length)&&(ct(r.ma,e),ct(r.ma,r.j),r.i.i.length=0,It(r.j),r.j.length=0),r.h.ya()}}function fi(r,e,t){var s=t instanceof ci?Oi(t):new ci(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Ds(s,s.m);else{var a=de.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ci(null);s&&ps(c,s),e&&(c.g=e),a&&Ds(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&_r(s,t,e),_r(s,"VER",r.ra),Q(r,s),s}function zi(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&r.Ha&&!r.va?new Hi({ob:!0}):r.va)).Oa(r.J),e}function ls(){}function Di(){if(Ne&&!(10<=Number(Gn)))throw Error("Environmental error: no available transport.")}function Ti(r,e){Jt.call(this),this.g=new be(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!tn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Vo(this)}function vo(r){fn.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ga(){ht.call(this),this.status=1}function Vo(r){this.g=r}function Fi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _o(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Nr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(fe=cr.prototype).Oa=function(r){this.M=r},fe.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():we.g(),this.C=function Un(r){return r.h||(r.h=r.i())}(this.u?this.u:we),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Ms(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=de.FormData&&r instanceof de.FormData,!(0<=pt(xi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ks(this),0<this.B&&((this.L=function di(r){return Ne&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=Te(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Ms(this,c)}},fe.ua=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},fe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Zt(this,"complete"),Zt(this,"abort"),yi(this))},fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yi(this,!0)),cr.$.N.call(this)},fe.La=function(){this.s||(this.G||this.v||this.l?Lo(this):this.kb())},fe.kb=function(){Lo(this)},fe.isActive=function(){return!!this.g},fe.da=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Hs(e)}},fe.Ia=function(){return this.m},fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=be.prototype).ra=8,fe.H=1,fe.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new De(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Lt(c),Zn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ve(this,a,e),_r(t=Oi(this.I),"RID",r),_r(t,"CVER",22),this.F&&_r(t,"X-HTTP-Session-Id",this.F),Q(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Z(c)))+"&"+e:this.o&&K(t,this.o,c)),Zi(this.i,a),this.bb&&_r(t,"TYPE","init"),this.P?(_r(t,"$req",e),_r(t,"SID","null"),a.aa=!0,bn(a,t,null)):bn(a,t,e),this.H=2}}else 3==this.H&&(r?P(this,r):0==this.j.length||$s(this.i)||P(this))},fe.Ma=function(){if(this.u=null,Qr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Gr(ot(this.jb,this),r)}},fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zr(10),vt(this),Qr(this))},fe.ib=function(){null!=this.v&&(this.v=null,vt(this),Fn(this),zr(19))},fe.pb=function(r){r?(this.l.info("Successfully pinged google.com"),zr(2)):(this.l.info("Failed to ping google.com"),zr(1))},fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(fe=ls.prototype).Ba=function(){},fe.Aa=function(){},fe.za=function(){},fe.ya=function(){},fe.isActive=function(){return!0},fe.Va=function(){},Di.prototype.g=function(r,e){return new Ti(r,e)},_t(Ti,Jt),Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;zr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=fi(r,null,r.Y),D(r)},Ti.prototype.close=function(){$e(this.g)},Ti.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=jn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&D(e)},Ti.prototype.N=function(){this.g.h=null,delete this.j,$e(this.g),delete this.g,Ti.$.N.call(this)},_t(vo,fn),_t(ga,ht),_t(Vo,ls),Vo.prototype.Ba=function(){Zt(this.g,"a")},Vo.prototype.Aa=function(r){Zt(this.g,new vo(r))},Vo.prototype.za=function(r){Zt(this.g,new ga)},Vo.prototype.ya=function(){Zt(this.g,"b")},_t(Fi,function _i(){this.blockSize=-1}),Fi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fi.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)_o(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){_o(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){_o(this,s),a=0;break}}this.h=a,this.i+=e},Fi.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Co={};function ta(r){return-128<=r&&128>r?function gr(r,e){var t=Co;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Nr([0|e],0>e?-1:0)}):new Nr([0|r],0>r?-1:0)}function Ji(r){if(isNaN(r)||!isFinite(r))return Fs;if(0>r)return Tr(Ji(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Do;return new Nr(e,0)}var Do=4294967296,Fs=ta(0),To=ta(1),zs=ta(16777216);function Xi(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Gi(r){return-1==r.h}function Tr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Nr(t,~r.h).add(To)}function Li(r,e){return r.add(Tr(e))}function Zr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Uo(r,e){this.g=r,this.h=e}function Gs(r,e){if(Xi(e))throw Error("division by zero");if(Xi(r))return new Uo(Fs,Fs);if(Gi(r))return e=Gs(Tr(r),e),new Uo(Tr(e.g),Tr(e.h));if(Gi(e))return e=Gs(r,Tr(e)),new Uo(Tr(e.g),e.h);if(30<r.g.length){if(Gi(r)||Gi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=To,s=e;0>=s.X(r);)t=ra(t),s=ra(s);var a=Yo(t,1),c=Yo(s,1);for(s=Yo(s,2),t=Yo(t,2);!Xi(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=Yo(s,1),t=Yo(t,1)}return e=Li(r,a.R(e)),new Uo(a,e)}for(a=Fs;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=Ji(t)).R(e);Gi(f)||0<f.X(r);)f=(c=Ji(t-=s)).R(e);Xi(c)&&(c=To),a=a.add(c),r=Li(r,f)}return new Uo(a,r)}function ra(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Nr(t,r.h)}function Yo(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Nr(a,r.h)}(fe=Nr.prototype).ea=function(){if(Gi(this))return-Tr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Do+s)*e,e*=Do}return r},fe.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Xi(this))return"0";if(Gi(this))return"-"+Tr(this).toString(r);for(var e=Ji(Math.pow(r,6)),t=this,s="";;){var a=Gs(t,e).g,c=((0<(t=Li(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Xi(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},fe.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},fe.X=function(r){return Gi(r=Li(this,r))?-1:Xi(r)?0:1},fe.abs=function(){return Gi(this)?Tr(this):this},fe.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Nr(t,-2147483648&t[t.length-1]?-1:0)},fe.R=function(r){if(Xi(this)||Xi(r))return Fs;if(Gi(this))return Gi(r)?Tr(this).R(Tr(r)):Tr(Tr(this).R(r));if(Gi(r))return Tr(this.R(Tr(r)));if(0>this.X(zs)&&0>r.X(zs))return Ji(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),T=r.D(a)>>>16,U=65535&r.D(a);t[2*s+2*a]+=f*U,Zr(t,2*s+2*a),t[2*s+2*a+1]+=c*U,Zr(t,2*s+2*a+1),t[2*s+2*a+1]+=f*T,Zr(t,2*s+2*a+1),t[2*s+2*a+2]+=c*T,Zr(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Nr(t,0)},fe.gb=function(r){return Gs(this,r).h},fe.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Nr(t,this.h&r.h)},fe.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Nr(t,this.h|r.h)},fe.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Nr(t,this.h^r.h)},Di.prototype.createWebChannel=Di.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Pn.COMPLETE="complete",ui.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Jt.prototype.listen=Jt.prototype.O,cr.prototype.listenOnce=cr.prototype.P,cr.prototype.getLastError=cr.prototype.Sa,cr.prototype.getLastErrorCode=cr.prototype.Ia,cr.prototype.getStatus=cr.prototype.da,cr.prototype.getResponseJson=cr.prototype.Wa,cr.prototype.getResponseText=cr.prototype.ja,cr.prototype.send=cr.prototype.ha,cr.prototype.setWithCredentials=cr.prototype.Oa,Fi.prototype.digest=Fi.prototype.l,Fi.prototype.reset=Fi.prototype.reset,Fi.prototype.update=Fi.prototype.j,Nr.prototype.add=Nr.prototype.add,Nr.prototype.multiply=Nr.prototype.R,Nr.prototype.modulo=Nr.prototype.gb,Nr.prototype.compare=Nr.prototype.X,Nr.prototype.toNumber=Nr.prototype.ea,Nr.prototype.toString=Nr.prototype.toString,Nr.prototype.getBits=Nr.prototype.D,Nr.fromNumber=Ji,Nr.fromString=function na(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Tr(na(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ji(Math.pow(e,8)),s=Fs,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=Ji(Math.pow(e,c)),s=s.R(c).add(Ji(f))):s=(s=s.R(t)).add(Ji(f))}return s};var xa=Me.createWebChannelTransport=function(){return new Di},Ws=Me.getStatEventTarget=function(){return qn()},Ls=Me.ErrorCode=Wt,ma=Me.EventType=Pn,Ma=Me.Event=Xt,O=Me.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},z=Me.FetchXmlHttpFactory=Hi,F=Me.WebChannel=ui,ee=Me.XhrIo=cr,ye=Me.Md5=Fi,et=Me.Integer=Nr;const E="@firebase/firestore";class C{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");let W="9.22.1";const he=new Se.Yd("@firebase/firestore");function Ge(){return he.logLevel}function Bt(r){he.setLogLevel(r)}function lt(r,...e){if(he.logLevel<=Se.in.DEBUG){const t=e.map(ki);he.debug(`Firestore (${W}): ${r}`,...t)}}function Cn(r,...e){if(he.logLevel<=Se.in.ERROR){const t=e.map(ki);he.error(`Firestore (${W}): ${r}`,...t)}}function ir(r,...e){if(he.logLevel<=Se.in.WARN){const t=e.map(ki);he.warn(`Firestore (${W}): ${r}`,...t)}}function ki(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function qt(r="Unexpected state"){const e=`FIRESTORE (${W}) INTERNAL ASSERTION FAILED: `+r;throw Cn(e),new Error(e)}function vn(r,e){r||qt()}function Wi(r,e){r||qt()}function jt(r,e){return r}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ra{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(C.UNAUTHENTICATED))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lu{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=G=>this.i!==a?(a=this.i,t(G)):Promise.resolve();let f=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Vi,e.enqueueRetryable(()=>c(this.currentUser))};const T=()=>{const G=f;e.enqueueRetryable((0,p.Z)(function*(){yield G.promise,yield c(s.currentUser)}))},U=G=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(G=>U(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?U(G):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Vi)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vn("string"==typeof s.accessToken),new Ra(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vn(null===e||"string"==typeof e),new C(e)}}class Ru{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=C.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class wo{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ru(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn("string"==typeof t.token),this.T=t.token,new Pl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ol(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class wi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ol(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Qn(r,e){return r<e?-1:r>e?1:0}function sa(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Ba(r){return r+"\0"}class ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ai(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(e){this.timestamp=e}static fromTimestamp(e){return new On(e)}static min(){return new On(new ai(0,0))}static max(){return new On(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class oa{constructor(e,t,s){void 0===t?t=0:t>e.length&&qt(),void 0===s?s=e.length-t:s>e.length-t&&qt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kn extends oa{construct(e,t,s){return new Kn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Dt(qe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Kn(t)}static emptyPath(){return new Kn([])}}const ws=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends oa{construct(e,t,s){return new lr(e,t,s)}static isValidIdentifier(e){return ws.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Dt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new Dt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[a+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Dt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,a+=2}else"`"===T?(f=!f,a++):"."!==T||f?(s+=T,a++):(c(),a++)}if(c(),f)throw new Dt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(t)}static emptyPath(){return new lr([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(Kn.fromString(e))}static fromName(e){return new rn(Kn.fromString(e).popFirst(5))}static empty(){return new rn(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new Kn(e.slice()))}}class Bo{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function ya(r){return r.fields.find(e=>2===e.kind)}function eo(r){return r.fields.filter(e=>2!==e.kind)}Bo.UNKNOWN_ID=-1;class $a{constructor(e,t){this.fieldPath=e,this.kind=t}}class _a{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _a(0,cs.min())}}function aa(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=On.fromTimestamp(1e9===s?new ai(t+1,0):new ai(t,s));return new cs(a,rn.empty(),e)}function Es(r){return new cs(r.readTime,r.key,-1)}class cs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new cs(On.min(),rn.empty(),-1)}static max(){return new cs(On.max(),rn.empty(),-1)}}function to(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=rn.comparator(r.documentKey,e.documentKey),0!==t?t:Qn(r.largestBatchId,e.largestBatchId))}const ja="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ha{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Is(r){return So.apply(this,arguments)}function So(){return So=(0,p.Z)(function*(r){if(r.code!==qe.FAILED_PRECONDITION||r.message!==ja)throw r;lt("LocalStore","Unexpectedly lost primary lease")}),So.apply(this,arguments)}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,s)=>{t(e)})}static reject(e){return new Je((t,s)=>{s(e)})}static waitFor(e){return new Je((t,s)=>{let a=0,c=0,f=!1;e.forEach(T=>{++a,T.next(()=>{++c,f&&c===a&&t()},U=>s(U))}),f=!0,c===a&&t()})}static or(e){let t=Je.resolve(!1);for(const s of e)t=t.next(a=>a?Je.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Je((s,a)=>{const c=e.length,f=new Array(c);let T=0;for(let U=0;U<c;U++){const G=U;t(e[G]).next(ne=>{f[G]=ne,++T,T===c&&s(f)},ne=>a(ne))}})}static doWhile(e,t){return new Je((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Ou{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Vi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new wa(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=Nu(s.target.error);this.v.reject(new wa(e,a))}}static open(e,t,s,a){try{return new Ou(t,e.transaction(a,s))}catch(c){throw new wa(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new el(t)}}class Ar{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Ar.S((0,ve.z$)())&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),ua(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ve.hl)())return!1;if(Ar.C())return!0;const e=(0,ve.z$)(),t=Ar.S(e),s=0<t&&t<10,a=Ar.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,p.Z)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{a(new wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const T=f.target.error;a("VersionError"===T.name?new Dt(qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new Dt(qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new wa(e,T))},c.onupgradeneeded=f=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,p.Z)(function*(){const f="readonly"===t;let T=0;for(;;){++T;try{c.db=yield c.$(e);const U=Ou.open(c.db,e,f?"readonly":"readwrite",s),G=a(U).next(ne=>(U.P(),ne)).catch(ne=>(U.abort(ne),Je.reject(ne))).toPromise();return G.catch(()=>{}),yield U.R,G}catch(U){const G=U,ne="FirebaseError"!==G.name&&T<3;if(lt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ne),c.close(),!ne)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ua(this.L.delete())}}class wa extends Dt{constructor(e,t){super(qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $o(r){return"IndexedDbTransactionError"===r.name}class el{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ua(s)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),ua(this.store.add(e))}get(e){return ua(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),ua(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),ua(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(f,T)=>{c.push(T)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Je((c,f)=>{a.onerror=T=>{f(T.target.error)},a.onsuccess=T=>{c(T.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Je((a,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,f,T)=>T.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Je((s,a)=>{t.onerror=c=>{const f=Nu(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(T=>{T?f.continue():s()}):s()}})}W(e,t){const s=[];return new Je((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const T=f.target.result;if(!T)return void a();const U=new cu(T),G=t(T.primaryKey,T.value,U);if(G instanceof Je){const ne=G.catch(Ee=>(U.done(),Je.reject(Ee)));s.push(ne)}U.isDone?a():null===U.K?T.continue():T.continue(U.K)}}).next(()=>Je.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ua(r){return new Je((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=Nu(s.target.error);t(a)}})}let Nl=!1;function Nu(r){const e=Ar.S((0,ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nl||(Nl=!0,setTimeout(()=>{throw s},0)),s}}return r}class Ea{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{lt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){$o(s)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Is(s)}yield t.et(6e4)}))}}class od{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Je.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return lt("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(T=>{a-=T,s.add(f)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(T=>(lt("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,t,T))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const f=Es(c);to(f,s)>0&&(s=f)}),new cs(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let no=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Mi(r){return null==r}function ro(r){return 0===r&&1/r==-1/0}function za(r){return"number"==typeof r&&Number.isInteger(r)&&!ro(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function es(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=jo(e)),e=qs(r.get(t),e);return jo(e)}function qs(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function jo(r){return r+"\x01\x01"}function io(r){const e=r.length;if(vn(e>=2),2===e)return vn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Kn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&qt(),r.charAt(f+1)){case"\x01":const T=r.substring(c,f);let U;0===a.length?U=T:(a+=T,U=a,a=""),s.push(U);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:qt()}c=f+2}return new Kn(s)}const Ia=["userId","batchId"];function Ho(r,e){return[r,es(e)]}function du(r,e,t){return[r,es(e),t]}const hu={},Ga=["prefixPath","collectionGroup","readTime","documentId"],fu=["prefixPath","collectionGroup","documentId"],so=["collectionGroup","readTime","prefixPath","documentId"],Oa=["canonicalId","targetId"],v=["targetId","path"],_=["path","targetId"],m=["collectionId","parent"],M=["indexId","uid"],$=["uid","sequenceNumber"],J=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],re=["indexId","uid","orderedDocumentKey"],Ue=["userId","collectionPath","documentId"],Ct=["userId","collectionPath","largestBatchId"],Yt=["userId","collectionGroup","largestBatchId"],cn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vr=[...cn,"documentOverlays"],Ei=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zo=Ei,Ks=[...zo,"indexConfiguration","indexState","indexEntries"];class Ao extends Ha{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ei(r,e){const t=jt(r);return Ar.M(t.ht,e)}function xo(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Eo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tl(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ri{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ui.RED,this.left=a??Ui.EMPTY,this.right=c??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ui(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ui.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const e=this.left.check();if(e!==this.right.check())throw qt();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ui(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pi{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dc(this.data.getIterator())}getIteratorFrom(e){return new dc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pi(this.comparator);return t.data=e,t}}class dc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pu(r){return r.hasNext()?r.getNext():void 0}class oo{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new oo([])}unionWith(e){let t=new pi(lr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class kl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ad(){return typeof atob<"u"}class ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kl("Invalid base64 string: "+a):a}}(e);return new ts(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const ud=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(vn(!!r),"string"==typeof r){let e=0;const t=ud.exec(r);if(vn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ii(r.seconds),nanos:Ii(r.nanos)}}function Ii(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function la(r){return"string"==typeof r?ts.fromBase64String(r):ts.fromUint8Array(r)}function nl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gu(r){const e=r.mapValue.fields.__previous_value__;return nl(e)?gu(e):e}function rl(r){const e=Na(r.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class Fu{constructor(e,t,s,a,c,f,T,U,G){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=U,this.useFetchStreams=G}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mu={nullValue:"NULL_VALUE"};function Go(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nl(r)?4:Xo(r)?9007199254740991:10:qt()}function Jo(r,e){if(r===e)return!0;const t=Go(r);if(t!==Go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rl(r).isEqual(rl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Na(s.timestampValue),f=Na(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,la(r.bytesValue).isEqual(la(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Ii(s.geoPointValue.latitude)===Ii(a.geoPointValue.latitude)&&Ii(s.geoPointValue.longitude)===Ii(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ii(s.integerValue)===Ii(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Ii(s.doubleValue),f=Ii(a.doubleValue);return c===f?ro(c)===ro(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return sa(r.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(xo(c)!==xo(f))return!1;for(const T in c)if(c.hasOwnProperty(T)&&(void 0===f[T]||!Jo(c[T],f[T])))return!1;return!0}(r,e);default:return qt()}var a}function Wa(r,e){return void 0!==(r.values||[]).find(t=>Jo(t,e))}function Mo(r,e){if(r===e)return 0;const t=Go(r),s=Go(e);if(t!==s)return Qn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=Ii(a.integerValue||a.doubleValue),T=Ii(c.integerValue||c.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(r,e);case 3:return il(r.timestampValue,e.timestampValue);case 4:return il(rl(r),rl(e));case 5:return Qn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=la(a),T=la(c);return f.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),T=c.split("/");for(let U=0;U<f.length&&U<T.length;U++){const G=Qn(f[U],T[U]);if(0!==G)return G}return Qn(f.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Qn(Ii(a.latitude),Ii(c.latitude));return 0!==f?f:Qn(Ii(a.longitude),Ii(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],T=c.values||[];for(let U=0;U<f.length&&U<T.length;++U){const G=Mo(f[U],T[U]);if(G)return G}return Qn(f.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Qo.mapValue&&c===Qo.mapValue)return 0;if(a===Qo.mapValue)return 1;if(c===Qo.mapValue)return-1;const f=a.fields||{},T=Object.keys(f),U=c.fields||{},G=Object.keys(U);T.sort(),G.sort();for(let ne=0;ne<T.length&&ne<G.length;++ne){const Ee=Qn(T[ne],G[ne]);if(0!==Ee)return Ee;const Ye=Mo(f[T[ne]],U[G[ne]]);if(0!==Ye)return Ye}return Qn(T.length,G.length)}(r.mapValue,e.mapValue);default:throw qt()}}function il(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Qn(r,e);const t=Na(r),s=Na(e),a=Qn(t.seconds,s.seconds);return 0!==a?a:Qn(t.nanos,s.nanos)}function qa(r){return Lu(r)}function Lu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Na(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?la(r.bytesValue).toBase64():"referenceValue"in r?rn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Lu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const T of a)f?f=!1:c+=",",c+=`${T}:${Lu(s.fields[T])}`;return c+"}"}(r.mapValue):qt();var e}function Vu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function hc(r){return!!r&&"integerValue"in r}function Uu(r){return!!r&&"arrayValue"in r}function yu(r){return!!r&&"nullValue"in r}function Fl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ca(r){return!!r&&"mapValue"in r}function ka(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Eo(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ka(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ka(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Xo(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function sl(r){return"nullValue"in r?mu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Vu(ba.empty(),rn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:qt()}function Za(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Vu(ba.empty(),rn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Qo:qt()}function fc(r,e){const t=Mo(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ca(r,e){const t=Mo(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Rs{constructor(e){this.value=e}static empty(){return new Rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ca(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(t)}setAll(e){let t=lr.emptyPath(),s={},a=[];e.forEach((f,T)=>{if(!t.isImmediateParentOf(T)){const U=this.getFieldsMap(t);this.applyChanges(U,s,a),s={},a=[],t=T.popLast()}f?s[T.lastSegment()]=ka(f):a.push(T.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ca(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ca(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Eo(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Rs(ka(this.value))}}function ld(r){const e=[];return Eo(r.fields,(t,s)=>{const a=new lr([t]);if(ca(s)){const c=ld(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new oo(e)}class Si{constructor(e,t,s,a,c,f,T){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=T}static newInvalidDocument(e){return new Si(e,0,On.min(),On.min(),On.min(),Rs.empty(),0)}static newFoundDocument(e,t,s,a){return new Si(e,1,t,On.min(),s,a,0)}static newNoDocument(e,t){return new Si(e,2,t,On.min(),On.min(),Rs.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,On.min(),On.min(),Rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,t){this.position=e,this.inclusive=t}}function Ll(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?rn.comparator(rn.fromName(f.referenceValue),t.key):Mo(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function ol(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Jo(r.position[t],e.position[t]))return!1;return!0}class I{constructor(e,t="asc"){this.field=e,this.dir=t}}function N(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class q{}class ue extends q{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Vs(e,t,s):"array-contains"===t?new Ro(e,s):"in"===t?new Po(e,s):"not-in"===t?new pc(e,s):"array-contains-any"===t?new gc(e,s):new ue(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ya(e,s):new Vl(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Mo(t,this.value)):null!==t&&Go(this.value)===Go(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ce extends q{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ce(e,t)}matches(e){return Oe(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Oe(r){return"and"===r.op}function mt(r){return"or"===r.op}function dn(r){return sn(r)&&Oe(r)}function sn(r){for(const e of r.filters)if(e instanceof Ce)return!1;return!0}function Mn(r){if(r instanceof ue)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(dn(r))return r.filters.map(e=>Mn(e)).join(",");{const e=r.filters.map(t=>Mn(t)).join(",");return`${r.op}(${e})`}}function or(r,e){return r instanceof ue?(t=r,(s=e)instanceof ue&&t.op===s.op&&t.field.isEqual(s.field)&&Jo(t.value,s.value)):r instanceof Ce?function(t,s){return s instanceof Ce&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&or(c,s.filters[f]),!0)}(r,e):void qt();var t,s}function ar(r,e){const t=r.filters.concat(e);return Ce.create(t,r.op)}function Zs(r){return r instanceof ue?`${(e=r).field.canonicalString()} ${e.op} ${qa(e.value)}`:r instanceof Ce?function(e){return e.op.toString()+" {"+e.getFilters().map(Zs).join(" ,")+"}"}(r):"Filter";var e}class Vs extends ue{constructor(e,t,s){super(e,t,s),this.key=rn.fromName(s.referenceValue)}matches(e){const t=rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ya extends ue{constructor(e,t){super(e,"in",t),this.keys=Qa(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vl extends ue{constructor(e,t){super(e,"not-in",t),this.keys=Qa(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qa(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>rn.fromName(s.referenceValue))}class Ro extends ue{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uu(t)&&Wa(t.arrayValue,this.value)}}class Po extends ue{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wa(this.value.arrayValue,t)}}class pc extends ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wa(this.value.arrayValue,t)}}class gc extends ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wa(this.value.arrayValue,s))}}class cd{constructor(e,t=null,s=[],a=[],c=null,f=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=T,this.dt=null}}function mc(r,e=null,t=[],s=[],a=null,c=null,f=null){return new cd(r,e,t,s,a,c,f)}function da(r){const e=jt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Mn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Mi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qa(s)).join(",")),e.dt=t}return e.dt}function vu(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!N(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!or(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ol(r.startAt,e.startAt)&&ol(r.endAt,e.endAt)}function al(r){return rn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Ja(r,e){return r.filters.filter(t=>t instanceof ue&&t.field.isEqual(e))}function yc(r,e,t){let s=mu,a=!0;for(const c of Ja(r,e)){let f=mu,T=!0;switch(c.op){case"<":case"<=":f=sl(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,T=!1;break;case"!=":case"not-in":f=mu}fc({value:s,inclusive:a},{value:f,inclusive:T})<0&&(s=f,a=T)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];fc({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function dd(r,e,t){let s=Qo,a=!0;for(const c of Ja(r,e)){let f=Qo,T=!0;switch(c.op){case">=":case">":f=Za(c.value),T=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,T=!1;break;case"!=":case"not-in":f=Qo}Ca({value:s,inclusive:a},{value:f,inclusive:T})>0&&(s=f,a=T)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];Ca({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class Xa{constructor(e,t=null,s=[],a=[],c=null,f="F",T=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=T,this.endAt=U,this.wt=null,this._t=null}}function vc(r,e,t,s,a,c,f,T){return new Xa(r,e,t,s,a,c,f,T)}function Bu(r){return new Xa(r)}function ih(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function hd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function w(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function d(r){return null!==r.collectionGroup}function g(r){const e=jt(r);if(null===e.wt){e.wt=[];const t=w(e),s=hd(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new I(t)),e.wt.push(new I(lr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new I(lr.keyField(),c))}}}return e.wt}function b(r){const e=jt(r);if(!e._t)if("F"===e.limitType)e._t=mc(e.path,e.collectionGroup,g(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of g(e))t.push(new I(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;e._t=mc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Y(r,e){e.getFirstInequalityField(),w(r);const t=r.filters.concat([e]);return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ie(r,e,t){return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Fe(r,e){return vu(b(r),b(e))&&r.limitType===e.limitType}function yt(r){return`${da(b(r))}|lt:${r.limitType}`}function Kt(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Zs(s)).join(", ")}]`),Mi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qa(s)).join(",")),`Target(${t})`}(b(r))}; limitType=${r.limitType})`}function gn(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):rn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of g(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const T=Ll(a,c,f);return a.inclusive?T<=0:T<0}(t.startAt,g(t),s)||t.endAt&&!function(a,c,f){const T=Ll(a,c,f);return a.inclusive?T>=0:T>0}(t.endAt,g(t),s)));var t,s}function Ln(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wr(r){return(e,t)=>{let s=!1;for(const a of g(r)){const c=Oo(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Oo(r,e,t){const s=r.field.isKeyField()?rn.comparator(e.key,t.key):function(a,c,f){const T=c.data.field(a),U=f.data.field(a);return null!==T&&null!==U?Mo(T,U):qt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return qt()}}class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return tl(this.inner)}size(){return this.innerSize}}const _c=new ri(rn.comparator);function Wo(){return _c}const $u=new ri(rn.comparator);function ul(...r){let e=$u;for(const t of r)e=e.insert(t.key,t);return e}function wc(r){let e=$u;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ea(){return _u()}function Ec(){return _u()}function _u(){return new ao(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ic=new ri(rn.comparator),Ul=new pi(rn.comparator);function yr(...r){let e=Ul;for(const t of r)e=e.add(t);return e}const bc=new pi(Qn);function Bl(){return bc}function sh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ro(e)?"-0":e}}function oh(r){return{integerValue:""+r}}function Cc(r,e){return za(e)?oh(e):sh(r,e)}class ah{constructor(){this._=void 0}}function cg(r,e,t){return r instanceof Dc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&nl(a)&&(a=gu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof ll?Rf(r,e):r instanceof wu?uh(r,e):function(s,a){const c=dg(s,a),f=hg(c)+hg(s.gt);return hc(c)&&hc(s.gt)?oh(f):sh(s.serializer,f)}(r,e)}function _y(r,e,t){return r instanceof ll?Rf(r,e):r instanceof wu?uh(r,e):t}function dg(r,e){return r instanceof eu?hc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Dc extends ah{}class ll extends ah{constructor(e){super(),this.elements=e}}function Rf(r,e){const t=fg(e);for(const s of r.elements)t.some(a=>Jo(a,s))||t.push(s);return{arrayValue:{values:t}}}class wu extends ah{constructor(e){super(),this.elements=e}}function uh(r,e){let t=fg(e);for(const s of r.elements)t=t.filter(a=>!Jo(a,s));return{arrayValue:{values:t}}}class eu extends ah{constructor(e,t){super(),this.serializer=e,this.gt=t}}function hg(r){return Ii(r.integerValue||r.doubleValue)}function fg(r){return Uu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class lh{constructor(e,t){this.field=e,this.transform=t}}class Pf{constructor(e,t){this.version=e,this.transformResults=t}}class ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class $l{}function ch(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Da(r.key,ds.none()):new Sc(r.key,r.data,ds.none());{const t=r.data,s=Rs.empty();let a=new pi(lr.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new ju(r.key,s,new oo(a.toArray()),ds.none())}}function pg(r,e,t){r instanceof Sc?function(s,a,c){const f=s.value.clone(),T=yg(s.fieldTransforms,a,c.transformResults);f.setAll(T),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ju?function(s,a,c){if(!fd(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=yg(s.fieldTransforms,a,c.transformResults),T=a.data;T.setAll(mg(s)),T.setAll(f),a.convertToFoundDocument(c.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tc(r,e,t,s){return r instanceof Sc?function(a,c,f,T){if(!fd(a.precondition,c))return f;const U=a.value.clone(),G=vg(a.fieldTransforms,T,c);return U.setAll(G),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null}(r,e,t,s):r instanceof ju?function(a,c,f,T){if(!fd(a.precondition,c))return f;const U=vg(a.fieldTransforms,T,c),G=c.data;return G.setAll(mg(a)),G.setAll(U),c.convertToFoundDocument(c.version,G).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ne=>ne.field))}(r,e,t,s):(f=t,fd(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function gg(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=dg(s.transform,a||null);null!=c&&(null===t&&(t=Rs.empty()),t.set(s.field,c))}return t||null}function Of(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&sa(t,s,(a,c)=>function wy(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof ll&&s instanceof ll||t instanceof wu&&s instanceof wu?sa(t.elements,s.elements,Jo):t instanceof eu&&s instanceof eu?Jo(t.gt,s.gt):t instanceof Dc&&s instanceof Dc);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Sc extends $l{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ju extends $l{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function yg(r,e,t){const s=new Map;vn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,T=e.data.field(c.field);s.set(c.field,_y(f,T,t[a]))}return s}function vg(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,cg(c,f,e))}return s}class Da extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jl extends $l{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&pg(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ec();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let T=this.applyToLocalView(f,c.mutatedFields);T=t.has(a.key)?null:T;const U=ch(f,T);null!==U&&s.set(a.key,U),f.isValidDocument()||f.convertToNoDocument(On.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yr())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,s)=>Of(t,s))&&sa(this.baseMutations,e.baseMutations,(t,s)=>Of(t,s))}}class _g{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){vn(e.mutations.length===s.length);let a=Ic;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new _g(e,t,s,a)}}class wg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class U_{constructor(e,t){this.count=e,this.unchangedNames=t}}var uo,ti;function Eg(r){switch(r){default:return qt();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}function Ig(r){if(void 0===r)return Cn("GRPC error has no .code"),qe.UNKNOWN;switch(r){case uo.OK:return qe.OK;case uo.CANCELLED:return qe.CANCELLED;case uo.UNKNOWN:return qe.UNKNOWN;case uo.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case uo.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case uo.INTERNAL:return qe.INTERNAL;case uo.UNAVAILABLE:return qe.UNAVAILABLE;case uo.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case uo.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case uo.NOT_FOUND:return qe.NOT_FOUND;case uo.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case uo.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case uo.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case uo.ABORTED:return qe.ABORTED;case uo.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case uo.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case uo.DATA_LOSS:return qe.DATA_LOSS;default:return qt()}}(ti=uo||(uo={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class kf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dh}static getOrCreateInstance(){return null===dh&&(dh=new kf),dh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let dh=null;function hh(){return new TextEncoder}const Hu=new et([4294967295,4294967295],0);function Ac(r){const e=hh().encode(r),t=new ye;return t.update(e),new Uint8Array(t.digest())}function Ff(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new et([t,s],0),new et([a,c],0)]}class fh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new xc(`Invalid padding: ${t}`);if(s<0)throw new xc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new xc(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new xc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=et.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(et.fromNumber(s)));return 1===a.compare(Hu)&&(a=new et([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ac(e),[s,a]=Ff(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new fh(c,a,t);return s.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const t=Ac(e),[s,a]=Ff(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ph(On.min(),a,new ri(Qn),Wo(),yr())}}class gh{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new gh(s,t,yr(),yr(),yr())}}class Lf{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class mh{constructor(e,t){this.targetId=e,this.Vt=t}}class yh{constructor(e,t,s=ts.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Ey{constructor(){this.St=0,this.Dt=bg(),this.Ct=ts.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yr(),t=yr(),s=yr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:qt()}}),new gh(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=bg()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class B_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wo(),this.zt=Vf(),this.Wt=new ri(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:qt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(al(f))if(0===a){const T=new rn(f.path);this.Yt(s,T,Si.newNoDocument(T,On.min()))}else vn(1===a);else{const T=this.ie(s);if(T!==a){const U=this.re(e,T);0!==U&&(this.ee(s),this.Wt=this.Wt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=kf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(G,ne,Ee){var Ye,Et,zt,En,Dn,xr;const ni={localCacheCount:ne,existenceFilterCount:Ee.count},Wr=Ee.unchangedNames;return Wr&&(ni.bloomFilter={applied:0===G,hashCount:null!==(Ye=Wr?.hashCount)&&void 0!==Ye?Ye:0,bitmapLength:null!==(En=null===(zt=null===(Et=Wr?.bits)||void 0===Et?void 0:Et.bitmap)||void 0===zt?void 0:zt.length)&&void 0!==En?En:0,padding:null!==(xr=null===(Dn=Wr?.bits)||void 0===Dn?void 0:Dn.padding)&&void 0!==xr?xr:0}),ni}(U,T,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:T=0}=s;let U,G;try{U=la(c).toUint8Array()}catch(ne){if(ne instanceof kl)return ir("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{G=new fh(U,f,T)}catch(ne){return ir(ne instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===G.It?1:a!==t-this.oe(e.targetId,G)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(T)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const T=this.se(f);if(T){if(c.current&&al(T.target)){const U=new rn(T.target.path);null!==this.jt.get(U)||this.ae(f,U)||this.Yt(f,U,Si.newNoDocument(U,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=yr();this.zt.forEach((c,f)=>{let T=!0;f.forEachWhile(U=>{const G=this.se(U);return!G||"TargetPurposeLimboResolution"===G.purpose||(T=!1,!1)}),T&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new ph(e,t,this.Wt,this.jt,s);return this.jt=Wo(),this.zt=Vf(),this.Wt=new ri(Qn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ey,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pi(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ey),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new ri(rn.comparator)}function bg(){return new ri(rn.comparator)}const Iy={asc:"ASCENDING",desc:"DESCENDING"},by={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cy={and:"AND",or:"OR"};class Cg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mc(r,e){return r.useProto3Json||Mi(e)?e:{value:e}}function Rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vh(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Dy(r,e){return Rc(r,e.toTimestamp())}function Hr(r){return vn(!!r),On.fromTimestamp(function(e){const t=Na(e);return new ai(t.seconds,t.nanos)}(r))}function Uf(r,e){return(t=r,new Kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Dg(r){const e=Kn.fromString(r);return vn(hl(e)),e}function Hl(r,e){return Uf(r.databaseId,e.path)}function tu(r,e){const t=Dg(e);if(t.get(1)!==r.databaseId.projectId)throw new Dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new rn(Sg(t))}function Bf(r,e){return Uf(r.databaseId,e)}function Tg(r){const e=Dg(r);return 4===e.length?Kn.emptyPath():Sg(e)}function pd(r){return new Kn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Sg(r){return vn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function $f(r,e,t){return{name:Hl(r,e),fields:t.value.mapValue.fields}}function Ty(r,e,t){const s=tu(r,e.name),a=Hr(e.updateTime),c=e.createTime?Hr(e.createTime):On.min(),f=new Rs({mapValue:{fields:e.fields}}),T=Si.newFoundDocument(s,a,c,f);return t&&T.setHasCommittedMutations(),t?T.setHasCommittedMutations():T}function zl(r,e){let t;if(e instanceof Sc)t={update:$f(r,e.key,e.value)};else if(e instanceof Da)t={delete:Hl(r,e.key)};else if(e instanceof ju)t={update:$f(r,e.key,e.data),updateMask:Pg(e.fieldMask)};else{if(!(e instanceof jl))return qt();t={verify:Hl(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof eu)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw qt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Dy(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:qt()),t;var a}function _h(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ds.updateTime(Hr(a.updateTime)):void 0!==a.exists?ds.exists(a.exists):ds.none():ds.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let T=null;"setToServerValue"in f?(vn("REQUEST_TIME"===f.setToServerValue),T=new Dc):"appendMissingElements"in f?T=new ll(f.appendMissingElements.values||[]):"removeAllFromArray"in f?T=new wu(f.removeAllFromArray.values||[]):"increment"in f?T=new eu(c,f.increment):qt();const U=lr.fromServerFormat(f.fieldPath);return new lh(U,T)}(r,a)):[];var a;if(e.update){const a=tu(r,e.update.name),c=new Rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new oo((e.updateMask.fieldPaths||[]).map(G=>lr.fromServerFormat(G)));return new ju(a,c,f,t,s)}return new Sc(a,c,t,s)}if(e.delete){const a=tu(r,e.delete);return new Da(a,t)}if(e.verify){const a=tu(r,e.verify);return new jl(a,t)}return qt()}function jf(r,e){return{documents:[Bf(r,e.path)]}}function xg(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Bf(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bf(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(U){if(0!==U.length)return Wf(Ce.create(U,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(U){if(0!==U.length)return U.map(G=>{return{field:cl((ne=G).field),direction:zf(ne.dir)};var ne})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Mc(r,e.limit);var T,U;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function Mg(r){let e=Tg(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){vn(1===s);const ne=t.from[0];ne.allDescendants?a=ne.collectionId:e=e.child(ne.collectionId)}let c=[];t.where&&(c=function(ne){const Ee=Hf(ne);return Ee instanceof Ce&&dn(Ee)?Ee.getFilters():[Ee]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(ne=>{return new I(dl((Ee=ne).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let T=null;t.limit&&(T=function(ne){let Ee;return Ee="object"==typeof ne?ne.value:ne,Mi(Ee)?null:Ee}(t.limit));let U=null;var ne;t.startAt&&(U=new Fa((ne=t.startAt).values||[],!!ne.before));let G=null;return t.endAt&&(G=function(ne){return new Fa(ne.values||[],!ne.before)}(t.endAt)),vc(e,a,f,c,T,"F",U,G)}function Hf(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dl(e.unaryFilter.field);return ue.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=dl(e.unaryFilter.field);return ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dl(e.unaryFilter.field);return ue.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=dl(e.unaryFilter.field);return ue.create(c,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(r):void 0!==r.fieldFilter?ue.create(dl((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ce.create(e.compositeFilter.filters.map(t=>Hf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return qt()}}(e.compositeFilter.op))}(r):qt();var e}function zf(r){return Iy[r]}function j_(r){return by[r]}function Gf(r){return Cy[r]}function cl(r){return{fieldPath:r.canonicalString()}}function dl(r){return lr.fromServerFormat(r.fieldPath)}function Wf(r){return r instanceof ue?function(e){if("=="===e.op){if(Fl(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if(yu(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fl(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if(yu(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:j_(e.op),value:e.value}}}(r):r instanceof Ce?function(e){const t=e.getFilters().map(s=>Wf(s));return 1===t.length?t[0]:{compositeFilter:{op:Gf(e.op),filters:t}}}(r):qt()}function Pg(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hl(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class zu{constructor(e,t,s,a,c=On.min(),f=On.min(),T=ts.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=U}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wh{constructor(e){this.fe=e}}function Og(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Hl(a=r.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Rc(a,c.version.toTimestamp()),createTime:Rc(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Eu(e.version)};else{if(!e.isUnknownDocument())return qt();s.unknownDocument={path:t.path.toArray(),version:Eu(e.version)}}var a,c;return s}function Pc(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Eu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ta(r){const e=new ai(r.seconds,r.nanoseconds);return On.fromTimestamp(e)}function fl(r,e){const t=(e.baseMutations||[]).map(c=>_h(r.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>_h(r.fe,c)),a=ai.fromMillis(e.localWriteTimeMs);return new Nf(e.batchId,a,t,s)}function Gl(r){const e=Ta(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Ta(r.lastLimboFreeSnapshotVersion):On.min();let s;var a;return void 0!==r.query.documents?(vn(1===(a=r.query).documents.length),s=b(Bu(Tg(a.documents[0])))):s=b(Mg(r.query)),new zu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,ts.fromBase64String(r.resumeToken))}function Ng(r,e){const t=Eu(e.snapshotVersion),s=Eu(e.lastLimboFreeSnapshotVersion);let a;a=al(e.target)?jf(r.fe,e.target):xg(r.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:da(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function qf(r){const e=Mg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ie(e,e.limit,"L"):e}function Ih(r,e){return new wg(e.largestBatchId,_h(r.fe,e.overlayMutation))}function Wl(r,e){const t=e.path.lastSegment();return[r,es(e.path.popLast()),t]}function kg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Eu(s.readTime),documentKey:es(s.documentKey.path),largestBatchId:s.largestBatchId}}class Sy{getBundleMetadata(e,t){return Fg(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Ta(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Fg(e).put({bundleId:(s=t).id,createTime:Eu(Hr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return bh(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:qf(a.bundledQuery),readTime:Ta(a.readTime)};var a})}saveNamedQuery(e,t){return bh(e).put({name:(s=t).name,readTime:Eu(Hr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Fg(r){return ei(r,"bundles")}function bh(r){return ei(r,"namedQueries")}class Ch{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ch(e,t.uid||"")}getOverlay(e,t){return Oc(e).get(Wl(this.userId,t)).next(s=>s?Ih(this.serializer,s):null)}getOverlays(e,t){const s=ea();return Je.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,f)=>{const T=new wg(t,f);a.push(this.we(e,T))}),Je.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(es(f.getCollectionPath())));const c=[];return a.forEach(f=>{const T=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Oc(e).J("collectionPathOverlayIndex",T))}),Je.waitFor(c)}getOverlaysForCollection(e,t,s){const a=ea(),c=es(t),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Oc(e).j("collectionPathOverlayIndex",f).next(T=>{for(const U of T){const G=Ih(this.serializer,U);a.set(G.getKey(),G)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=ea();let f;const T=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Oc(e).X({index:"collectionGroupOverlayIndex",range:T},(U,G,ne)=>{const Ee=Ih(this.serializer,G);c.size()<a||Ee.largestBatchId===f?(c.set(Ee.getKey(),Ee),f=Ee.largestBatchId):ne.done()}).next(()=>c)}we(e,t){return Oc(e).put(function(s,a,c){const[f,T,U]=Wl(a,c.mutation.key);return{userId:a,collectionPath:T,documentId:U,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:zl(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Oc(r){return ei(r,"documentOverlays")}class ql{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ii(e.integerValue));else if("doubleValue"in e){const s=Ii(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),ro(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(la(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Xo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):qt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),rn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Lg(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Ay(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Lg(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}ql.Ve=new ql;class xy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Ay(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Ay(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class md{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class My{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Iu{constructor(){this.je=new xy,this.ze=new md(this.je),this.We=new My(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class nu{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new nu(this.indexId,this.documentKey,this.arrayValue,s)}}function pl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Kf(r.arrayValue,e.arrayValue),0!==t?t:(t=Kf(r.directionalValue,e.directionalValue),0!==t?t:rn.comparator(r.documentKey,e.documentKey)))}function Kf(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Ry{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){vn(e.collectionGroup===this.collectionId);const t=ya(e);if(void 0!==t&&!this.en(t))return!1;const s=eo(e);let a=0,c=0;for(;a<s.length&&this.en(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Ze){const f=s[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[c++],f))return!1;++a}for(;a<s.length;++a)if(c>=this.Ye.length||!this.sn(this.Ye[c++],s[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Vg(r){var e,t;if(vn(r instanceof ue||r instanceof Ce),r instanceof ue){if(r instanceof Po){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>ue.create(r.field,"==",c)))||[];return Ce.create(a,"or")}return r}const s=r.filters.map(a=>Vg(a));return Ce.create(s,r.op)}function Py(r){if(0===r.getFilters().length)return[];const e=yd(Vg(r));return vn(Sh(e)),Dh(e)||Th(e)?[e]:e.getFilters()}function Dh(r){return r instanceof ue}function Th(r){return r instanceof Ce&&dn(r)}function Sh(r){return Dh(r)||Th(r)||function(e){if(e instanceof Ce&&mt(e)){for(const t of e.getFilters())if(!Dh(t)&&!Th(t))return!1;return!0}return!1}(r)}function yd(r){if(vn(r instanceof ue||r instanceof Ce),r instanceof ue)return r;if(1===r.filters.length)return yd(r.filters[0]);const e=r.filters.map(s=>yd(s));let t=Ce.create(e,r.op);return t=gl(t),Sh(t)?t:(vn(t instanceof Ce),vn(Oe(t)),vn(t.filters.length>1),t.filters.reduce((s,a)=>Zf(s,a)))}function Zf(r,e){let t;return vn(r instanceof ue||r instanceof Ce),vn(e instanceof ue||e instanceof Ce),t=r instanceof ue?e instanceof ue?Ce.create([r,e],"and"):Ah(r,e):e instanceof ue?Ah(e,r):function(s,a){if(vn(s.filters.length>0&&a.filters.length>0),Oe(s)&&Oe(a))return ar(s,a.getFilters());const c=mt(s)?s:a,f=mt(s)?a:s,T=c.filters.map(U=>Zf(U,f));return Ce.create(T,"or")}(r,e),gl(t)}function Ah(r,e){if(Oe(e))return ar(e,r.getFilters());{const t=e.filters.map(s=>Zf(r,s));return Ce.create(t,"or")}}function gl(r){if(vn(r instanceof ue||r instanceof Ce),r instanceof ue)return r;const e=r.getFilters();if(1===e.length)return gl(e[0]);if(sn(r))return r;const t=e.map(a=>gl(a)),s=[];return t.forEach(a=>{a instanceof ue?s.push(a):a instanceof Ce&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Ce.create(s,r.op)}class Oy{constructor(){this.rn=new Yf}addToCollectionParentIndex(e,t){return this.rn.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(cs.min())}updateCollectionGroup(e,t,s){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class Yf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new pi(Kn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pi(Kn.comparator)).toArray()}}const xh=new Uint8Array(0);class Ny{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Yf,this.un=new ao(s=>da(s),(s,a)=>vu(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:es(a)};return Ug(e).put(c)}return Je.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ba(t),""],!1,!0);return Ug(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;s.push(io(f.parent))}return s})}addFieldIndex(e,t){const s=Mh(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var f;delete a.indexId;const c=s.add(a);if(t.indexState){const f=bu(e);return c.next(T=>{f.put(kg(T,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Mh(e),a=bu(e),c=vd(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=vd(e);let a=!0;const c=new Map;return Je.forEach(this.cn(t),f=>this.an(e,f).next(T=>{a&&(a=!!T),c.set(f,T)})).next(()=>{if(a){let f=yr();const T=[];return Je.forEach(c,(U,G)=>{var ne;lt("IndexedDbIndexManager",`Using index ${ne=U,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(Wr=>`${Wr.fieldPath}:${Wr.kind}`).join(",")}`} to execute ${da(t)}`);const Ee=function(Wr,ho){const Bs=ya(ho);if(void 0===Bs)return null;for(const rs of Ja(Wr,Bs.fieldPath))switch(rs.op){case"array-contains-any":return rs.value.arrayValue.values||[];case"array-contains":return[rs.value]}return null}(G,U),Ye=function(Wr,ho){const Bs=new Map;for(const rs of eo(ho))for(const pa of Ja(Wr,rs.fieldPath))switch(pa.op){case"==":case"in":Bs.set(rs.fieldPath.canonicalString(),pa.value);break;case"not-in":case"!=":return Bs.set(rs.fieldPath.canonicalString(),pa.value),Array.from(Bs.values())}return null}(G,U),Et=function(Wr,ho){const Bs=[];let rs=!0;for(const pa of eo(ho)){const lc=0===pa.kind?yc(Wr,pa.fieldPath,Wr.startAt):dd(Wr,pa.fieldPath,Wr.startAt);Bs.push(lc.value),rs&&(rs=lc.inclusive)}return new Fa(Bs,rs)}(G,U),zt=function(Wr,ho){const Bs=[];let rs=!0;for(const pa of eo(ho)){const lc=0===pa.kind?dd(Wr,pa.fieldPath,Wr.endAt):yc(Wr,pa.fieldPath,Wr.endAt);Bs.push(lc.value),rs&&(rs=lc.inclusive)}return new Fa(Bs,rs)}(G,U),En=this.hn(U,G,Et),Dn=this.hn(U,G,zt),xr=this.ln(U,G,Ye),ni=this.fn(U.indexId,Ee,En,Et.inclusive,Dn,zt.inclusive,xr);return Je.forEach(ni,Wr=>s.H(Wr,t.limit).next(ho=>{ho.forEach(Bs=>{const rs=rn.fromSegments(Bs.documentKey);f.has(rs)||(f=f.add(rs),T.push(rs))})}))}).next(()=>T)}return Je.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Py(Ce.create(e.filters,"and")).map(s=>mc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,f,T){const U=(null!=t?t.length:1)*Math.max(s.length,c.length),G=U/(null!=t?t.length:1),ne=[];for(let Ee=0;Ee<U;++Ee){const Ye=t?this.dn(t[Ee/G]):xh,Et=this.wn(e,Ye,s[Ee%G],a),zt=this._n(e,Ye,c[Ee%G],f),En=T.map(Dn=>this.wn(e,Ye,Dn,!0));ne.push(...this.createRange(Et,zt,En))}return ne}wn(e,t,s,a){const c=new nu(e,rn.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new nu(e,rn.empty(),t,s);return a?c.Je():c}an(e,t){const s=new Ry(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const T of c)s.tn(T)&&(!f||T.fields.length>f.fields.length)&&(f=T);return f})}getIndexType(e,t){let s=2;const a=this.cn(t);return Je.forEach(a,c=>this.an(e,c).next(f=>{f?0!==s&&f.fields.length<function(T){let U=new pi(lr.comparator),G=!1;for(const ne of T.filters)for(const Ee of ne.getFlattenedFilters())Ee.field.isKeyField()||("array-contains"===Ee.op||"array-contains-any"===Ee.op?G=!0:U=U.add(Ee.field));for(const ne of T.orderBy)ne.field.isKeyField()||(U=U.add(ne.field));return U.size+(G?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Iu;for(const a of eo(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=s.He(a.kind);ql.Ve._e(c,f)}return s.Qe()}dn(e){const t=new Iu;return ql.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Iu;return ql.Ve._e(Vu(this.databaseId,t),s.He(function(a){const c=eo(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Iu);let c=0;for(const f of eo(e)){const T=s[c++];for(const U of a)if(this.yn(t,f.fieldPath)&&Uu(T))a=this.pn(a,f,T);else{const G=U.He(f.kind);ql.Ve._e(T,G)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const f of s.arrayValue.values||[])for(const T of a){const U=new Iu;U.seed(T.Qe()),ql.Ve._e(f,U.He(t.kind)),c.push(U)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof ue&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Mh(e),a=bu(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const f=[];return Je.forEach(c,T=>a.get([T.indexId,this.uid]).next(U=>{f.push(function(G,ne){const Ee=ne?new _a(ne.sequenceNumber,new cs(Ta(ne.readTime),new rn(io(ne.documentKey)),ne.largestBatchId)):_a.empty(),Ye=G.fields.map(([Et,zt])=>new $a(lr.fromServerFormat(Et),zt));return new Bo(G.indexId,G.collectionGroup,Ye,Ee)}(T,U))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Qn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Mh(e),c=bu(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>Je.forEach(T,U=>c.put(kg(U.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return Je.forEach(t,(a,c)=>{const f=s.get(a.collectionGroup);return(f?Je.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(T=>(s.set(a.collectionGroup,T),Je.forEach(T,U=>this.En(e,a,U).next(G=>{const ne=this.An(c,U);return G.isEqual(ne)?Je.resolve():this.vn(e,c,U,G,ne)}))))})}Rn(e,t,s,a){return vd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return vd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=vd(e);let c=new pi(pl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(f,T)=>{c=c.add(new nu(s.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>c)}An(e,t){let s=new pi(pl);const a=this.mn(t,e);if(null==a)return s;const c=ya(t);if(null!=c){const f=e.data.field(c.fieldPath);if(Uu(f))for(const T of f.arrayValue.values||[])s=s.add(new nu(t.indexId,e.key,this.dn(T),a))}else s=s.add(new nu(t.indexId,e.key,xh,a));return s}vn(e,t,s,a,c){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(T,U,G,ne,Ee){const Ye=T.getIterator(),Et=U.getIterator();let zt=pu(Ye),En=pu(Et);for(;zt||En;){let Dn=!1,xr=!1;if(zt&&En){const ni=G(zt,En);ni<0?xr=!0:ni>0&&(Dn=!0)}else null!=zt?xr=!0:Dn=!0;Dn?(ne(En),En=pu(Et)):xr?(Ee(zt),zt=pu(Ye)):(zt=pu(Ye),En=pu(Et))}}(a,c,pl,T=>{f.push(this.Rn(e,t,s,T))},T=>{f.push(this.Pn(e,t,s,T))}),Je.waitFor(f)}Tn(e){let t=1;return bu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,T)=>pl(f,T)).filter((f,T,U)=>!T||0!==pl(f,U[T-1]));const a=[];a.push(e);for(const f of s){const T=pl(f,e),U=pl(f,t);if(0===T)a[0]=e.Je();else if(T>0&&U<0)a.push(f),a.push(f.Je());else if(U>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,xh,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,xh,[]]))}return c}bn(e,t){return pl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cu)}getMinOffset(e,t){return Je.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||qt())).next(Cu)}}function Ug(r){return ei(r,"collectionParents")}function vd(r){return ei(r,"indexEntries")}function Mh(r){return ei(r,"indexConfiguration")}function bu(r){return ei(r,"indexState")}function Cu(r){vn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;to(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new cs(e.readTime,e.documentKey,t)}const Bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ky(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let T=0;const U=s.X({range:f},(ne,Ee,Ye)=>(T++,Ye.delete()));c.push(U.next(()=>{vn(1===T)}));const G=[];for(const ne of t.mutations){const Ee=du(e,ne.key.path,t.batchId);c.push(a.delete(Ee)),G.push(ne.key)}return Je.waitFor(c).next(()=>G)}function Qf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw qt();e=r.noDocument}return JSON.stringify(e).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class _d{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){vn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new _d(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).X({index:"userMutationsIndex",range:s},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Kl(e),f=Gu(e);return f.add({}).next(T=>{vn("number"==typeof T);const U=new Nf(T,t,s,a),G=function(Ye,Et,zt){const En=zt.baseMutations.map(xr=>zl(Ye.fe,xr)),Dn=zt.mutations.map(xr=>zl(Ye.fe,xr));return{userId:Et,batchId:zt.batchId,localWriteTimeMs:zt.localWriteTime.toMillis(),baseMutations:En,mutations:Dn}}(this.serializer,this.userId,U),ne=[];let Ee=new pi((Ye,Et)=>Qn(Ye.canonicalString(),Et.canonicalString()));for(const Ye of a){const Et=du(this.userId,Ye.key.path,T);Ee=Ee.add(Ye.key.path.popLast()),ne.push(f.put(G)),ne.push(c.put(Et,hu))}return Ee.forEach(Ye=>{ne.push(this.indexManager.addToCollectionParentIndex(e,Ye))}),e.addOnCommittedListener(()=>{this.Vn[T]=U.keys()}),Je.waitFor(ne).next(()=>U)})}lookupMutationBatch(e,t){return Gu(e).get(t).next(s=>s?(vn(s.userId===this.userId),fl(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Je.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Gu(e).X({index:"userMutationsIndex",range:a},(f,T,U)=>{T.userId===this.userId&&(vn(T.batchId>=s),c=fl(this.serializer,T)),U.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Gu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).j("userMutationsIndex",t).next(s=>s.map(a=>fl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ho(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Kl(e).X({range:a},(f,T,U)=>{const[G,ne,Ee]=f,Ye=io(ne);if(G===this.userId&&t.path.isEqual(Ye))return Gu(e).get(Ee).next(Et=>{if(!Et)throw qt();vn(Et.userId===this.userId),c.push(fl(this.serializer,Et))});U.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pi(Qn);const a=[];return t.forEach(c=>{const f=Ho(this.userId,c.path),T=IDBKeyRange.lowerBound(f),U=Kl(e).X({range:T},(G,ne,Ee)=>{const[Ye,Et,zt]=G,En=io(Et);Ye===this.userId&&c.path.isEqual(En)?s=s.add(zt):Ee.done()});a.push(U)}),Je.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Ho(this.userId,s),f=IDBKeyRange.lowerBound(c);let T=new pi(Qn);return Kl(e).X({range:f},(U,G,ne)=>{const[Ee,Ye,Et]=U,zt=io(Ye);Ee===this.userId&&s.isPrefixOf(zt)?zt.length===a&&(T=T.add(Et)):ne.done()}).next(()=>this.Dn(e,T))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Gu(e).get(c).next(f=>{if(null===f)throw qt();vn(f.userId===this.userId),s.push(fl(this.serializer,f))}))}),Je.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return ky(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Je.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Kl(e).X({range:s},(c,f,T)=>{if(c[0]===this.userId){const U=io(c[1]);a.push(U)}else T.done()}).next(()=>{vn(0===a.length)})})}containsKey(e,t){return Fy(e,this.userId,t)}xn(e){return $g(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fy(r,e,t){const s=Ho(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return Kl(r).X({range:c,Y:!0},(T,U,G)=>{const[ne,Ee,Ye]=T;ne===e&&Ee===a&&(f=!0),G.done()}).next(()=>f)}function Gu(r){return ei(r,"mutations")}function Kl(r){return ei(r,"documentMutations")}function $g(r){return ei(r,"mutationQueues")}class ml{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ml(0)}static Mn(){return new ml(-1)}}class Ly{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new ml(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>On.fromTimestamp(new ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nc(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(vn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Nc(e).X((f,T)=>{const U=Gl(T);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(a++,c.push(this.removeTargetData(e,U)))}).next(()=>Je.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Nc(e).X((s,a)=>{const c=Gl(a);t(c)})}$n(e){return La(e).get("targetGlobalKey").next(t=>(vn(null!==t),t))}On(e,t){return La(e).put("targetGlobalKey",t)}Fn(e,t){return Nc(e).put(Ng(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=da(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Nc(e).X({range:a,index:"queryTargetsIndex"},(f,T,U)=>{const G=Gl(T);vu(t,G.target)&&(c=G,U.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=yl(e);return t.forEach(f=>{const T=es(f.path);a.push(c.put({targetId:s,path:T})),a.push(this.referenceDelegate.addReference(e,s,f))}),Je.waitFor(a)}removeMatchingKeys(e,t,s){const a=yl(e);return Je.forEach(t,c=>{const f=es(c.path);return Je.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=yl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=yl(e);let c=yr();return a.X({range:s,Y:!0},(f,T,U)=>{const G=io(f[1]),ne=new rn(G);c=c.add(ne)}).next(()=>c)}containsKey(e,t){const s=es(t.path),a=IDBKeyRange.bound([s],[Ba(s)],!1,!0);let c=0;return yl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,T],U,G)=>{0!==f&&(c++,G.done())}).next(()=>c>0)}le(e,t){return Nc(e).get(t).next(s=>s?Gl(s):null)}}function Nc(r){return ei(r,"targets")}function La(r){return ei(r,"targetGlobal")}function yl(r){return ei(r,"targetDocuments")}function Jf([r,e],[t,s]){const a=Qn(r,t);return 0===a?Qn(e,s):a}class Vy{constructor(e){this.Ln=e,this.buffer=new pi(Jf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Jf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){$o(s)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Is(s)}yield t.Qn(3e5)}))}}class Uy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(no.ct);const s=new Vy(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(Bg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,f,T,U,G;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),a=this.params.maximumSequenceNumbersToCollect):a=Ee,f=Date.now(),this.nthSequenceNumber(e,a))).next(Ee=>(s=Ee,T=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(c=Ee,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>(G=Date.now(),Ge()<=Se.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-ne}ms\n\tDetermined least recently used ${a} in `+(T-f)+`ms\n\tRemoved ${c} targets in `+(U-T)+`ms\n\tRemoved ${Ee} documents in `+(G-U)+`ms\nTotal Duration: ${G-ne}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ee})))}}class zg{constructor(e,t){this.db=e,this.garbageCollector=function Hg(r,e){return new Uy(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Rh(e,s)}removeReference(e,t,s){return Rh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Rh(e,t)}Xn(e,t){return function(s,a){let c=!1;return $g(s).Z(f=>Fy(s,f,a).next(T=>(T&&(c=!0),Je.resolve(!T)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(f,T)=>{if(T<=t){const U=this.Xn(e,f).next(G=>{if(!G)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,On.min()),yl(e).delete([0,es(f.path)])))});a.push(U)}}).next(()=>Je.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Rh(e,t)}Yn(e,t){const s=yl(e);let a,c=no.ct;return s.X({index:"documentTargetsIndex"},([f,T],{path:U,sequenceNumber:G})=>{0===f?(c!==no.ct&&t(new rn(io(a)),c),c=G,a=U):c=no.ct}).next(()=>{c!==no.ct&&t(new rn(io(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rh(r,e){return yl(r).put((s=r.currentSequenceNumber,{targetId:0,path:es(e.path),sequenceNumber:s}));var s}class Gg{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Je.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class By{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return vl(e).put(s)}removeEntry(e,t,s){return vl(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Pc(c),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Si.newInvalidDocument(t);return vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(wd(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:Si.newInvalidDocument(t)};return vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(wd(t))},(a,c)=>{s={document:this.ts(t,c),size:Qf(c)}}).next(()=>s)}getEntries(e,t){let s=Wo();return this.ns(e,t,(a,c)=>{const f=this.ts(a,c);s=s.insert(a,f)}).next(()=>s)}ss(e,t){let s=Wo(),a=new ri(rn.comparator);return this.ns(e,t,(c,f)=>{const T=this.ts(c,f);s=s.insert(c,T),a=a.insert(c,Qf(f))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return Je.resolve();let a=new pi(ep);t.forEach(U=>a=a.add(U));const c=IDBKeyRange.bound(wd(a.first()),wd(a.last())),f=a.getIterator();let T=f.getNext();return vl(e).X({index:"documentKeyIndex",range:c},(U,G,ne)=>{const Ee=rn.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;T&&ep(T,Ee)<0;)s(T,null),T=f.getNext();T&&T.isEqual(Ee)&&(s(T,G),T=f.hasNext()?f.getNext():null),T?ne.G(wd(T)):ne.done()}).next(()=>{for(;T;)s(T,null),T=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),Pc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],T=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vl(e).j(IDBKeyRange.bound(f,T,!0)).next(U=>{let G=Wo();for(const ne of U){const Ee=this.ts(rn.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);Ee.isFoundDocument()&&(gn(t,Ee)||a.has(Ee.key))&&(G=G.insert(Ee.key,Ee))}return G})}getAllFromCollectionGroup(e,t,s,a){let c=Wo();const f=qg(t,s),T=qg(t,cs.max());return vl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,T,!0)},(U,G,ne)=>{const Ee=this.ts(rn.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);c=c.insert(Ee.key,Ee),c.size===a&&ne.done()}).next(()=>c)}newChangeBuffer(e){return new Wg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Xf(e).get("remoteDocumentGlobalKey").next(t=>(vn(!!t),t))}Zn(e,t){return Xf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Eh(r,e){let t;if(e.document)t=Ty(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=rn.fromSegments(e.noDocument.path),a=Ta(e.noDocument.readTime);t=Si.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return qt();{const s=rn.fromSegments(e.unknownDocument.path),a=Ta(e.unknownDocument.version);t=Si.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new ai(s[0],s[1]);return On.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(On.min()))return s}return Si.newInvalidDocument(e)}}function Cr(r){return new By(r)}class Wg extends Gg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ao(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new pi((c,f)=>Qn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const T=this.us.get(c);if(t.push(this.os.removeEntry(e,c,T.readTime)),f.isValidDocument()){const U=Og(this.os.serializer,f);a=a.add(c.path.popLast());const G=Qf(U);s+=G-T.size,t.push(this.os.addEntry(e,c,U))}else if(s-=T.size,this.trackRemovals){const U=Og(this.os.serializer,f.convertToNoDocument(On.min()));t.push(this.os.addEntry(e,c,U))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),Je.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,f)=>{this.us.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function Xf(r){return ei(r,"remoteDocumentGlobal")}function vl(r){return ei(r,"remoteDocumentsV14")}function wd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qg(r,e){const t=e.documentKey.path.toArray();return[r,Pc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ep(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Qn(t[c],s[c]),a)return a;return a=Qn(t.length,s.length),a||(a=Qn(t[t.length-2],s[s.length-2]),a||Qn(t[t.length-1],s[s.length-1]))}class $y{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Tc(s.mutation,a,oo.empty(),ai.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,yr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=yr()){const a=ea();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=ul();return c.forEach((T,U)=>{f=f.insert(T,U.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ea();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,yr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,T)=>{t.set(f,T)})})}computeViews(e,t,s,a){let c=Wo();const f=_u(),T=_u();return t.forEach((U,G)=>{const ne=s.get(G.key);a.has(G.key)&&(void 0===ne||ne.mutation instanceof ju)?c=c.insert(G.key,G):void 0!==ne?(f.set(G.key,ne.mutation.getFieldMask()),Tc(ne.mutation,G,ne.mutation.getFieldMask(),ai.now())):f.set(G.key,oo.empty())}),this.recalculateAndSaveOverlays(e,c).next(U=>(U.forEach((G,ne)=>f.set(G,ne)),t.forEach((G,ne)=>{var Ee;return T.set(G,new $y(ne,null!==(Ee=f.get(G))&&void 0!==Ee?Ee:null))}),T))}recalculateAndSaveOverlays(e,t){const s=_u();let a=new ri((f,T)=>f-T),c=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const T of f)T.keys().forEach(U=>{const G=t.get(U);if(null===G)return;let ne=s.get(U)||oo.empty();ne=T.applyToLocalView(G,ne),s.set(U,ne);const Ee=(a.get(T.batchId)||yr()).add(U);a=a.insert(T.batchId,Ee)})}).next(()=>{const f=[],T=a.getReverseIterator();for(;T.hasNext();){const U=T.getNext(),G=U.key,ne=U.value,Ee=Ec();ne.forEach(Ye=>{if(!c.has(Ye)){const Et=ch(t.get(Ye),s.get(Ye));null!==Et&&Ee.set(Ye,Et),c=c.add(Ye)}}),f.push(this.documentOverlayCache.saveOverlays(e,G,Ee))}return Je.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return rn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):d(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Je.resolve(ea());let T=-1,U=c;return f.next(G=>Je.forEach(G,(ne,Ee)=>(T<Ee.largestBatchId&&(T=Ee.largestBatchId),c.get(ne)?Je.resolve():this.remoteDocumentCache.getEntry(e,ne).next(Ye=>{U=U.insert(ne,Ye)}))).next(()=>this.populateOverlays(e,G,c)).next(()=>this.computeViews(e,U,G,yr())).next(ne=>({batchId:T,changes:wc(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rn(t)).next(s=>{let a=ul();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=ul();return this.indexManager.getCollectionParents(e,a).next(f=>Je.forEach(f,T=>{const U=(G=t,ne=T.child(a),new Xa(ne,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,ne;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(G=>{G.forEach((ne,Ee)=>{c=c.insert(ne,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((T,U)=>{const G=U.getKey();null===c.get(G)&&(c=c.insert(G,Si.newInvalidDocument(G)))});let f=ul();return c.forEach((T,U)=>{const G=a.get(T);void 0!==G&&Tc(G.mutation,U,oo.empty(),ai.now()),gn(t,U)&&(f=f.insert(T,U))}),f})}}class jy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Je.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Hr(s.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:qf(s.bundledQuery),readTime:Hr(s.readTime)}),Je.resolve();var s}}class Hy{constructor(){this.overlays=new ri(rn.comparator),this.ls=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ea();return Je.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Je.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Je.resolve()}getOverlaysForCollection(e,t,s){const a=ea(),c=t.length+1,f=new rn(t.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const U=T.getNext().value,G=U.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===c&&U.largestBatchId>s&&a.set(U.getKey(),U)}return Je.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new ri((G,ne)=>G-ne);const f=this.overlays.getIterator();for(;f.hasNext();){const G=f.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>s){let ne=c.get(G.largestBatchId);null===ne&&(ne=ea(),c=c.insert(G.largestBatchId,ne)),ne.set(G.getKey(),G)}}const T=ea(),U=c.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((G,ne)=>T.set(G,ne)),!(T.size()>=a)););return Je.resolve(T)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wg(t,s));let c=this.ls.get(t);void 0===c&&(c=yr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class Kg{constructor(){this.fs=new pi(lo.ds),this.ws=new pi(lo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new lo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new lo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new rn(new Kn([])),s=new lo(t,e),a=new lo(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rn(new Kn([])),s=new lo(t,e),a=new lo(t,e+1);let c=yr();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new lo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class lo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rn.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||rn.comparator(e.key,t.key)}}class Zg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pi(lo.ds)}checkEmpty(e){return Je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new Nf(c,t,s,a);this.mutationQueue.push(f);for(const T of a)this.Rs=this.Rs.add(new lo(T.key,c)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Je.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new lo(t,0),a=new lo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const T=this.Ps(f.As);c.push(T)}),Je.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pi(Qn);return t.forEach(a=>{const c=new lo(a,0),f=new lo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],T=>{s=s.add(T.As)})}),Je.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;rn.isDocumentKey(c)||(c=c.child(""));const f=new lo(new rn(c),0);let T=new pi(Qn);return this.Rs.forEachWhile(U=>{const G=U.key.path;return!!s.isPrefixOf(G)&&(G.length===a&&(T=T.add(U.As)),!0)},f),Je.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){vn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Je.forEach(t.mutations,a=>{const c=new lo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new lo(t,0),a=this.Rs.firstAfterOrEqual(s);return Je.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Je.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zl{constructor(e){this.Ds=e,this.docs=new ri(rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Je.resolve(s?s.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let s=Wo();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Si.newInvalidDocument(a))}),Je.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Wo();const f=t.path,T=new rn(f.child("")),U=this.docs.getIteratorFrom(T);for(;U.hasNext();){const{key:G,value:{document:ne}}=U.getNext();if(!f.isPrefixOf(G.path))break;G.path.length>f.length+1||to(Es(ne),s)<=0||(a.has(ne.key)||gn(t,ne))&&(c=c.insert(ne.key,ne.mutableCopy()))}return Je.resolve(c)}getAllFromCollectionGroup(e,t,s,a){qt()}Cs(e,t){return Je.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new zy(this)}getSize(e){return Je.resolve(this.size)}}class zy extends Gg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Je.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class np{constructor(e){this.persistence=e,this.xs=new ao(t=>da(t),vu),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Kg,this.targetCount=0,this.Ms=ml.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Je.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Fn(t),Je.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Je.waitFor(c).next(()=>a)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Je.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Je.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Je.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Je.resolve(s)}containsKey(e,t){return Je.resolve(this.ks.containsKey(t))}}class Ed{constructor(e,t){this.$s={},this.overlays={},this.Os=new no(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new np(this),this.indexManager=new Oy,this.remoteDocumentCache=new Zl(s=>this.referenceDelegate.Ls(s)),this.serializer=new wh(t),this.qs=new jy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Zg(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){lt("MemoryPersistence","Starting transaction:",e);const a=new Gy(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Je.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Gy extends Ha{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Qs=new Kg,this.js=null}static zs(e){return new rp(e)}get Ws(){if(this.js)return this.js;throw qt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Je.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Ws,s=>{const a=rn.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,On.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Je.or([()=>Je.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class H_{constructor(e){this.serializer=e}O(e,t,s,a){const c=new Ou("createOrUpgrade",t);var T;s<1&&a>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ia,{unique:!0}),T.createObjectStore("documentMutations"),Yg(e),function(T){T.createObjectStore("remoteDocuments")}(e));let f=Je.resolve();return s<3&&a>=3&&(0!==s&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),Yg(e)),f=f.next(()=>function(T){const U=T.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:On.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",G)}(c))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(T,U){return U.store("mutations").j().next(G=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ia,{unique:!0});const ne=U.store("mutations"),Ee=G.map(Ye=>ne.put(Ye));return Je.waitFor(Ee)})}(e,c))),f=f.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ys(c))),s<6&&a>=6&&(f=f.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(f=f.next(()=>this.Zs(c))),s<8&&a>=8&&(f=f.next(()=>this.ti(e,c))),s<9&&a>=9&&(f=f.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ei(c))),s<11&&a>=11&&(f=f.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(T){const U=T.createObjectStore("documentOverlays",{keyPath:Ue});U.createIndex("collectionPathOverlayIndex",Ct,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Yt,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(T){const U=T.createObjectStore("remoteDocumentsV14",{keyPath:Ga});U.createIndex("documentKeyIndex",fu),U.createIndex("collectionGroupIndex",so)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.si(e,c))),s<15&&a>=15&&(f=f.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:M}).createIndex("sequenceNumberIndex",$,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:J}).createIndex("documentKeyIndex",re,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Qf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Je.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(T=>Je.forEach(T,U=>{vn(U.userId===c.userId);const G=fl(this.serializer,U);return ky(e,c.userId,G).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((f,T)=>{const U=new Kn(f),G=[0,es(U)];c.push(t.get(G).next(ne=>ne?Je.resolve():t.put({targetId:0,path:es(U),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Je.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:m});const s=t.store("collectionParents"),a=new Yf,c=f=>{if(a.add(f)){const T=f.lastSegment(),U=f.popLast();return s.put({collectionId:T,parent:es(U)})}};return t.store("remoteDocuments").X({Y:!0},(f,T)=>{const U=new Kn(f);return c(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,T,U],G)=>{const ne=io(T);return c(ne.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=Gl(a),f=Ng(this.serializer,c);return t.put(f)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,f)=>{const T=t.store("remoteDocumentsV14"),U=(G=f,G.document?new rn(Kn.fromString(G.document.name).popFirst(5)):G.noDocument?rn.fromSegments(G.noDocument.path):G.unknownDocument?rn.fromSegments(G.unknownDocument.path):qt()).path.toArray();var G;const ne={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(T.put(ne))}).next(()=>Je.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Cr(this.serializer),c=new Ed(rp.zs,this.serializer.fe);return s.j().next(f=>{const T=new Map;return f.forEach(U=>{var G;let ne=null!==(G=T.get(U.userId))&&void 0!==G?G:yr();fl(this.serializer,U).keys().forEach(Ee=>ne=ne.add(Ee)),T.set(U.userId,ne)}),Je.forEach(T,(U,G)=>{const ne=new C(G),Ee=Ch.de(this.serializer,ne),Ye=c.getIndexManager(ne),Et=_d.de(ne,this.serializer,Ye,c.referenceDelegate);return new tp(a,Et,Ee,Ye).recalculateAndSaveOverlaysForDocumentKeys(new Ao(t,no.ct),U).next()})})}}function Yg(r){r.createObjectStore("targetDocuments",{keyPath:v}).createIndex("documentTargetsIndex",_,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oa,{unique:!0}),r.createObjectStore("targetGlobal")}const Ph="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qg{constructor(e,t,s,a,c,f,T,U,G,ne,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=f,this.document=T,this.ri=G,this.oi=ne,this.ui=Ee,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ye=>Promise.resolve(),!Qg.D())throw new Dt(qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zg(this,a),this.di=t+"main",this.serializer=new wh(U),this.wi=new Ar(this.di,this.ui,new H_(this.serializer)),this.Bs=new Ly(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cr(this.serializer),this.qs=new Sy,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ne&&Cn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dt(qe.FAILED_PRECONDITION,Ph);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new no(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,p.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if($o(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Id(e).get("owner").next(t=>Je.resolve(this.Ri(t)))}Pi(e){return Wu(e).delete(this.clientId)}bi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ei(s,"clientMetadata");return a.j().next(c=>{const f=e.Si(c,18e5),T=c.filter(U=>-1===f.indexOf(U));return Je.forEach(T,U=>a.delete(U.clientId)).next(()=>T)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Je.resolve(!0):Id(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Dt(qe.FAILED_PRECONDITION,Ph);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wu(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Ao(t,no.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Wu(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return _d.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ny(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ch.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){lt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.ui)?Ks:14===f?zo:13===f?Ei:12===f?Vr:11===f?cn:void qt();var f;let T;return this.wi.runTransaction(e,a,c,U=>(T=new Ao(U,this.Os?this.Os.next():no.ct),"readwrite-primary"===t?this.Ti(T).next(G=>!!G||this.Ei(T)).next(G=>{if(!G)throw Cn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Dt(qe.FAILED_PRECONDITION,ja);return s(T)}).next(G=>this.vi(T).next(()=>G)):this.Oi(T).next(()=>s(T)))).then(U=>(T.raiseOnCommittedEvent(),U))}Oi(e){return Id(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Dt(qe.FAILED_PRECONDITION,Ph)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Id(e).put("owner",t)}static D(){return Ar.D()}Ai(e){const t=Id(e);return t.get("owner").next(s=>this.Ri(s)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Cn(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ve.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return lt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Cn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Cn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Id(r){return ei(r,"owner")}function Wu(r){return ei(r,"clientMetadata")}function sp(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Oh{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=yr(),a=yr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Oh(e,t.fromCache,s,a)}}class bd{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(ih(t))return Je.resolve(null);let s=b(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ie(t,null,"F"),s=b(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=yr(...c);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,s).next(U=>{const G=this.ji(t,T);return this.zi(t,G,f,U.readTime)?this.Ki(e,ie(t,null,"F")):this.Wi(e,G,t,U)}))})))}Gi(e,t,s,a){return ih(t)||a.isEqual(On.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(Ge()<=Se.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Kt(t)),this.Wi(e,f,t,aa(a,-1)))})}ji(e,t){let s=new pi(wr(e));return t.forEach((a,c)=>{gn(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Ge()<=Se.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Kt(t)),this.Ui.getDocumentsMatchingQuery(e,t,cs.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Wy{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new ri(Qn),this.Yi=new ao(c=>da(c),vu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function op(r,e,t,s){return new Wy(r,e,t,s)}function Jg(r,e){return ap.apply(this,arguments)}function ap(){return ap=(0,p.Z)(function*(r,e){const t=jt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],T=[];let U=yr();for(const G of a){f.push(G.batchId);for(const ne of G.mutations)U=U.add(ne.key)}for(const G of c){T.push(G.batchId);for(const ne of G.mutations)U=U.add(ne.key)}return t.localDocuments.getDocuments(s,U).next(G=>({er:G,removedBatchIds:f,addedBatchIds:T}))})})}),ap.apply(this,arguments)}function Xg(r){const e=jt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function up(r,e,t){let s=yr(),a=yr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Wo();return t.forEach((T,U)=>{const G=c.get(T);U.isFoundDocument()!==G.isFoundDocument()&&(a=a.add(T)),U.isNoDocument()&&U.version.isEqual(On.min())?(e.removeEntry(T,U.readTime),f=f.insert(T,U)):!G.isValidDocument()||U.version.compareTo(G.version)>0||0===U.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(U),f=f.insert(T,U)):lt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",G.version," Watch version:",U.version)}),{nr:f,sr:a}})}function Zy(r,e){const t=jt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Yl(r,e){const t=jt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Je.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new zu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Ql(r,e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,p.Z)(function*(r,e,t){const s=jt(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!$o(f))throw f;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Cd.apply(this,arguments)}function lp(r,e,t){const s=jt(r);let a=On.min(),c=yr();return s.persistence.runTransaction("Execute query","readonly",f=>function(T,U,G){const ne=jt(T),Ee=ne.Yi.get(G);return void 0!==Ee?Je.resolve(ne.Ji.get(Ee)):ne.Bs.getTargetData(U,G)}(s,f,b(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,T.targetId).next(U=>{c=U})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:On.min(),t?c:yr())).next(T=>(Yy(s,Ln(e),T),{documents:T,ir:c})))}function Nh(r,e){const t=jt(r),s=jt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(f=>f?f.target:null))}function em(r,e){const t=jt(r),s=t.Xi.get(e)||On.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,aa(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Yy(t,e,a),a))}function Yy(r,e,t){let s=r.Xi.get(e)||On.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}function kh(){return kh=(0,p.Z)(function*(r,e,t,s){const a=jt(r);let c=yr(),f=Wo();for(const G of t){const ne=e.rr(G.metadata.name);G.document&&(c=c.add(ne));const Ee=e.ur(G);Ee.setReadTime(e.cr(G.metadata.readTime)),f=f.insert(ne,Ee)}const T=a.Zi.newChangeBuffer({trackRemovals:!0}),U=yield Yl(a,(G=s,b(Bu(Kn.fromString(`__bundle__/docs/${G}`)))));var G;return a.persistence.runTransaction("Apply bundle documents","readwrite",G=>up(G,T,f).next(ne=>(T.apply(G),ne)).next(ne=>a.Bs.removeMatchingKeysForTargetId(G,U.targetId).next(()=>a.Bs.addMatchingKeys(G,c,U.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(G,ne.nr,ne.sr)).next(()=>ne.nr)))}),kh.apply(this,arguments)}function Qy(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,p.Z)(function*(r,e,t=yr()){const s=yield Yl(r,b(qf(e.bundledQuery))),a=jt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Hr(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(c,e);const T=s.withResumeToken(ts.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(T.targetId,T),a.Bs.updateTargetData(c,T).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),Fh.apply(this,arguments)}function tm(r,e){return`firestore_clients_${r}_${e}`}function nm(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Fc(r,e){return`firestore_targets_${r}_${e}`}class qu{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Dt(a.error.code,a.error.message))),f?new qu(e,t,a.state,c):(Cn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jl{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Dt(s.error.code,s.error.message))),c?new Jl(e,s.state,a):(Cn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _l{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Bl();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=za(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return a?new _l(e,c):(Cn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Dd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Dd(t.clientId,t.onlineState):(Cn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Lc{constructor(){this.activeTargetIds=Bl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lh{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ri(Qn),this.started=!1,this.yr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=tm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Lc),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(tm(e.persistenceKey,a));if(c){const f=_l.ar(a,c);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Fc(this.persistenceKey,e));if(s){const a=Jl.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fc(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(lt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Cn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let f=no.ct;if(null!=c)try{const T=JSON.parse(c);vn("number"==typeof T),f=T}catch(T){Cn("SharedClientState","Failed to read sequence number from WebStorage",T)}return f}(s.newValue);a!==no.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new qu(this.currentUser,e,t,s),c=nm(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=nm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Fc(this.persistenceKey,e),c=new Jl(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return _l.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return qu.ar(new C(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return Jl.ar(a,t)}br(e){return Dd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),f=[],T=[];return c.forEach(U=>{a.has(U)||f.push(U)}),a.forEach(U=>{c.has(U)||T.push(U)}),this.syncEngine.Wr(f,T).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Bl();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Vh{constructor(){this.Hr=new Lc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Lc,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cp{Yr(e){}shutdown(){}}class Uh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Td=null;function Sd(){return null===Td?Td=268435456+Math.round(2147483648*Math.random()):Td++,"0x"+Td.toString(16)}const Jy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xy{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const No="WebChannelConnection";class ev extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Sd(),T=this.To(e,t);lt("RestConnection",`Sending RPC '${e}' ${f}:`,T,s);const U={};return this.Eo(U,a,c),this.Ao(e,T,U,s).then(G=>(lt("RestConnection",`Received RPC '${e}' ${f}: `,G),G),G=>{throw ir("RestConnection",`RPC '${e}' ${f} failed with error: `,G,"url: ",T,"request:",s),G})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+W,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${Jy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Sd();return new Promise((f,T)=>{const U=new ee;U.setWithCredentials(!0),U.listenOnce(ma.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Ls.NO_ERROR:const ne=U.getResponseJson();lt(No,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(ne)),f(ne);break;case Ls.TIMEOUT:lt(No,`RPC '${e}' ${c} timed out`),T(new Dt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Ls.HTTP_ERROR:const Ee=U.getStatus();if(lt(No,`RPC '${e}' ${c} failed with status:`,Ee,"response text:",U.getResponseText()),Ee>0){let Ye=U.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const Et=Ye?.error;if(Et&&Et.status&&Et.message){const zt=function(En){const Dn=En.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(Dn)>=0?Dn:qe.UNKNOWN}(Et.status);T(new Dt(zt,Et.message))}else T(new Dt(qe.UNKNOWN,"Server responded with status "+U.getStatus()))}else T(new Dt(qe.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{lt(No,`RPC '${e}' ${c} completed.`)}});const G=JSON.stringify(a);lt(No,`RPC '${e}' ${c} sending request:`,a),U.send(t,"POST",G,s,15)})}Ro(e,t,s){const a=Sd(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=xa(),T=Ws(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(U.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(U.xmlHttpFactory=new z({})),this.Eo(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const ne=c.join("");lt(No,`Creating RPC '${e}' stream ${a}: ${ne}`,U);const Ee=f.createWebChannel(ne,U);let Ye=!1,Et=!1;const zt=new Xy({ro:Dn=>{Et?lt(No,`Not sending because RPC '${e}' stream ${a} is closed:`,Dn):(Ye||(lt(No,`Opening RPC '${e}' stream ${a} transport.`),Ee.open(),Ye=!0),lt(No,`RPC '${e}' stream ${a} sending:`,Dn),Ee.send(Dn))},oo:()=>Ee.close()}),En=(Dn,xr,ni)=>{Dn.listen(xr,Wr=>{try{ni(Wr)}catch(ho){setTimeout(()=>{throw ho},0)}})};return En(Ee,F.EventType.OPEN,()=>{Et||lt(No,`RPC '${e}' stream ${a} transport opened.`)}),En(Ee,F.EventType.CLOSE,()=>{Et||(Et=!0,lt(No,`RPC '${e}' stream ${a} transport closed`),zt.wo())}),En(Ee,F.EventType.ERROR,Dn=>{Et||(Et=!0,ir(No,`RPC '${e}' stream ${a} transport errored:`,Dn),zt.wo(new Dt(qe.UNAVAILABLE,"The operation could not be completed")))}),En(Ee,F.EventType.MESSAGE,Dn=>{var xr;if(!Et){const ni=Dn.data[0];vn(!!ni);const ho=ni.error||(null===(xr=ni[0])||void 0===xr?void 0:xr.error);if(ho){lt(No,`RPC '${e}' stream ${a} received error:`,ho);const Bs=ho.status;let rs=function(lc){const Sf=uo[lc];if(void 0!==Sf)return Ig(Sf)}(Bs),pa=ho.message;void 0===rs&&(rs=qe.INTERNAL,pa="Unknown error status: "+Bs+" with message "+ho.message),Et=!0,zt.wo(new Dt(rs,pa)),Ee.close()}else lt(No,`RPC '${e}' stream ${a} received:`,ni),zt._o(ni)}}),En(T,Ma.STAT_EVENT,Dn=>{Dn.stat===O.PROXY?lt(No,`RPC '${e}' stream ${a} detected buffering proxy`):Dn.stat===O.NOPROXY&&lt(No,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{zt.fo()},0),zt}}function dp(){return typeof window<"u"?window:null}function Ad(){return typeof document<"u"?document:null}function xd(r){return new Cg(r,!0)}class hp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&lt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ha{constructor(e,t,s,a,c,f,T,U){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=U,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,p.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,p.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,p.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(Cn(t.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===qe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Dt(qe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,p.Z)(function*(){e.state=0,e.start()}))}tu(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tv extends ha{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function gd(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:qt(),a=e.targetChange.targetIds||[],c=function(U,G){return U.useProto3Json?(vn(void 0===G||"string"==typeof G),ts.fromBase64String(G||"")):(vn(void 0===G||G instanceof Uint8Array),ts.fromUint8Array(G||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(U){const G=void 0===U.code?qe.UNKNOWN:Ig(U.code);return new Dt(G,U.message||"")}(f);t=new yh(s,a,c,T||null)}else if("documentChange"in e){const s=e.documentChange,a=tu(r,s.document.name),c=Hr(s.document.updateTime),f=s.document.createTime?Hr(s.document.createTime):On.min(),T=new Rs({mapValue:{fields:s.document.fields}}),U=Si.newFoundDocument(a,c,f,T);t=new Lf(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,a=tu(r,s.document),c=s.readTime?Hr(s.readTime):On.min(),f=Si.newNoDocument(a,c);t=new Lf([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=tu(r,s.document);t=new Lf([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return qt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new U_(a,c);t=new mh(s.targetId,f)}}var U;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return On.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?On.min():c.readTime?Hr(c.readTime):On.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=pd(this.serializer),t.addTarget=function(a,c){let f;const T=c.target;if(f=al(T)?{documents:jf(a,T)}:{query:xg(a,T)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=vh(a,c.resumeToken);const U=Mc(a,c.expectedCount);null!==U&&(f.expectedCount=U)}else if(c.snapshotVersion.compareTo(On.min())>0){f.readTime=Rc(a,c.snapshotVersion.toTimestamp());const U=Mc(a,c.expectedCount);null!==U&&(f.expectedCount=U)}return f}(this.serializer,e);const s=function Rg(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class nv extends ha{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ag(r,e){return r&&r.length>0?(vn(void 0!==e),r.map(t=>function(s,a){let c=Hr(s.updateTime?s.updateTime:a);return c.isEqual(On.min())&&(c=Hr(a)),new Pf(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.cu(s,t)}return vn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>zl(this.serializer,s))};this.Wo(t)}}class z_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Dt(qe.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Dt(qe.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class rv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Cn(t),this.mu=!1):lt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(T=>{s.enqueueAndForget((0,p.Z)(function*(){var U;ko(f)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,p.Z)(function*(G){const ne=jt(G);ne.vu.add(4),yield Vc(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield Md(ne)}),function(G){return U.apply(this,arguments)})(f))}))}),this.bu=new rv(s,a)}}function Md(r){return $h.apply(this,arguments)}function $h(){return $h=(0,p.Z)(function*(r){if(ko(r))for(const e of r.Ru)yield e(!0)}),$h.apply(this,arguments)}function Vc(r){return pp.apply(this,arguments)}function pp(){return pp=(0,p.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pp.apply(this,arguments)}function Uc(r,e){const t=jt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),yp(t)?mp(t):zc(t).Ko()&&gp(t,e))}function Rd(r,e){const t=jt(r),s=zc(t);t.Au.delete(e),s.Ko()&&rm(t,e),0===t.Au.size&&(s.Ko()?s.jo():ko(t)&&t.bu.set("Unknown"))}function gp(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(On.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zc(r).su(e)}function rm(r,e){r.Vu.qt(e),zc(r).iu(e)}function mp(r){r.Vu=new B_({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),zc(r).start(),r.bu.gu()}function yp(r){return ko(r)&&!zc(r).Uo()&&r.Au.size>0}function ko(r){return 0===jt(r).vu.size}function jh(r){r.Vu=void 0}function sv(r){return vp.apply(this,arguments)}function vp(){return vp=(0,p.Z)(function*(r){r.Au.forEach((e,t)=>{gp(r,e)})}),vp.apply(this,arguments)}function im(r,e){return _p.apply(this,arguments)}function _p(){return _p=(0,p.Z)(function*(r,e){jh(r),yp(r)?(r.bu.Iu(e),mp(r)):r.bu.set("Unknown")}),_p.apply(this,arguments)}function ov(r,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,p.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof yh&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(a,c){const f=c.cause;for(const T of c.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,f),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bc(r,s)}else if(e instanceof Lf?r.Vu.Ht(e):e instanceof mh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(On.min()))try{const s=yield Xg(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((T,U)=>{if(T.resumeToken.approximateByteSize()>0){const G=a.Au.get(U);G&&a.Au.set(U,G.withResumeToken(T.resumeToken,c))}}),f.targetMismatches.forEach((T,U)=>{const G=a.Au.get(T);if(!G)return;a.Au.set(T,G.withResumeToken(ts.EMPTY_BYTE_STRING,G.snapshotVersion)),rm(a,T);const ne=new zu(G.target,T,U,G.sequenceNumber);gp(a,ne)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){lt("RemoteStore","Failed to raise snapshot:",s),yield Bc(r,s)}var s}),wp.apply(this,arguments)}function Bc(r,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,p.Z)(function*(r,e,t){if(!$o(e))throw e;r.vu.add(1),yield Vc(r),r.bu.set("Offline"),t||(t=()=>Xg(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Md(r)}))}),Ep.apply(this,arguments)}function sm(r,e){return e().catch(t=>Bc(r,t,e))}function Ku(r){return $c.apply(this,arguments)}function $c(){return $c=(0,p.Z)(function*(r){const e=jt(r),t=wl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hh(e);)try{const a=yield Zy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,G_(e,a)}catch(a){yield Bc(e,a)}zh(e)&&av(e)}),$c.apply(this,arguments)}function Hh(r){return ko(r)&&r.Eu.length<10}function G_(r,e){r.Eu.push(e);const t=wl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function zh(r){return ko(r)&&!wl(r).Uo()&&r.Eu.length>0}function av(r){wl(r).start()}function om(r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,p.Z)(function*(r){wl(r).hu()}),Gh.apply(this,arguments)}function am(r){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,p.Z)(function*(r){const e=wl(r);for(const t of r.Eu)e.uu(t.mutations)}),Wh.apply(this,arguments)}function Ip(r,e,t){return ru.apply(this,arguments)}function ru(){return ru=(0,p.Z)(function*(r,e,t){const s=r.Eu.shift(),a=_g.from(s,e,t);yield sm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Ku(r)}),ru.apply(this,arguments)}function qh(r,e){return jc.apply(this,arguments)}function jc(){return jc=(0,p.Z)(function*(r,e){var t;e&&wl(r).ou&&(yield(t=(0,p.Z)(function*(s,a){if(Eg(c=a.code)&&c!==qe.ABORTED){const f=s.Eu.shift();wl(s).Qo(),yield sm(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Ku(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),zh(r)&&av(r)}),jc.apply(this,arguments)}function Hc(r,e){return bp.apply(this,arguments)}function bp(){return bp=(0,p.Z)(function*(r,e){const t=jt(r);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const s=ko(t);t.vu.add(3),yield Vc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Md(t)}),bp.apply(this,arguments)}function Kh(r,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,p.Z)(function*(r,e){const t=jt(r);e?(t.vu.delete(2),yield Md(t)):e||(t.vu.add(2),yield Vc(t),t.bu.set("Unknown"))}),Zh.apply(this,arguments)}function zc(r){return r.Su||(r.Su=function(e,t,s){const a=jt(e);return a.fu(),new tv(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:sv.bind(null,r),ao:im.bind(null,r),nu:ov.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Su.Qo(),yp(r)?mp(r):r.bu.set("Unknown")):(yield r.Su.stop(),jh(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function wl(r){return r.Du||(r.Du=function(e,t,s){const a=jt(e);return a.fu(),new nv(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:om.bind(null,r),ao:qh.bind(null,r),au:am.bind(null,r),cu:Ip.bind(null,r)}),r.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(r.Du.Qo(),yield Ku(r)):(yield r.Du.stop(),r.Eu.length>0&&(lt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Xl{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,T=new Xl(e,t,f,a,c);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gc(r,e){if(Cn("AsyncQueue",`${e}: ${r}`),$o(r))return new Dt(qe.UNAVAILABLE,`${e}: ${r}`);throw r}class Pd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||rn.comparator(t.key,s.key):(t,s)=>rn.comparator(t.key,s.key),this.keyedMap=ul(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new Pd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Pd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class um{constructor(){this.Cu=new ri(rn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):qt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Wc{constructor(e,t,s,a,c,f,T,U,G){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=U,this.hasCachedResults=G}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(T=>{f.push({type:0,doc:T})}),new Wc(e,t,Pd.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class uv{constructor(){this.Nu=void 0,this.listeners=[]}}class lv{constructor(){this.queries=new ao(e=>yt(e),Fe),this.onlineState="Unknown",this.ku=new Set}}function Cp(r,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,p.Z)(function*(r,e){const t=jt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new uv),a)try{c.Nu=yield t.onListen(s)}catch(f){const T=Gc(f,`Initialization of query '${Kt(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Od(t)}),Dp.apply(this,arguments)}function Tp(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,p.Z)(function*(r,e){const t=jt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Yh.apply(this,arguments)}function Sp(r,e){const t=jt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const T of f.listeners)T.$u(a)&&(s=!0);f.Nu=a}}s&&Od(t)}function cv(r,e,t){const s=jt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Od(r){r.ku.forEach(e=>{e.next()})}class Ap{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Wc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dv{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class lm{constructor(e){this.serializer=e}rr(e){return tu(this.serializer,e)}ur(e){return e.metadata.exists?Ty(this.serializer,e.document,!1):Si.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Hr(e)}}class hv{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cm(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Kn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new lm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const f of a.metadata.queries){const T=(t.get(f)||yr()).add(c);t.set(f,T)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function kc(r,e,t,s){return kh.apply(this,arguments)}(e.localStore,new lm(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Qy(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function cm(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class dm{constructor(e){this.key=e}}class hm{constructor(e){this.key=e}}class xp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yr(),this.mutatedKeys=yr(),this.tc=wr(e),this.ec=new Pd(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new um,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,T=!1;const U="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,G="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ne,Ee)=>{const Ye=a.get(ne),Et=gn(this.query,Ee)?Ee:null,zt=!!Ye&&this.mutatedKeys.has(Ye.key),En=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let Dn=!1;Ye&&Et?Ye.data.isEqual(Et.data)?zt!==En&&(s.track({type:3,doc:Et}),Dn=!0):this.rc(Ye,Et)||(s.track({type:2,doc:Et}),Dn=!0,(U&&this.tc(Et,U)>0||G&&this.tc(Et,G)<0)&&(T=!0)):!Ye&&Et?(s.track({type:0,doc:Et}),Dn=!0):Ye&&!Et&&(s.track({type:1,doc:Ye}),Dn=!0,(U||G)&&(T=!0)),Dn&&(Et?(f=f.add(Et),c=En?c.add(ne):c.delete(ne)):(f=f.delete(ne),c=c.delete(ne)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ne="F"===this.query.limitType?f.last():f.first();f=f.delete(ne.key),c=c.delete(ne.key),s.track({type:1,doc:ne})}return{ec:f,ic:s,zi:T,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((G,ne)=>function(Ee,Ye){const Et=zt=>{switch(zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Et(Ee)-Et(Ye)}(G.type,ne.type)||this.tc(G.doc,ne.doc)),this.oc(s);const f=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,U=T!==this.Xu;return this.Xu=T,0!==c.length||U?{snapshot:new Wc(this.query,e.ec,a,c,e.mutatedKeys,0===T,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new um,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new hm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new dm(s))}),t}hc(e){this.Yu=e.ir,this.Zu=yr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Wc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fv{constructor(e){this.key=e,this.fc=!1}}class W_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new ao(T=>yt(T),Fe),this._c=new Map,this.mc=new Set,this.gc=new ri(rn.comparator),this.yc=new Map,this.Ic=new Kg,this.Tc={},this.Ec=new Map,this.Ac=ml.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pm(r,e){return gm.apply(this,arguments)}function gm(){return gm=(0,p.Z)(function*(r,e){const t=uf(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield Yl(t.localStore,b(e)),T=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield qc(t,e,s,"current"===T,f.resumeToken),t.isPrimaryClient&&Uc(t.remoteStore,f)}return a}),gm.apply(this,arguments)}function qc(r,e,t,s,a){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,p.Z)(function*(r,e,t,s,a){r.Rc=(Ee,Ye,Et)=>{return(zt=(0,p.Z)(function*(En,Dn,xr,ni){let Wr=Dn.view.sc(xr);Wr.zi&&(Wr=yield lp(En.localStore,Dn.query,!1).then(({documents:rs})=>Dn.view.sc(rs,Wr)));const ho=ni&&ni.targetChanges.get(Dn.targetId),Bs=Dn.view.applyChanges(Wr,En.isPrimaryClient,ho);return Jh(En,Dn.targetId,Bs.cc),Bs.snapshot}),function(En,Dn,xr,ni){return zt.apply(this,arguments)})(r,Ee,Ye,Et);var zt};const c=yield lp(r.localStore,e,!0),f=new xp(e,c.ir),T=f.sc(c.documents),U=gh.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),G=f.applyChanges(T,r.isPrimaryClient,U);Jh(r,t,G.cc);const ne=new fm(e,t,f);return r.wc.set(e,ne),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),G.snapshot}),Mp.apply(this,arguments)}function pv(r,e){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,p.Z)(function*(r,e){const t=jt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Fe(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ql(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Rd(t.remoteStore,s.targetId),iu(t,s.targetId)}).catch(Is))):(iu(t,s.targetId),yield Ql(t.localStore,s.targetId,!0))}),Nd.apply(this,arguments)}function Va(){return Va=(0,p.Z)(function*(r,e,t){const s=Ld(r);try{const a=yield function(c,f){const T=jt(c),U=ai.now(),G=f.reduce((Ye,Et)=>Ye.add(Et.key),yr());let ne,Ee;return T.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let Et=Wo(),zt=yr();return T.Zi.getEntries(Ye,G).next(En=>{Et=En,Et.forEach((Dn,xr)=>{xr.isValidDocument()||(zt=zt.add(Dn))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ye,Et)).next(En=>{ne=En;const Dn=[];for(const xr of f){const ni=gg(xr,ne.get(xr.key).overlayedDocument);null!=ni&&Dn.push(new ju(xr.key,ni,ld(ni.value.mapValue),ds.exists(!0)))}return T.mutationQueue.addMutationBatch(Ye,U,Dn,f)}).next(En=>{Ee=En;const Dn=En.applyToLocalDocumentSet(ne,zt);return T.documentOverlayCache.saveOverlays(Ye,En.batchId,Dn)})}).then(()=>({batchId:Ee.batchId,changes:wc(ne)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,T){let U=c.Tc[c.currentUser.toKey()];U||(U=new ri(Qn)),U=U.insert(f,T),c.Tc[c.currentUser.toKey()]=U}(s,a.batchId,t),yield Du(s,a.changes),yield Ku(s.remoteStore)}catch(a){const c=Gc(a,"Failed to persist write");t.reject(c)}}),Va.apply(this,arguments)}function Kc(r,e){return Io.apply(this,arguments)}function Io(){return Io=(0,p.Z)(function*(r,e){const t=jt(r);try{const s=yield function Ky(r,e){const t=jt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((ne,Ee)=>{const Ye=a.get(Ee);if(!Ye)return;T.push(t.Bs.removeMatchingKeys(c,ne.removedDocuments,Ee).next(()=>t.Bs.addMatchingKeys(c,ne.addedDocuments,Ee)));let Et=Ye.withSequenceNumber(c.currentSequenceNumber);var zt,En,Dn;null!==e.targetMismatches.get(Ee)?Et=Et.withResumeToken(ts.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):ne.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(ne.resumeToken,s)),a=a.insert(Ee,Et),En=Et,Dn=ne,(0===(zt=Ye).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-zt.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(c,Et))});let U=Wo(),G=yr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(c,ne))}),T.push(up(c,f,e.documentUpdates).next(ne=>{U=ne.nr,G=ne.sr})),!s.isEqual(On.min())){const ne=t.Bs.getLastRemoteSnapshotVersion(c).next(Ee=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));T.push(ne)}return Je.waitFor(T).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,U,G)).next(()=>U)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(vn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?vn(f.fc):a.removedDocuments.size>0&&(vn(f.fc),f.fc=!1))}),yield Du(t,s,e)}catch(s){yield Is(s)}}),Io.apply(this,arguments)}function El(r,e,t){const s=jt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const T=f.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(c,f){const T=jt(c);T.onlineState=f;let U=!1;T.queries.forEach((G,ne)=>{for(const Ee of ne.listeners)Ee.Mu(f)&&(U=!0)}),U&&Od(T)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Qh(r,e,t){return fa.apply(this,arguments)}function fa(){return fa=(0,p.Z)(function*(r,e,t){const s=jt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new ri(rn.comparator);f=f.insert(c,Si.newNoDocument(c,On.min()));const T=yr().add(c),U=new ph(On.min(),new Map,new ri(Qn),f,T);yield Kc(s,U),s.gc=s.gc.remove(c),s.yc.delete(e),Xh(s)}else yield Ql(s.localStore,e,!1).then(()=>iu(s,e,t)).catch(Is)}),fa.apply(this,arguments)}function Rp(r,e){return Il.apply(this,arguments)}function Il(){return Il=(0,p.Z)(function*(r,e){const t=jt(r),s=e.batch.batchId;try{const a=yield function qy(r,e){const t=jt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,U,G){const ne=U.batch,Ee=ne.keys();let Ye=Je.resolve();return Ee.forEach(Et=>{Ye=Ye.next(()=>G.getEntry(T,Et)).next(zt=>{const En=U.docVersions.get(Et);vn(null!==En),zt.version.compareTo(En)<0&&(ne.applyToRemoteDocument(zt,U),zt.isValidDocument()&&(zt.setReadTime(U.commitVersion),G.addEntry(zt)))})}),Ye.next(()=>f.mutationQueue.removeMutationBatch(T,ne))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let T=yr();for(let U=0;U<f.mutationResults.length;++U)f.mutationResults[U].transformResults.length>0&&(T=T.add(f.batch.mutations[U].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Tl(t,s,null),Dl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Du(t,a)}catch(a){yield Is(a)}}),Il.apply(this,arguments)}function Zc(r,e,t){return bl.apply(this,arguments)}function bl(){return bl=(0,p.Z)(function*(r,e,t){const s=jt(r);try{const a=yield function(c,f){const T=jt(c);return T.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let G;return T.mutationQueue.lookupMutationBatch(U,f).next(ne=>(vn(null!==ne),G=ne.keys(),T.mutationQueue.removeMutationBatch(U,ne))).next(()=>T.mutationQueue.performConsistencyCheck(U)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(U,G,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,G)).next(()=>T.localDocuments.getDocuments(U,G))})}(s.localStore,e);Tl(s,e,t),Dl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Du(s,a)}catch(a){yield Is(a)}}),bl.apply(this,arguments)}function Cl(){return Cl=(0,p.Z)(function*(r,e){const t=jt(r);ko(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const f=jt(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>f.mutationQueue.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=Gc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Cl.apply(this,arguments)}function Dl(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Tl(r,e,t){const s=jt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function iu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||ec(r,s)})}function ec(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Rd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Xh(r))}function Jh(r,e,t){for(const s of t)s instanceof dm?(r.Ic.addReference(s.key,e),mm(r,s)):s instanceof hm?(lt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||ec(r,s.key)):qt()}function mm(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(lt("SyncEngine","New document in limbo: "+t),r.mc.add(s),Xh(r))}function Xh(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new rn(Kn.fromString(e)),s=r.Ac.next();r.yc.set(s,new fv(t)),r.gc=r.gc.insert(t,s),Uc(r.remoteStore,new zu(b(Bu(t.path)),s,"TargetPurposeLimboResolution",no.ct))}}function Du(r,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,p.Z)(function*(r,e,t){const s=jt(r),a=[],c=[],f=[];var T;s.wc.isEmpty()||(s.wc.forEach((T,U)=>{f.push(s.Rc(U,e,t).then(G=>{if((G||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,G?.fromCache?"not-current":"current"),G){a.push(G);const ne=Oh.Li(U.targetId,G);c.push(ne)}}))}),yield Promise.all(f),s.dc.nu(a),yield(T=(0,p.Z)(function*(U,G){const ne=jt(U);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>Je.forEach(G,Ye=>Je.forEach(Ye.Fi,Et=>ne.persistence.referenceDelegate.addReference(Ee,Ye.targetId,Et)).next(()=>Je.forEach(Ye.Bi,Et=>ne.persistence.referenceDelegate.removeReference(Ee,Ye.targetId,Et)))))}catch(Ee){if(!$o(Ee))throw Ee;lt("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of G){const Ye=Ee.targetId;if(!Ee.fromCache){const Et=ne.Ji.get(Ye),En=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);ne.Ji=ne.Ji.insert(Ye,En)}}}),function(U,G){return T.apply(this,arguments)})(s.localStore,c))}),ef.apply(this,arguments)}function ym(r,e){return tf.apply(this,arguments)}function tf(){return tf=(0,p.Z)(function*(r,e){const t=jt(r);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const s=yield Jg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(T=>{T.reject(new Dt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Du(t,s.er)}var a}),tf.apply(this,arguments)}function vm(r,e){const t=jt(r),s=t.yc.get(e);if(s&&s.fc)return yr().add(s.key);{let a=yr();const c=t._c.get(e);if(!c)return a;for(const f of c){const T=t.wc.get(f);a=a.unionWith(T.view.nc)}return a}}function _m(r,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,p.Z)(function*(r,e){const t=jt(r),s=yield lp(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&Jh(t,e.targetId,a.cc),a}),Pp.apply(this,arguments)}function mv(r,e){return nf.apply(this,arguments)}function nf(){return nf=(0,p.Z)(function*(r,e){const t=jt(r);return em(t.localStore,e).then(s=>Du(t,s))}),nf.apply(this,arguments)}function yv(r,e,t,s){return rf.apply(this,arguments)}function rf(){return rf=(0,p.Z)(function*(r,e,t,s){const a=jt(r),c=yield function(f,T){const U=jt(f),G=jt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ne=>G.Sn(ne,T).next(Ee=>Ee?U.localDocuments.getDocuments(ne,Ee):Je.resolve(null)))}(a.localStore,e);var T;null!==c?("pending"===t?yield Ku(a.remoteStore):"acknowledged"===t||"rejected"===t?(Tl(a,e,s||null),Dl(a,e),T=e,jt(jt(a.localStore).mutationQueue).Cn(T)):qt(),yield Du(a,c)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),rf.apply(this,arguments)}function kd(){return kd=(0,p.Z)(function*(r,e){const t=jt(r);if(uf(t),Ld(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield wm(t,s.toArray());t.vc=!0,yield Kh(t.remoteStore,!0);for(const c of a)Uc(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(iu(t,f),Ql(t.localStore,f,!0))),Rd(t.remoteStore,f)}),yield a,yield wm(t,s),function(c){const f=jt(c);f.yc.forEach((T,U)=>{Rd(f.remoteStore,U)}),f.Ic.Ts(),f.yc=new Map,f.gc=new ri(rn.comparator)}(t),t.vc=!1,yield Kh(t.remoteStore,!1)}}),kd.apply(this,arguments)}function wm(r,e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,p.Z)(function*(r,e,t){const s=jt(r),a=[],c=[];for(const f of e){let T;const U=s._c.get(f);if(U&&0!==U.length){T=yield Yl(s.localStore,b(U[0]));for(const G of U){const ne=s.wc.get(G),Ee=yield _m(s,ne);Ee.snapshot&&c.push(Ee.snapshot)}}else{const G=yield Nh(s.localStore,f);T=yield Yl(s.localStore,G),yield qc(s,Fd(G),f,!1,T.resumeToken)}a.push(T)}return s.dc.nu(c),a}),Qc.apply(this,arguments)}function Fd(r){return vc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Np(r){const e=jt(r);return jt(jt(e.localStore).persistence).$i()}function vv(r,e,t,s){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,p.Z)(function*(r,e,t,s){const a=jt(r);if(a.vc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield em(a.localStore,Ln(c[0])),T=ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ts.EMPTY_BYTE_STRING);yield Du(a,f,T);break}case"rejected":yield Ql(a.localStore,e,!0),iu(a,e,s);break;default:qt()}}),Jc.apply(this,arguments)}function sf(r,e,t){return af.apply(this,arguments)}function af(){return af=(0,p.Z)(function*(r,e,t){const s=uf(r);if(s.vc){for(const a of e){if(s._c.has(a)){lt("SyncEngine","Adding an already active target "+a);continue}const c=yield Nh(s.localStore,a),f=yield Yl(s.localStore,c);yield qc(s,Fd(c),f.targetId,!1,f.resumeToken),Uc(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield Ql(s.localStore,a,!1).then(()=>{Rd(s.remoteStore,a),iu(s,a)}).catch(Is))}}),af.apply(this,arguments)}function uf(r){const e=jt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qh.bind(null,e),e.dc.nu=Sp.bind(null,e.eventManager),e.dc.Pc=cv.bind(null,e.eventManager),e}function Ld(r){const e=jt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zc.bind(null,e),e}class Xc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=xd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return op(this.persistence,new bd,e.initialUser,this.serializer)}createPersistence(e){return new Ed(rp.zs,this.serializer)}createSharedClientState(e){return new Vh}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lf extends Xc{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Ld(s.Vc.syncEngine),yield Ku(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return op(this.persistence,new bd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new jg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new od(t,this.persistence);return new Ea(e.asyncQueue,s)}createPersistence(e){const t=sp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new Qg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,dp(),Ad(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Vh}}class Im extends lf{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Lh&&(s.sharedClientState.syncEngine={jr:yv.bind(null,a),zr:vv.bind(null,a),Wr:sf.bind(null,a),$i:Np.bind(null,a),Qr:mv.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,p.Z)(function*(f){yield function Op(r,e){return kd.apply(this,arguments)}(s.Vc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=dp();if(!Lh.D(t))throw new Dt(qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=sp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class tc{initialize(e,t){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>El(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ym.bind(null,s.syncEngine),yield Kh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lv}createDatastore(e){const t=xd(e.databaseInfo.databaseId),s=new ev(e.databaseInfo);return new z_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=T=>El(this.syncEngine,T,0),f=Uh.D()?new Uh:new cp,new iv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,T,U,G){const ne=new W_(s,a,c,f,T,U);return G&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const s=jt(t);lt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Vc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Fp(r,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Vd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bm{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Vi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,p.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new dv(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class _v{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Dt(qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,p.Z)(function*(c,f){const T=jt(c),U=pd(T.serializer)+"/documents",G={documents:f.map(Et=>Hl(T.serializer,Et))},ne=yield T.vo("BatchGetDocuments",U,G,f.length),Ee=new Map;ne.forEach(Et=>{const zt=function $_(r,e){return"found"in e?function(t,s){vn(!!s.found);const a=tu(t,s.found.name),c=Hr(s.found.updateTime),f=s.found.createTime?Hr(s.found.createTime):On.min(),T=new Rs({mapValue:{fields:s.found.fields}});return Si.newFoundDocument(a,c,f,T)}(r,e):"missing"in e?function(t,s){vn(!!s.missing),vn(!!s.readTime);const a=tu(t,s.missing),c=Hr(s.readTime);return Si.newNoDocument(a,c)}(r,e):qt()}(T.serializer,Et);Ee.set(zt.key.toString(),zt)});const Ye=[];return f.forEach(Et=>{const zt=Ee.get(Et.toString());vn(!!zt),Ye.push(zt)}),Ye}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=rn.fromPath(a);e.mutations.push(new jl(c,e.precondition(c)))}),yield(s=(0,p.Z)(function*(a,c){const f=jt(a),T=pd(f.serializer)+"/documents",U={writes:c.map(G=>zl(f.serializer,G))};yield f.Io("Commit",T,U)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qt();t=On.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Dt(qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(On.min())?ds.exists(!1):ds.updateTime(t):ds.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(On.min()))throw new Dt(qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ds.updateTime(t)}return ds.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wv{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new hp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,p.Z)(function*(){const t=new _v(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Mi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Eg(t)}return!1}}class Ev{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=C.UNAUTHENTICATED,this.clientId=wi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,p.Z)(function*(T){lt("FirestoreClient","Received user=",T.uid),yield c.authCredentialListener(T),c.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(lt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Gc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Ud(r,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,p.Z)(function*(c){s.isEqual(c)||(yield Jg(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Bd.apply(this,arguments)}function cf(r,e){return df.apply(this,arguments)}function df(){return df=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield hf(r);lt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Hc(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Hc(e.remoteStore,c)),r._onlineComponents=e}),df.apply(this,arguments)}function Lp(r){return"FirebaseError"===r.name?r.code===qe.FAILED_PRECONDITION||r.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function hf(r){return ff.apply(this,arguments)}function ff(){return ff=(0,p.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ud(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Lp(t))throw t;ir("Error using user provided cache. Falling back to memory cache: "+t),yield Ud(r,new Xc)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield Ud(r,new Xc);return r._offlineComponents}),ff.apply(this,arguments)}function $d(r){return pf.apply(this,arguments)}function pf(){return pf=(0,p.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield cf(r,r._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield cf(r,new tc))),r._onlineComponents}),pf.apply(this,arguments)}function Vp(r){return hf(r).then(e=>e.persistence)}function nc(r){return hf(r).then(e=>e.localStore)}function Zu(r){return $d(r).then(e=>e.remoteStore)}function Up(r){return $d(r).then(e=>e.syncEngine)}function Sl(r){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,p.Z)(function*(r){const e=yield $d(r),t=e.eventManager;return t.onListen=pm.bind(null,e.syncEngine),t.onUnlisten=pv.bind(null,e.syncEngine),t}),Yu.apply(this,arguments)}function bv(r,e,t={}){const s=new Vi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,T,U){const G=new Vd({next:Ee=>{c.enqueueAndForget(()=>Tp(a,ne));const Ye=Ee.docs.has(f);!Ye&&Ee.fromCache?U.reject(new Dt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):Ye&&Ee.fromCache&&T&&"server"===T.source?U.reject(new Dt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ee)},error:Ee=>U.reject(Ee)}),ne=new Ap(Bu(f.path),G,{includeMetadataChanges:!0,Ku:!0});return Cp(a,ne)}(yield Sl(r),r.asyncQueue,e,t,s)})),s.promise}function Dm(r,e,t={}){const s=new Vi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,T,U){const G=new Vd({next:Ee=>{c.enqueueAndForget(()=>Tp(a,ne)),Ee.fromCache&&"server"===T.source?U.reject(new Dt(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ee)},error:Ee=>U.reject(Ee)}),ne=new Ap(f,G,{includeMetadataChanges:!0,Ku:!0});return Cp(a,ne)}(yield Sl(r),r.asyncQueue,e,t,s)})),s.promise}function jp(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Sm=new Map;function Hp(r,e,t){if(!t)throw new Dt(qe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zp(r,e,t,s){if(!0===e&&!0===s)throw new Dt(qe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Am(r){if(!rn.isDocumentKey(r))throw new Dt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gp(r){if(rn.isDocumentKey(r))throw new Dt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":qt()}function Ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Dt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jd(r);throw new Dt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function xm(r,e){if(e<=0)throw new Dt(qe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Mm{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uu;switch(t.type){case"firstParty":return new wo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Dt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sm.get(e);t&&(lt("ComponentProvider","Removing Datastore"),Sm.delete(e),t.terminate())}(this),Promise.resolve()}}function Rm(r,e,t,s={}){var a;const c=(r=Ur(r,ed))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&ir("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,T;if("string"==typeof s.mockUserToken)f=s.mockUserToken,T=C.MOCK_USER;else{f=(0,ve.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Dt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new C(U)}r._authCredentials=new Pa(new Ra(f,T))}}class bs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class Ko{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class su extends Ko{constructor(e,t,s){super(e,t,Bu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new rn(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function Wp(r,e,...t){if(r=(0,ve.m9)(r),Hp("collection","path",e),r instanceof ed){const s=Kn.fromString(e,...t);return Gp(s),new su(r,null,s)}{if(!(r instanceof bs||r instanceof su))throw new Dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Kn.fromString(e,...t));return Gp(s),new su(r.firestore,null,s)}}function Tu(r,e){if(r=Ur(r,ed),Hp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dt(qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ko(r,null,(t=e,new Xa(Kn.emptyPath(),t)));var t}function Pm(r,e,...t){if(r=(0,ve.m9)(r),1===arguments.length&&(e=wi.A()),Hp("doc","path",e),r instanceof ed){const s=Kn.fromString(e,...t);return Am(s),new bs(r,null,new rn(s))}{if(!(r instanceof bs||r instanceof su))throw new Dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Kn.fromString(e,...t));return Am(s),new bs(r.firestore,r instanceof su?r.converter:null,new rn(s))}}function Tv(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),(r instanceof bs||r instanceof su)&&(e instanceof bs||e instanceof su)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Ua(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),r instanceof Ko&&e instanceof Ko&&r.firestore===e.firestore&&Fe(r._query,e._query)&&r.converter===e.converter}class ou{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hp(this,"async_queue_retry"),this.Xc=()=>{const t=Ad();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ad();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ad();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,p.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!$o(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Cn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Xl.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&qt()}verifyOperationInProgress(){}sa(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Sa(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Om{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Nm=-1;class ns extends ed{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new ou,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gf(this),this._firestoreClient.terminate()}}function Sv(r,e){const t="object"==typeof r?r:(0,V.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,V._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,ve.P0)("firestore");c&&Rm(a,...c)}return a}function Us(r){return r._firestoreClient||gf(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function gf(r){var e,t,s;const a=r._freezeSettings(),c=(T=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Fu(r._databaseId,T,r._persistenceKey,(G=a).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,jp(G.experimentalLongPollingOptions),G.useFetchStreams));var T,G;r._firestoreClient=new Ev(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Hd(r,e){Zp(r=Ur(r,ns));const t=Us(r);if(t._uninitializedComponentsProvider)throw new Dt(qe.FAILED_PRECONDITION,"SDK cache is already specified.");ir("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new tc;return qp(t,a,new lf(a,s.cacheSizeBytes,e?.forceOwnership))}function Av(r){Zp(r=Ur(r,ns));const e=Us(r);if(e._uninitializedComponentsProvider)throw new Dt(qe.FAILED_PRECONDITION,"SDK cache is already specified.");ir("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new tc;return qp(e,s,new Im(s,t.cacheSizeBytes))}function qp(r,e,t){const s=new Vi;return r.asyncQueue.enqueue((0,p.Z)(function*(){try{yield Ud(r,t),yield cf(r,e),s.resolve()}catch(a){const c=a;if(!Lp(c))throw c;ir("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function xv(r){if(r._initialized&&!r._terminated)throw new Dt(qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(s){if(!Ar.D())return Promise.resolve();const a=s+"main";yield Ar.delete(a)}),function(s){return t.apply(this,arguments)})(sp(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Mv(r){return function(e){const t=new Vi;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Yc(r,e){return Cl.apply(this,arguments)}(yield Up(e),t)})),t.promise}(Us(r=Ur(r,ns)))}function km(r){return function Bp(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Vp(r),t=yield Zu(r);return e.setNetworkEnabled(!0),function(s){const a=jt(s);return a.vu.delete(0),Md(a)}(t)}))}(Us(r=Ur(r,ns)))}function Fm(r){return function Iv(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Vp(r),t=yield Zu(r);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(a){const c=jt(a);c.vu.add(0),yield Vc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Us(r=Ur(r,ns)))}function Rv(r,e){const t=Us(r=Ur(r,ns)),s=new Om;return function Tm(r,e,t,s){const a=function(c,f){let T;return T="string"==typeof c?hh().encode(c):c,U=function(U,G){if(U instanceof Uint8Array)return Fp(U,G);if(U instanceof ArrayBuffer)return Fp(new Uint8Array(U),G);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new bm(U,f);var U}(t,xd(e));r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function Em(r,e,t){const s=jt(r);var a;(a=(0,p.Z)(function*(c,f,T){try{const U=yield f.getMetadata();if(yield function(Ye,Et){const zt=jt(Ye),En=Hr(Et.createTime);return zt.persistence.runTransaction("hasNewerBundle","readonly",Dn=>zt.qs.getBundleMetadata(Dn,Et.id)).then(Dn=>!!Dn&&Dn.createTime.compareTo(En)>=0)}(c.localStore,U))return yield f.close(),T._completeWith({taskState:"Success",documentsLoaded:(Ye=U).totalDocuments,bytesLoaded:Ye.totalBytes,totalDocuments:Ye.totalDocuments,totalBytes:Ye.totalBytes}),Promise.resolve(new Set);T._updateProgress(cm(U));const G=new hv(U,c.localStore,f.serializer);let ne=yield f.bc();for(;ne;){const Ye=yield G.zu(ne);Ye&&T._updateProgress(Ye),ne=yield f.bc()}const Ee=yield G.complete();return yield Du(c,Ee.Ju,void 0),yield function(Ye,Et){const zt=jt(Ye);return zt.persistence.runTransaction("Save bundle","readwrite",En=>zt.qs.saveBundleMetadata(En,Et))}(c.localStore,U),T._completeWith(Ee.progress),Promise.resolve(Ee.Hu)}catch(U){return ir("SyncEngine",`Loading bundle failed with ${U}`),T._failWith(U),Promise.resolve(new Set)}var Ye}),function(c,f,T){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Up(r),a,s)}))}(t,r._databaseId,e,s),s}function Lm(r,e){return function Dv(r,e){return r.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,s){const a=jt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield nc(r),e)}))}(Us(r=Ur(r,ns)),e).then(t=>t?new Ko(r,null,t.query):null)}function Zp(r){if(r._initialized||r._terminated)throw new Dt(qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Su(ts.fromBase64String(e))}catch(t){throw new Dt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Su(ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Dt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Al{constructor(e){this._methodName=e}}class zd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const Vm=/^__.*__$/;class Um{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class Yp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class yf{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Bm(this.ca)&&Vm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ov{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||xd(e)}ya(e,t,s,a=!1){return new yf({ca:e,methodName:t,ga:s,path:lr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ic(r){const e=r._freezeSettings(),t=xd(r._databaseId);return new Ov(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vf(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);eg("Data must be an object, but it was:",f,s);const T=Hm(s,f);let U,G;if(c.merge)U=new oo(f.fieldMask),G=f.fieldTransforms;else if(c.mergeFields){const ne=[];for(const Ee of c.mergeFields){const Ye=td(e,Ee,t);if(!f.contains(Ye))throw new Dt(qe.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);tg(ne,Ye)||ne.push(Ye)}U=new oo(ne),G=f.fieldTransforms.filter(Ee=>U.covers(Ee.field))}else U=null,G=f.fieldTransforms;return new Um(new Rs(T),U,G)}class Gd extends Al{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function $m(r,e,t){return new yf({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qp extends Al{_toFieldTransform(e){return new lh(e.path,new Dc)}isEqual(e){return e instanceof Qp}}class Nv extends Al{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=$m(this,e,!0),s=this.pa.map(c=>sc(c,t)),a=new ll(s);return new lh(e.path,a)}isEqual(e){return this===e}}class kv extends Al{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=$m(this,e,!0),s=this.pa.map(c=>sc(c,t)),a=new wu(s);return new lh(e.path,a)}isEqual(e){return this===e}}class Fv extends Al{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new eu(e.serializer,Cc(e.serializer,this.Ia));return new lh(e.path,t)}isEqual(e){return this===e}}function Jp(r,e,t,s){const a=r.ya(1,e,t);eg("Data must be an object, but it was:",a,s);const c=[],f=Rs.empty();Eo(s,(U,G)=>{const ne=Wd(e,U,t);G=(0,ve.m9)(G);const Ee=a.da(ne);if(G instanceof Gd)c.push(ne);else{const Ye=sc(G,Ee);null!=Ye&&(c.push(ne),f.set(ne,Ye))}});const T=new oo(c);return new Yp(f,T,a.fieldTransforms)}function Xp(r,e,t,s,a,c){const f=r.ya(1,e,t),T=[td(e,s,t)],U=[a];if(c.length%2!=0)throw new Dt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<c.length;Ye+=2)T.push(td(e,c[Ye])),U.push(c[Ye+1]);const G=[],ne=Rs.empty();for(let Ye=T.length-1;Ye>=0;--Ye)if(!tg(G,T[Ye])){const Et=T[Ye];let zt=U[Ye];zt=(0,ve.m9)(zt);const En=f.da(Et);if(zt instanceof Gd)G.push(Et);else{const Dn=sc(zt,En);null!=Dn&&(G.push(Et),ne.set(Et,Dn))}}const Ee=new oo(G);return new Yp(ne,Ee,f.fieldTransforms)}function jm(r,e,t,s=!1){return sc(t,r.ya(s?4:3,e))}function sc(r,e){if(zm(r=(0,ve.m9)(r)))return eg("Unsupported field value:",e,r),Hm(r,e);if(r instanceof Al)return function(t,s){if(!Bm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let T=sc(f,s.wa(c));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ai.fromDate(t);return{timestampValue:Rc(s.serializer,a)}}if(t instanceof ai){const a=new ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rc(s.serializer,a)}}if(t instanceof zd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Su)return{bytesValue:vh(s.serializer,t._byteString)};if(t instanceof bs){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Uf(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${jd(t)}`)}(r,e)}function Hm(r,e){const t={};return tl(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(r,(s,a)=>{const c=sc(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function zm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ai||r instanceof zd||r instanceof Su||r instanceof bs||r instanceof Al)}function eg(r,e,t){if(!zm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=jd(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function td(r,e,t){if((e=(0,ve.m9)(e))instanceof Au)return e._internalPath;if("string"==typeof e)return Wd(r,e);throw qd("Field path arguments must be of type string or ",r,!1,void 0,t)}const Gm=new RegExp("[~\\*/\\[\\]]");function Wd(r,e,t){if(e.search(Gm)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qd(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let U="";return(c||f)&&(U+=" (found",c&&(U+=` in field ${s}`),f&&(U+=` in document ${a}`),U+=")"),new Dt(qe.INVALID_ARGUMENT,T+r+U)}function tg(r,e){return r.some(t=>t.isEqual(e))}class nd{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wm extends nd{data(){return super.data()}}function Kd(r,e){return"string"==typeof e?Wd(r,e):e instanceof Au?e._internalPath:e._delegate._internalPath}function ng(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Dt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _f{}class rd extends _f{}function oc(r,e,...t){let s=[];e instanceof _f&&s.push(e),s=s.concat(t),function(a){const c=a.filter(T=>T instanceof au).length,f=a.filter(T=>T instanceof Zd).length;if(c>1||c>0&&f>0)throw new Dt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Zd extends rd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Zd(e,t,s)}_apply(e){const t=this._parse(e);return rg(e._query,t),new Ko(e.firestore,e.converter,Y(e._query,t))}_parse(e){const t=ic(e.firestore);return function(a,c,f,T,U,G,ne){let Ee;if(U.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Dt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){$v(ne,G);const Ye=[];for(const Et of ne)Ye.push(Cs(T,a,Et));Ee={arrayValue:{values:Ye}}}else Ee=Cs(T,a,ne)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||$v(ne,G),Ee=jm(f,"where",ne,"in"===G||"not-in"===G);return ue.create(U,G,Ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lv(r,e,t){const s=e,a=Kd("where",r);return Zd._create(a,s,t)}class au extends _f{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new au(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ce.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const T of f)rg(c,T),c=Y(c,T)}(e._query,t),new Ko(e.firestore,e.converter,Y(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Km extends rd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Km(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Dt(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Dt(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new I(a,c);return function(T,U){if(null===hd(T)){const G=w(T);null!==G&&ig(0,G,U.field)}}(s,f),f}(e._query,this._field,this._direction);return new Ko(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Xa(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Zm(r,e="asc"){const t=e,s=Kd("orderBy",r);return Km._create(s,t)}class Yd extends rd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Yd(e,t,s)}_apply(e){return new Ko(e.firestore,e.converter,ie(e._query,this._limit,this._limitType))}}function Z_(r){return xm("limit",r),Yd._create("limit",r,"F")}function ur(r){return xm("limitToLast",r),Yd._create("limitToLast",r,"L")}class wf extends rd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new wf(e,t,s)}_apply(e){const t=Qd(e,this.type,this._docOrFields,this._inclusive);return new Ko(e.firestore,e.converter,(a=t,new Xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function Vv(...r){return wf._create("startAt",r,!0)}function Uv(...r){return wf._create("startAfter",r,!1)}class Qu extends rd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Qu(e,t,s)}_apply(e){const t=Qd(e,this.type,this._docOrFields,this._inclusive);return new Ko(e.firestore,e.converter,(a=t,new Xa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Bv(...r){return Qu._create("endBefore",r,!1)}function Ef(...r){return Qu._create("endAt",r,!0)}function Qd(r,e,t,s){if(t[0]=(0,ve.m9)(t[0]),t[0]instanceof nd)return function(a,c,f,T,U){if(!T)throw new Dt(qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const G=[];for(const ne of g(a))if(ne.field.isKeyField())G.push(Vu(c,T.key));else{const Ee=T.data.field(ne.field);if(nl(Ee))throw new Dt(qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Ye=ne.field.canonicalString();throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ye}' (used as the orderBy) does not exist.`)}G.push(Ee)}return new Fa(G,U)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=ic(r.firestore);return function(c,f,T,U,G,ne){const Ee=c.explicitOrderBy;if(G.length>Ee.length)throw new Dt(qe.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ye=[];for(let Et=0;Et<G.length;Et++){const zt=G[Et];if(Ee[Et].field.isKeyField()){if("string"!=typeof zt)throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof zt}`);if(!d(c)&&-1!==zt.indexOf("/"))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${zt}' contains a slash.`);const En=c.path.child(Kn.fromString(zt));if(!rn.isDocumentKey(En))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const Dn=new rn(En);Ye.push(Vu(f,Dn))}else{const En=jm(T,U,zt);Ye.push(En)}}return new Fa(Ye,ne)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Cs(r,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new Dt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d(e)&&-1!==t.indexOf("/"))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Kn.fromString(t));if(!rn.isDocumentKey(s))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vu(r,new rn(s))}if(t instanceof bs)return Vu(r,t._key);throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(t)}.`)}function $v(r,e){if(!Array.isArray(r)||0===r.length)throw new Dt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rg(r,e){if(e.isInequality()){const s=w(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=hd(r);null!==c&&ig(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Dt(qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ig(r,e,t){if(!t.isEqual(e))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class If{convertValue(e,t="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Eo(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new zd(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const t=Na(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Kn.fromString(e);vn(hl(s));const a=new ba(s.get(1),s.get(3)),c=new rn(s.popFirst(5));return a.isEqual(t)||Cn(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Jd(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Qm extends If{constructor(e){super(),this.firestore=e}convertBytes(e){return new Su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}class ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uc extends nd{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Xd extends uc{data(e={}){return super.data(e)}}class xu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ac(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Xd(this._firestore,this._userDataWriter,s.key,s,new ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Xd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ac(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const T=new Xd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ac(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,G=-1;return 0!==f.type&&(U=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),G=c.indexOf(f.doc.key)),{type:Jm(f.type),doc:T,oldIndex:U,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jm(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function Xm(r,e){return r instanceof uc&&e instanceof uc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof xu&&e instanceof xu&&r._firestore===e._firestore&&Ua(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function ey(r){r=Ur(r,bs);const e=Ur(r.firestore,ns);return bv(Us(e),r._key).then(t=>sy(e,r,t))}class xl extends If{constructor(e){super(),this.firestore=e}convertBytes(e){return new Su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}function eh(r){r=Ur(r,bs);const e=Ur(r.firestore,ns),t=Us(e),s=new xl(e);return function $p(r,e){const t=new Vi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const T=yield function(U,G){const ne=jt(U);return ne.persistence.runTransaction("read document","readonly",Ee=>ne.localDocuments.getDocument(Ee,G))}(a,c);T.isFoundDocument()?f.resolve(T):T.isNoDocument()?f.resolve(null):f.reject(new Dt(qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const U=Gc(T,`Failed to get document '${c} from cache`);f.reject(U)}}),function(a,c,f){return s.apply(this,arguments)})(yield nc(r),e,t);var s})),t.promise}(t,r._key).then(a=>new uc(e,s,r._key,a,new ac(null!==a&&a.hasLocalMutations,!0),r.converter))}function th(r){r=Ur(r,bs);const e=Ur(r.firestore,ns);return bv(Us(e),r._key,{source:"server"}).then(t=>sy(e,r,t))}function zv(r){r=Ur(r,Ko);const e=Ur(r.firestore,ns),t=Us(e),s=new xl(e);return ng(r._query),Dm(t,r._query).then(a=>new xu(e,s,r,a))}function Gv(r){r=Ur(r,Ko);const e=Ur(r.firestore,ns),t=Us(e),s=new xl(e);return function q_(r,e){const t=new Vi;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const T=yield lp(a,c,!0),U=new xp(c,T.ir),G=U.sc(T.documents),ne=U.applyChanges(G,!1);f.resolve(ne.snapshot)}catch(T){const U=Gc(T,`Failed to execute query '${c} against cache`);f.reject(U)}}),function(a,c,f){return s.apply(this,arguments)})(yield nc(r),e,t);var s})),t.promise}(t,r._query).then(a=>new xu(e,s,r,a))}function Wv(r){r=Ur(r,Ko);const e=Ur(r.firestore,ns),t=Us(e),s=new xl(e);return Dm(t,r._query,{source:"server"}).then(a=>new xu(e,s,r,a))}function ty(r,e,t){r=Ur(r,bs);const s=Ur(r.firestore,ns),a=Jd(r.converter,e,t);return id(s,[vf(ic(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ds.none())])}function ny(r,e,t,...s){r=Ur(r,bs);const a=Ur(r.firestore,ns),c=ic(a);let f;return f="string"==typeof(e=(0,ve.m9)(e))||e instanceof Au?Xp(c,"updateDoc",r._key,e,t,s):Jp(c,"updateDoc",r._key,e),id(a,[f.toMutation(r._key,ds.exists(!0))])}function ry(r){return id(Ur(r.firestore,ns),[new Da(r._key,ds.none())])}function qv(r,e){const t=Ur(r.firestore,ns),s=Pm(r),a=Jd(r.converter,e);return id(t,[vf(ic(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ds.exists(!1))]).then(()=>s)}function iy(r,...e){var t,s,a;r=(0,ve.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Sa(e[f])||(c=e[f],f++);const T={includeMetadataChanges:c.includeMetadataChanges};if(Sa(e[f])){const Ee=e[f];e[f]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[f+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[f+2]=null===(a=Ee.complete)||void 0===a?void 0:a.bind(Ee)}let U,G,ne;if(r instanceof bs)G=Ur(r.firestore,ns),ne=Bu(r._key.path),U={next:Ee=>{e[f]&&e[f](sy(G,r,Ee))},error:e[f+1],complete:e[f+2]};else{const Ee=Ur(r,Ko);G=Ur(Ee.firestore,ns),ne=Ee._query;const Ye=new xl(G);U={next:Et=>{e[f]&&e[f](new xu(G,Ye,Ee,Et))},error:e[f+1],complete:e[f+2]},ng(r._query)}return function(Ee,Ye,Et,zt){const En=new Vd(zt),Dn=new Ap(Ye,En,Et);return Ee.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Cp(yield Sl(Ee),Dn)})),()=>{En.Dc(),Ee.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Tp(yield Sl(Ee),Dn)}))}}(Us(G),ne,T,U)}function Kv(r,e){return function Cv(r,e){const t=new Vd(e);return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Sl(r),a=t,jt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield Sl(r),a=t,void jt(s).ku.delete(a);var s,a}))}}(Us(r=Ur(r,ns)),Sa(e)?e:{next:e})}function id(r,e){return function(t,s){const a=new Vi;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function gv(r,e,t){return Va.apply(this,arguments)}(yield Up(t),s,a)})),a.promise}(Us(r),e)}function sy(r,e,t){const s=t.docs.get(e._key),a=new xl(r);return new uc(r,a,e._key,s,new ac(t.hasPendingWrites,t.fromCache),e.converter)}const e_={maxAttempts:5};class sg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ic(e)}set(e,t,s){this._verifyNotCommitted();const a=Ml(e,this._firestore),c=Jd(a.converter,t,s),f=vf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,ds.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Ml(e,this._firestore);let f;return f="string"==typeof(t=(0,ve.m9)(t))||t instanceof Au?Xp(this._dataReader,"WriteBatch.update",c._key,t,s,a):Jp(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,ds.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ml(e,this._firestore);return this._mutations=this._mutations.concat(new Da(t._key,ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ml(r,e){if((r=(0,ve.m9)(r)).firestore!==e)throw new Dt(qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class t_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ic(e)}get(e){const t=Ml(e,this._firestore),s=new Qm(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return qt();const c=a[0];if(c.isFoundDocument())return new nd(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new nd(this._firestore,s,t._key,null,t.converter);throw qt()})}set(e,t,s){const a=Ml(e,this._firestore),c=Jd(a.converter,t,s),f=vf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const c=Ml(e,this._firestore);let f;return f="string"==typeof(t=(0,ve.m9)(t))||t instanceof Au?Xp(this._dataReader,"Transaction.update",c._key,t,s,a):Jp(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Ml(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ml(e,this._firestore),s=new xl(this._firestore);return super.get(e).then(a=>new uc(this._firestore,s,t._key,a._document,new ac(!1,!1),t.converter))}}function nh(r,e,t){r=Ur(r,ns);const s=Object.assign(Object.assign({},e_),t);return function(a){if(a.maxAttempts<1)throw new Dt(qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,f){const T=new Vi;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const U=yield function Cm(r){return $d(r).then(e=>e.datastore)}(a);new wv(a.asyncQueue,U,f,c,T).run()})),T.promise}(Us(r),a=>e(new t_(r,a)),s)}function n_(){return new Gd("deleteField")}function ay(){return new Qp("serverTimestamp")}function r_(...r){return new Nv("arrayUnion",r)}function uy(...r){return new kv("arrayRemove",r)}function i_(r){return new Fv("increment",r)}!function(r,e=!0){W=V.SDK_VERSION,(0,V._registerComponent)(new A.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new ns(new lu(t.getProvider("auth-internal")),new Pu(t.getProvider("app-check-internal")),function(T,U){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Dt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(T.options.projectId,U)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,V.registerVersion)(E,"3.12.1",r),(0,V.registerVersion)(E,"3.12.1","esm2017")}()},2090:(on,Pe,j)=>{"use strict";j.d(Pe,{$s:()=>sr,BH:()=>pt,G6:()=>je,L:()=>Be,LL:()=>Tn,P0:()=>_t,Pz:()=>at,Sg:()=>It,UG:()=>kt,US:()=>Ie,ZB:()=>xe,ZR:()=>Pt,aH:()=>it,b$:()=>Ot,eu:()=>dt,hl:()=>tt,jU:()=>tn,m9:()=>vr,ne:()=>wn,pd:()=>Er,q4:()=>Ke,r3:()=>Wn,ru:()=>Mt,tV:()=>de,uI:()=>ce,vZ:()=>Lt,w1:()=>gr,xO:()=>dr,xb:()=>Rn,z$:()=>ct,zI:()=>rt,zd:()=>kr});const Se=function(_e){const X=[];let x=0;for(let L=0;L<_e.length;L++){let B=_e.charCodeAt(L);B<128?X[x++]=B:B<2048?(X[x++]=B>>6|192,X[x++]=63&B|128):55296==(64512&B)&&L+1<_e.length&&56320==(64512&_e.charCodeAt(L+1))?(B=65536+((1023&B)<<10)+(1023&_e.charCodeAt(++L)),X[x++]=B>>18|240,X[x++]=B>>12&63|128,X[x++]=B>>6&63|128,X[x++]=63&B|128):(X[x++]=B>>12|224,X[x++]=B>>6&63|128,X[x++]=63&B|128)}return X},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,X){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let B=0;B<_e.length;B+=3){const ae=_e[B],oe=B+1<_e.length,le=oe?_e[B+1]:0,se=B+2<_e.length,Te=se?_e[B+2]:0;let Ht=(15&le)<<2|Te>>6,an=63&Te;se||(an=64,oe||(Ht=64)),L.push(x[ae>>2],x[(3&ae)<<4|le>>4],x[Ht],x[an])}return L.join("")},encodeString(_e,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(_e):this.encodeByteArray(Se(_e),X)},decodeString(_e,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(_e):function(_e){const X=[];let x=0,L=0;for(;x<_e.length;){const B=_e[x++];if(B<128)X[L++]=String.fromCharCode(B);else if(B>191&&B<224){const ae=_e[x++];X[L++]=String.fromCharCode((31&B)<<6|63&ae)}else if(B>239&&B<365){const se=((7&B)<<18|(63&_e[x++])<<12|(63&_e[x++])<<6|63&_e[x++])-65536;X[L++]=String.fromCharCode(55296+(se>>10)),X[L++]=String.fromCharCode(56320+(1023&se))}else{const ae=_e[x++],oe=_e[x++];X[L++]=String.fromCharCode((15&B)<<12|(63&ae)<<6|63&oe)}}return X.join("")}(this.decodeStringToByteArray(_e,X))},decodeStringToByteArray(_e,X){this.init_();const x=X?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let B=0;B<_e.length;){const ae=x[_e.charAt(B++)],le=B<_e.length?x[_e.charAt(B)]:0;++B;const Te=B<_e.length?x[_e.charAt(B)]:64;++B;const gt=B<_e.length?x[_e.charAt(B)]:64;if(++B,null==ae||null==le||null==Te||null==gt)throw new Me;L.push(ae<<2|le>>4),64!==Te&&(L.push(le<<4&240|Te>>2),64!==gt&&L.push(Te<<6&192|gt))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(_e){return function(_e){const X=Se(_e);return Ie.encodeByteArray(X,!0)}(_e).replace(/\./g,"")},de=function(_e){try{return Ie.decodeString(_e,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function xe(_e,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return X}for(const x in X)!X.hasOwnProperty(x)||!nt(x)||(_e[x]=xe(_e[x],X[x]));return _e}function nt(_e){return"__proto__"!==_e}const ot=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=_e&&de(_e[1]);return X&&JSON.parse(X)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},Ke=_e=>{var X,x;return null===(x=null===(X=ot())||void 0===X?void 0:X.emulatorHosts)||void 0===x?void 0:x[_e]},_t=_e=>{const X=Ke(_e);if(!X)return;const x=X.lastIndexOf(":");if(x<=0||x+1===X.length)throw new Error(`Invalid host ${X} with no separate hostname and port!`);const L=parseInt(X.substring(x+1),10);return"["===X[0]?[X.substring(1,x-1),L]:[X.substring(0,x),L]},it=()=>{var _e;return null===(_e=ot())||void 0===_e?void 0:_e.config},at=_e=>{var X;return null===(X=ot())||void 0===X?void 0:X[`_${_e}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,x)=>{this.resolve=X,this.reject=x})}wrapCallback(X){return(x,L)=>{x?this.reject(x):this.resolve(L),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(x):X(x,L))}}}function It(_e,X){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=X||"demo-project",B=_e.iat||0,ae=_e.sub||_e.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:B,exp:B+3600,auth_time:B,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(oe)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function kt(){var _e;const X=null===(_e=ot())||void 0===_e?void 0:_e.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tn(){return"object"==typeof self&&self.self===self}function Mt(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function Ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gr(){const _e=ct();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function je(){return!kt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function dt(){return new Promise((_e,X)=>{try{let x=!0;const L="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(L);B.onsuccess=()=>{B.result.close(),x||self.indexedDB.deleteDatabase(L),_e(!0)},B.onupgradeneeded=()=>{x=!1},B.onerror=()=>{var ae;X((null===(ae=B.error)||void 0===ae?void 0:ae.message)||"")}}catch(x){X(x)}})}function rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pt extends Error{constructor(X,x,L){super(x),this.code=X,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}}class Tn{constructor(X,x,L){this.service=X,this.serviceName=x,this.errors=L}create(X,...x){const L=x[0]||{},B=`${this.service}/${X}`,ae=this.errors[X],oe=ae?function xt(_e,X){return _e.replace(Ft,(x,L)=>{const B=X[L];return null!=B?String(B):`<${L}?>`})}(ae,L):"Error";return new Pt(B,`${this.serviceName}: ${oe} (${B}).`,L)}}const Ft=/\{\$([^}]+)}/g;function Wn(_e,X){return Object.prototype.hasOwnProperty.call(_e,X)}function Rn(_e){for(const X in _e)if(Object.prototype.hasOwnProperty.call(_e,X))return!1;return!0}function Lt(_e,X){if(_e===X)return!0;const x=Object.keys(_e),L=Object.keys(X);for(const B of x){if(!L.includes(B))return!1;const ae=_e[B],oe=X[B];if(nn(ae)&&nn(oe)){if(!Lt(ae,oe))return!1}else if(ae!==oe)return!1}for(const B of L)if(!x.includes(B))return!1;return!0}function nn(_e){return null!==_e&&"object"==typeof _e}function dr(_e){const X=[];for(const[x,L]of Object.entries(_e))Array.isArray(L)?L.forEach(B=>{X.push(encodeURIComponent(x)+"="+encodeURIComponent(B))}):X.push(encodeURIComponent(x)+"="+encodeURIComponent(L));return X.length?"&"+X.join("&"):""}function kr(_e){const X={};return _e.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[B,ae]=L.split("=");X[decodeURIComponent(B)]=decodeURIComponent(ae)}}),X}function Er(_e){const X=_e.indexOf("?");if(!X)return"";const x=_e.indexOf("#",X);return _e.substring(X,x>0?x:void 0)}function wn(_e,X){const x=new Gt(_e,X);return x.subscribe.bind(x)}class Gt{constructor(X,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{X(this)}).catch(L=>{this.error(L)})}next(X){this.forEachObserver(x=>{x.next(X)})}error(X){this.forEachObserver(x=>{x.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,x,L){let B;if(void 0===X&&void 0===x&&void 0===L)throw new Error("Missing Observer.");B=function Jn(_e,X){if("object"!=typeof _e||null===_e)return!1;for(const x of X)if(x in _e&&"function"==typeof _e[x])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:x,complete:L},void 0===B.next&&(B.next=hr),void 0===B.error&&(B.error=hr),void 0===B.complete&&(B.complete=hr);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),ae}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,X)}sendOne(X,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{x(this.observers[X])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}const Zt=1e3,kn=2,jn=144e5,Ir=.5;function sr(_e,X=Zt,x=kn){const L=X*Math.pow(x,_e),B=Math.round(Ir*L*(Math.random()-.5)*2);return Math.min(jn,L+B)}function vr(_e){return _e&&_e._delegate?_e._delegate:_e}},3264:(on,Pe,j)=>{"use strict";j.d(Pe,{g:()=>_e});var p=j(5861),V=j(6805),A=j(2961);function Se(X,x){const L="object"==typeof x;return new Promise((B,ae)=>{const oe=new A.Hp({next:le=>{B(le),oe.unsubscribe()},error:ae,complete:()=>{L?B(x.defaultValue):ae(new V.K)}});X.subscribe(oe)})}var ve=j(8032),Ie=j(4650),Me=j(4986),fe=j(9751),Be=j(8996),de=j(9646),ge=j(4976),xe=j(8675),nt=j(4482),st=j(5403);function wt(){return(0,nt.e)((X,x)=>{let L,B=!1;X.subscribe((0,st.x)(x,ae=>{const oe=L;L=ae,B&&x.next([oe,ae]),B=!0}))})}var ft=j(4004),Re=j(5026),ot=j(4671);function _t(X,x){return X===x}var it=j(9300),at=j(2011),pt=j(6895),ct=(j(9568),j(3942)),ce=j(2810),kt=j(2090),tn=j(4859);function Nt(X,x){if(void 0===x)return{merge:!1};if(void 0!==x.mergeFields&&void 0!==x.merge)throw new ce.WA("invalid-argument",`Invalid options passed to function ${X}(): You cannot specify both "merge" and "mergeFields".`);return x}function gr(){if(typeof Uint8Array>"u")throw new ce.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ze(){if(!(0,ce.Me)())throw new ce.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ne{constructor(x){this._delegate=x}static fromBase64String(x){return Ze(),new Ne(ce.Jj.fromBase64String(x))}static fromUint8Array(x){return gr(),new Ne(ce.Jj.fromUint8Array(x))}toBase64(){return Ze(),this._delegate.toBase64()}toUint8Array(){return gr(),this._delegate.toUint8Array()}isEqual(x){return this._delegate.isEqual(x._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function je(X){return function tt(X,x){if("object"!=typeof X||null===X)return!1;const L=X;for(const B of x)if(B in L&&"function"==typeof L[B])return!0;return!1}(X,["next","error","complete"])}class dt{enableIndexedDbPersistence(x,L){return(0,ce.ST)(x._delegate,{forceOwnership:L})}enableMultiTabIndexedDbPersistence(x){return(0,ce.fH)(x._delegate)}clearIndexedDbPersistence(x){return(0,ce.Fc)(x._delegate)}}class rt{constructor(x,L,B){this._delegate=L,this._persistenceProvider=B,this.INTERNAL={delete:()=>this.terminate()},x instanceof ce.l7||(this._appCompat=x)}get _databaseId(){return this._delegate._databaseId}settings(x){const L=this._delegate._getSettings();!x.merge&&L.host!==x.host&&(0,ce.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),x.merge&&delete(x=Object.assign(Object.assign({},L),x)).merge,this._delegate._setSettings(x)}useEmulator(x,L,B={}){(0,ce.at)(this._delegate,x,L,B)}enableNetwork(){return(0,ce.Ix)(this._delegate)}disableNetwork(){return(0,ce.TF)(this._delegate)}enablePersistence(x){let L=!1,B=!1;return x&&(L=!!x.synchronizeTabs,B=!!x.experimentalForceOwningTab,(0,ce.Wi)("synchronizeTabs",L,"experimentalForceOwningTab",B)),L?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,B)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ce.Mx)(this._delegate)}onSnapshotsInSync(x){return(0,ce.sc)(this._delegate,x)}get app(){if(!this._appCompat)throw new ce.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(x){try{return new Rn(this,(0,ce.hJ)(this._delegate,x))}catch(L){throw hn(L,"collection()","Firestore.collection()")}}doc(x){try{return new mn(this,(0,ce.JU)(this._delegate,x))}catch(L){throw hn(L,"doc()","Firestore.doc()")}}collectionGroup(x){try{return new Tt(this,(0,ce.B$)(this._delegate,x))}catch(L){throw hn(L,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(x){return(0,ce.i3)(this._delegate,L=>x(new Tn(this,L)))}batch(){return(0,ce.qY)(this._delegate),new xt(new ce.PU(this._delegate,x=>(0,ce.GL)(this._delegate,x)))}loadBundle(x){return(0,ce.Pb)(this._delegate,x)}namedQuery(x){return(0,ce.L$)(this._delegate,x).then(L=>L?new Tt(this,L):null)}}class He extends ce.u7{constructor(x){super(),this.firestore=x}convertBytes(x){return new Ne(new ce.Jj(x))}convertReference(x){const L=this.convertDocumentKey(x,this.firestore._databaseId);return mn.forKey(L,this.firestore,null)}}class Tn{constructor(x,L){this._firestore=x,this._delegate=L,this._userDataWriter=new He(x)}get(x){const L=ln(x);return this._delegate.get(L).then(B=>new zn(this._firestore,new ce.xU(this._firestore._delegate,this._userDataWriter,B._key,B._document,B.metadata,L.converter)))}set(x,L,B){const ae=ln(x);return B?(Nt("Transaction.set",B),this._delegate.set(ae,L,B)):this._delegate.set(ae,L),this}update(x,L,B,...ae){const oe=ln(x);return 2===arguments.length?this._delegate.update(oe,L):this._delegate.update(oe,L,B,...ae),this}delete(x){const L=ln(x);return this._delegate.delete(L),this}}class xt{constructor(x){this._delegate=x}set(x,L,B){const ae=ln(x);return B?(Nt("WriteBatch.set",B),this._delegate.set(ae,L,B)):this._delegate.set(ae,L),this}update(x,L,B,...ae){const oe=ln(x);return 2===arguments.length?this._delegate.update(oe,L):this._delegate.update(oe,L,B,...ae),this}delete(x){const L=ln(x);return this._delegate.delete(L),this}commit(){return this._delegate.commit()}}class Ft{constructor(x,L,B){this._firestore=x,this._userDataWriter=L,this._delegate=B}fromFirestore(x,L){const B=new ce.$q(this._firestore._delegate,this._userDataWriter,x._key,x._document,x.metadata,null);return this._delegate.fromFirestore(new Qt(this._firestore,B),L??{})}toFirestore(x,L){return L?this._delegate.toFirestore(x,L):this._delegate.toFirestore(x)}static getInstance(x,L){const B=Ft.INSTANCES;let ae=B.get(x);ae||(ae=new WeakMap,B.set(x,ae));let oe=ae.get(L);return oe||(oe=new Ft(x,new He(x),L),ae.set(L,oe)),oe}}Ft.INSTANCES=new WeakMap;class mn{constructor(x,L){this.firestore=x,this._delegate=L,this._userDataWriter=new He(x)}static forPath(x,L,B){if(x.length%2!=0)throw new ce.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${x.canonicalString()} has ${x.length}`);return new mn(L,new ce.my(L._delegate,B,new ce.Ky(x)))}static forKey(x,L,B){return new mn(L,new ce.my(L._delegate,B,x))}get id(){return this._delegate.id}get parent(){return new Rn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(x){try{return new Rn(this.firestore,(0,ce.hJ)(this._delegate,x))}catch(L){throw hn(L,"collection()","DocumentReference.collection()")}}isEqual(x){return(x=(0,kt.m9)(x))instanceof ce.my&&(0,ce.Eo)(this._delegate,x)}set(x,L){L=Nt("DocumentReference.set",L);try{return L?(0,ce.pl)(this._delegate,x,L):(0,ce.pl)(this._delegate,x)}catch(B){throw hn(B,"setDoc()","DocumentReference.set()")}}update(x,L,...B){try{return 1===arguments.length?(0,ce.r7)(this._delegate,x):(0,ce.r7)(this._delegate,x,L,...B)}catch(ae){throw hn(ae,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ce.oe)(this._delegate)}onSnapshot(...x){const L=Gn(x),B=tr(x,ae=>new zn(this.firestore,new ce.xU(this.firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,this._delegate.converter)));return(0,ce.cf)(this._delegate,L,B)}get(x){let L;return L="cache"===x?.source?(0,ce.kl)(this._delegate):"server"===x?.source?(0,ce.Xk)(this._delegate):(0,ce.QT)(this._delegate),L.then(B=>new zn(this.firestore,new ce.xU(this.firestore._delegate,this._userDataWriter,B._key,B._document,B.metadata,this._delegate.converter)))}withConverter(x){return new mn(this.firestore,this._delegate.withConverter(x?Ft.getInstance(this.firestore,x):null))}}function hn(X,x,L){return X.message=X.message.replace(x,L),X}function Gn(X){for(const x of X)if("object"==typeof x&&!je(x))return x;return{}}function tr(X,x){var L,B;let ae;return ae=je(X[0])?X[0]:je(X[1])?X[1]:"function"==typeof X[0]?{next:X[0],error:X[1],complete:X[2]}:{next:X[1],error:X[2],complete:X[3]},{next:oe=>{ae.next&&ae.next(x(oe))},error:null===(L=ae.error)||void 0===L?void 0:L.bind(ae),complete:null===(B=ae.complete)||void 0===B?void 0:B.bind(ae)}}class zn{constructor(x,L){this._firestore=x,this._delegate=L}get ref(){return new mn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(x){return this._delegate.data(x)}get(x,L){return this._delegate.get(x,L)}isEqual(x){return(0,ce.qK)(this._delegate,x._delegate)}}class Qt extends zn{data(x){const L=this._delegate.data(x);return(0,ce.K9)(void 0!==L,"Document in a QueryDocumentSnapshot should exist"),L}}class Tt{constructor(x,L){this.firestore=x,this._delegate=L,this._userDataWriter=new He(x)}where(x,L,B){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.ar)(x,L,B)))}catch(ae){throw hn(ae,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(x,L){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.Xo)(x,L)))}catch(B){throw hn(B,/(orderBy|where)\(\)/,"Query.$1()")}}limit(x){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.b9)(x)))}catch(L){throw hn(L,"limit()","Query.limit()")}}limitToLast(x){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.vh)(x)))}catch(L){throw hn(L,"limitToLast()","Query.limitToLast()")}}startAt(...x){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.e0)(...x)))}catch(L){throw hn(L,"startAt()","Query.startAt()")}}startAfter(...x){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.TQ)(...x)))}catch(L){throw hn(L,"startAfter()","Query.startAfter()")}}endBefore(...x){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.Lx)(...x)))}catch(L){throw hn(L,"endBefore()","Query.endBefore()")}}endAt(...x){try{return new Tt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.Wu)(...x)))}catch(L){throw hn(L,"endAt()","Query.endAt()")}}isEqual(x){return(0,ce.iE)(this._delegate,x._delegate)}get(x){let L;return L="cache"===x?.source?(0,ce.UQ)(this._delegate):"server"===x?.source?(0,ce.zN)(this._delegate):(0,ce.PL)(this._delegate),L.then(B=>new $n(this.firestore,new ce.W(this.firestore._delegate,this._userDataWriter,this._delegate,B._snapshot)))}onSnapshot(...x){const L=Gn(x),B=tr(x,ae=>new $n(this.firestore,new ce.W(this.firestore._delegate,this._userDataWriter,this._delegate,ae._snapshot)));return(0,ce.cf)(this._delegate,L,B)}withConverter(x){return new Tt(this.firestore,this._delegate.withConverter(x?Ft.getInstance(this.firestore,x):null))}}class Wn{constructor(x,L){this._firestore=x,this._delegate=L}get type(){return this._delegate.type}get doc(){return new Qt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $n{constructor(x,L){this._firestore=x,this._delegate=L}get query(){return new Tt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(x=>new Qt(this._firestore,x))}docChanges(x){return this._delegate.docChanges(x).map(L=>new Wn(this._firestore,L))}forEach(x,L){this._delegate.forEach(B=>{x.call(L,new Qt(this._firestore,B))})}isEqual(x){return(0,ce.qK)(this._delegate,x._delegate)}}class Rn extends Tt{constructor(x,L){super(x,L),this.firestore=x,this._delegate=L}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const x=this._delegate.parent;return x?new mn(this.firestore,x):null}doc(x){try{return new mn(this.firestore,void 0===x?(0,ce.JU)(this._delegate):(0,ce.JU)(this._delegate,x))}catch(L){throw hn(L,"doc()","CollectionReference.doc()")}}add(x){return(0,ce.ET)(this._delegate,x).then(L=>new mn(this.firestore,L))}isEqual(x){return(0,ce.Eo)(this._delegate,x._delegate)}withConverter(x){return new Rn(this.firestore,this._delegate.withConverter(x?Ft.getInstance(this.firestore,x):null))}}function ln(X){return(0,ce.Cf)(X,ce.my)}class Lt{constructor(...x){this._delegate=new ce.Lz(...x)}static documentId(){return new Lt(ce.Xb.keyField().canonicalString())}isEqual(x){return(x=(0,kt.m9)(x))instanceof ce.Lz&&this._delegate._internalPath.isEqual(x._internalPath)}}class nn{constructor(x){this._delegate=x}static serverTimestamp(){const x=(0,ce.Bt)();return x._methodName="FieldValue.serverTimestamp",new nn(x)}static delete(){const x=(0,ce.AK)();return x._methodName="FieldValue.delete",new nn(x)}static arrayUnion(...x){const L=(0,ce.vr)(...x);return L._methodName="FieldValue.arrayUnion",new nn(L)}static arrayRemove(...x){const L=(0,ce.Ab)(...x);return L._methodName="FieldValue.arrayRemove",new nn(L)}static increment(x){const L=(0,ce.nP)(x);return L._methodName="FieldValue.increment",new nn(L)}isEqual(x){return this._delegate.isEqual(x._delegate)}}const Zn={Firestore:rt,GeoPoint:ce.F8,Timestamp:ce.EK,Blob:Ne,Transaction:Tn,WriteBatch:xt,DocumentReference:mn,DocumentSnapshot:zn,Query:Tt,QueryDocumentSnapshot:Qt,QuerySnapshot:$n,CollectionReference:Rn,FieldPath:Lt,FieldValue:nn,setLogLevel:function Pt(X){(0,ce.Ub)(X)},CACHE_SIZE_UNLIMITED:ce.IX};!function kr(X){(function dr(X,x){X.INTERNAL.registerComponent(new tn.wA("firestore-compat",L=>{const B=L.getProvider("app-compat").getImmediate(),ae=L.getProvider("firestore").getImmediate();return x(B,ae)},"PUBLIC").setServiceProps(Object.assign({},Zn)))})(X,(x,L)=>new rt(x,L,new dt)),X.registerVersion("@firebase/firestore-compat","0.3.10")}(ct.Z);var Er=j(1205),_n=j(2313);function Rt(X,x){return function Gt(X,x=Me.z){return new fe.y(L=>{let B;return null!=x?x.schedule(()=>{B=X.onSnapshot({includeMetadataChanges:!0},L)}):B=X.onSnapshot({includeMetadataChanges:!0},L),()=>{B?.()}})}(X,x)}function hr(X,x){return Rt(X,x).pipe((0,ft.U)(L=>({payload:L,type:"query"})))}function rr(X,x){return hr(X,x).pipe((0,xe.O)(void 0),wt(),(0,ft.U)(([L,B])=>{const ae=B.payload.docChanges(),oe=ae.map(le=>({type:le.type,payload:le}));return L&&JSON.stringify(L.payload.metadata)!==JSON.stringify(B.payload.metadata)&&B.payload.docs.forEach((le,se)=>{const Te=ae.find(gt=>gt.doc.ref.isEqual(le.ref)),ze=L?.payload.docs.find(gt=>gt.ref.isEqual(le.ref));Te&&JSON.stringify(Te.doc.metadata)===JSON.stringify(le.metadata)||!Te&&ze&&JSON.stringify(ze.metadata)===JSON.stringify(le.metadata)||oe.push({type:"modified",payload:{oldIndex:se,newIndex:se,type:"modified",doc:le}})}),oe}))}function Rr(X,x,L){return rr(X,L).pipe((0,Re.R)((B,ae)=>function Sr(X,x,L){return x.forEach(B=>{L.indexOf(B.type)>-1&&(X=function Sn(X,x){switch(x.type){case"added":if(!X[x.newIndex]||!X[x.newIndex].doc.ref.isEqual(x.doc.ref))return fr(X,x.newIndex,0,x);break;case"modified":if(null==X[x.oldIndex]||X[x.oldIndex].doc.ref.isEqual(x.doc.ref)){if(x.oldIndex!==x.newIndex){const L=X.slice();return L.splice(x.oldIndex,1),L.splice(x.newIndex,0,x),L}return fr(X,x.newIndex,1,x)}break;case"removed":if(X[x.oldIndex]&&X[x.oldIndex].doc.ref.isEqual(x.doc.ref))return fr(X,x.oldIndex,1)}return X}(X,B))}),X}(B,ae.map(oe=>oe.payload),x),[]),function Ke(X,x=ot.y){return X=X??_t,(0,nt.e)((L,B)=>{let ae,oe=!0;L.subscribe((0,st.x)(B,le=>{const se=x(le);(oe||!X(ae,se))&&(oe=!1,ae=se,B.next(le))}))})}(),(0,ft.U)(B=>B.map(ae=>({type:ae.type,payload:ae}))))}function fr(X,x,L,...B){const ae=X.slice();return ae.splice(x,L,...B),ae}function Br(X){return(!X||0===X.length)&&(X=["added","removed","modified"]),X}j(9260);class An{constructor(x,L,B){this.ref=x,this.query=L,this.afs=B}stateChanges(x){let L=rr(this.query,this.afs.schedulers.outsideAngular);return x&&x.length>0&&(L=L.pipe((0,ft.U)(B=>B.filter(ae=>x.indexOf(ae.type)>-1)))),L.pipe((0,xe.O)(void 0),wt(),(0,it.h)(([B,ae])=>ae.length>0||!B),(0,ft.U)(([B,ae])=>ae),ge.iC)}auditTrail(x){return this.stateChanges(x).pipe((0,Re.R)((L,B)=>[...L,...B],[]))}snapshotChanges(x){const L=Br(x);return Rr(this.query,L,this.afs.schedulers.outsideAngular).pipe(ge.iC)}valueChanges(x={}){return hr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(L=>L.payload.docs.map(B=>x.idField?Object.assign(Object.assign({},B.data()),{[x.idField]:B.id}):B.data())),ge.iC)}get(x){return(0,Be.D)(this.query.get(x)).pipe(ge.iC)}add(x){return this.ref.add(x)}doc(x){return new Jt(this.ref.doc(x),this.afs)}}class Jt{constructor(x,L){this.ref=x,this.afs=L}set(x,L){return this.ref.set(x,L)}update(x){return this.ref.update(x)}delete(){return this.ref.delete()}collection(x,L){const B=this.ref.collection(x),{ref:ae,query:oe}=$r(B,L);return new An(ae,oe,this.afs)}snapshotChanges(){return function Jn(X,x){return Rt(X,x).pipe((0,xe.O)(void 0),wt(),(0,ft.U)(([L,B])=>B.exists?L?.exists?{payload:B,type:"modified"}:{payload:B,type:"added"}:{payload:B,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ge.iC)}valueChanges(x={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:L})=>x.idField?Object.assign(Object.assign({},L.data()),{[x.idField]:L.id}):L.data()))}get(x){return(0,Be.D)(this.ref.get(x)).pipe(ge.iC)}}class Zt{constructor(x,L){this.query=x,this.afs=L}stateChanges(x){return x&&0!==x.length?rr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(L=>L.filter(B=>x.indexOf(B.type)>-1)),(0,it.h)(L=>L.length>0),ge.iC):rr(this.query,this.afs.schedulers.outsideAngular).pipe(ge.iC)}auditTrail(x){return this.stateChanges(x).pipe((0,Re.R)((L,B)=>[...L,...B],[]))}snapshotChanges(x){const L=Br(x);return Rr(this.query,L,this.afs.schedulers.outsideAngular).pipe(ge.iC)}valueChanges(x={}){return hr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(B=>B.payload.docs.map(ae=>x.idField?Object.assign({[x.idField]:ae.id},ae.data()):ae.data())),ge.iC)}get(x){return(0,Be.D)(this.query.get(x)).pipe(ge.iC)}}const kn=new Ie.OlP("angularfire2.enableFirestorePersistence"),jn=new Ie.OlP("angularfire2.firestore.persistenceSettings"),Ir=new Ie.OlP("angularfire2.firestore.settings"),sr=new Ie.OlP("angularfire2.firestore.use-emulator");function $r(X,x=(L=>L)){return{query:x(X),ref:X}}let nr=(()=>{class X{constructor(L,B,ae,oe,le,se,Te,ze,gt,Ht,an,Xn,Fr,We,ke,St,un){this.schedulers=Te;const pn=(0,at.on)(L,se,B),Nn=gt;Ht&&(0,Er.nw)(pn,se,an,Fr,We,ke,Xn,St),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${pn.name}.firestore`,"AngularFirestore",pn.name,()=>{const Xt=se.runOutsideAngular(()=>pn.firestore());if(oe&&Xt.settings(oe),Nn&&Xt.useEmulator(...Nn),ae&&!(0,pt.PM)(le)){const er=()=>{try{return(0,Be.D)(Xt.enablePersistence(ze||void 0).then(()=>!0,()=>!1))}catch(qn){return typeof console<"u"&&console.warn(qn),(0,de.of)(!1)}};return[Xt,se.runOutsideAngular(er)]}return[Xt,(0,de.of)(!1)]},[oe,Nn,ae])}collection(L,B){let ae;ae="string"==typeof L?this.firestore.collection(L):L;const{ref:oe,query:le}=$r(ae,B),se=this.schedulers.ngZone.run(()=>oe);return new An(se,le,this)}collectionGroup(L,B){const ae=B||(le=>le),oe=this.firestore.collectionGroup(L);return new Zt(ae(oe),this)}doc(L){let B;B="string"==typeof L?this.firestore.doc(L):L;const ae=this.schedulers.ngZone.run(()=>B);return new Jt(ae,this)}createId(){return this.firestore.collection("_").doc().id}}return X.\u0275fac=function(L){return new(L||X)(Ie.LFG(at.Dh),Ie.LFG(at.xv,8),Ie.LFG(kn,8),Ie.LFG(Ir,8),Ie.LFG(Ie.Lbi),Ie.LFG(Ie.R0b),Ie.LFG(ge.HU),Ie.LFG(jn,8),Ie.LFG(sr,8),Ie.LFG(Er.zQ,8),Ie.LFG(Er.Qv,8),Ie.LFG(Er.L6,8),Ie.LFG(Er._Q,8),Ie.LFG(Er.rT,8),Ie.LFG(Er.lh,8),Ie.LFG(Er.f7,8),Ie.LFG(_n.nm,8))},X.\u0275prov=Ie.Yz7({token:X,factory:X.\u0275fac,providedIn:"any"}),X})(),_e=(()=>{class X{constructor(L,B,ae){this.firestore=L,this.ngFsAu=B,this.storage=ae}register(L,B){var ae=this;return(0,p.Z)(function*(){try{yield ae.ngFsAu.createUserWithEmailAndPassword(L,B),yield(yield ae.ngFsAu.currentUser)?.sendEmailVerification()}catch(oe){throw oe.message}finally{return}})()}login(L,B){var ae=this;return(0,p.Z)(function*(){let oe=null;try{oe=yield ae.ngFsAu.signInWithEmailAndPassword(L,B)}catch(le){throw le.message}return oe})()}logout(){var L=this;return(0,p.Z)(function*(){try{return void(yield L.ngFsAu.signOut())}catch(B){console.log(B)}})()}getUser(){return this.ngFsAu.user}traer(L){return this.firestore.collection(L).valueChanges()}traerUsu(L,B){return Se(this.firestore.collection(L,oe=>oe.where("mail","==",B)).valueChanges())}traerFiltrado(L,B,ae){return Se(this.firestore.collection(L,le=>le.where(B,"==",ae)).valueChanges())}guardarObjeto(L,B){return new Promise((ae,oe)=>{const le={};for(const Te in L)le[Te]=L[Te];const se=this.firestore.doc(B+"/"+this.firestore.createId());le.id=se.ref.id,se.set(le).then(()=>ae(!0)).catch(Te=>oe(Te))})}modificarObjeto(L,B){return new Promise((ae,oe)=>{const le=this.firestore.doc(B+"/"+L.id),se={};for(const Te in L)se[Te]=L[Te];le.update(se).then(()=>ae(!0)).catch(Te=>oe(Te))})}eliminarObjeto(L,B){this.firestore.doc(B+"/"+L).delete()}guardarObjetoSinID(L,B){const ae=this.firestore.collection(B),oe={};for(const le in L)oe[le]=L[le];ae.add(oe)}subirFoto(L){return new Promise(B=>{const ae=(0,ve.iH)(this.storage,`fotos/${L.name}`);(0,ve.KV)(ae,L).then((0,p.Z)(function*(){B(yield(0,ve.Jt)(ae))})).catch(oe=>console.log(oe))})}}return X.\u0275fac=function(L){return new(L||X)(Ie.LFG(nr),Ie.LFG(Er.zQ),Ie.LFG(ve.Ke))},X.\u0275prov=Ie.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},2006:(on,Pe,j)=>{"use strict";var p=j(1481),V=j(9051),A=j(4650);let Se=(()=>{class Qe{}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275cmp=A.Xpm({type:Qe,selectors:[["app-home"]],decls:29,vars:0,consts:[[1,"contenedor"],[1,"contenedor__imagen"],[1,"imagen__texto"],[1,"contenedor__info"],[1,"info__imagen"],["src","../../../assets/mapa.png","alt","Img Mapa",2,"width","30px","height","30px"],["src","../../../assets/telefono.png","alt","Img Telefono",2,"width","25px","height","25px"],["src","../../../assets/colectivo.png","alt","Img Colectivo",2,"width","25px","height","25px"],["src","../../../assets/tren.png","alt","Img Tren",2,"width","25px","height","25px"]],template:function(ht,we){1&ht&&(A.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),A._uU(3,"Bienvenido a la"),A.qZA(),A.TgZ(4,"h1",2),A._uU(5,"Clinica Torrez"),A.qZA()(),A.TgZ(6,"div",3)(7,"h3"),A._uU(8,"Ubicacion Centro M\xe9dico"),A.qZA(),A.TgZ(9,"div",4),A._UZ(10,"img",5),A.TgZ(11,"p"),A._uU(12,"Calle Falsa 123, Vicente L\xf3pez"),A.qZA()(),A.TgZ(13,"div",4),A._UZ(14,"img",6),A.TgZ(15,"p"),A._uU(16,"0810 222 2748 (Administracion)"),A.qZA()(),A.TgZ(17,"p"),A._uU(18,"Atenci\xf3n con turno previo: Lunes a Viernes de 8 a 19 hs. - S\xe1bados de 8 a 14 hs."),A.qZA(),A.TgZ(19,"h5"),A._uU(20,"\xbfComo llego?"),A.qZA(),A.TgZ(21,"div",4),A._UZ(22,"img",7),A.TgZ(23,"p"),A._uU(24,"Colectivos: 19, 21, 60, 71, 130, 151, 152, 161, 168, 184, 203, 314, 365, 410, 430"),A.qZA()(),A.TgZ(25,"div",4),A._UZ(26,"img",8),A.TgZ(27,"p"),A._uU(28,'Tren: Mitre - Estaci\xf3n "Vicente L\xf3pez" / Belgrano Norte - Estaci\xf3n "Arist\xf3bulo del Valle"'),A.qZA()()()())},styles:[".contenedor[_ngcontent-%COMP%]{margin-top:1em;display:flex;flex-direction:column;align-items:center}.contenedor__imagen[_ngcontent-%COMP%]{background-image:url(hospital.65d9cf40b051645a.jpg);width:70em;height:14em;padding:2em}.imagen__texto[_ngcontent-%COMP%]{display:flex;justify-content:center}.contenedor__info[_ngcontent-%COMP%]{margin-top:1em}.info__imagen[_ngcontent-%COMP%]{display:flex}"]}),Qe})();var ve=j(5861),Ie=j(433),Me=j(3998),fe=j.n(Me),Be=j(3264),de=j(6895);function ge(Qe,fn){1&Qe&&A._UZ(0,"img",5)}function xe(Qe,fn){1&Qe&&(A.TgZ(0,"small",17),A._uU(1,"El email es requerido"),A.qZA())}function nt(Qe,fn){1&Qe&&(A.TgZ(0,"small",17),A._uU(1,"El email debe tener el formato correspondiente"),A.qZA())}function st(Qe,fn){1&Qe&&(A.TgZ(0,"small",17),A._uU(1,"El email no puede contener espacios"),A.qZA())}function wt(Qe,fn){1&Qe&&(A.TgZ(0,"small",17),A._uU(1,"La clave es requerida"),A.qZA())}function ft(Qe,fn){1&Qe&&(A.TgZ(0,"small",17),A._uU(1,"La clave no puede contener espacios"),A.qZA())}function Re(Qe,fn){if(1&Qe){const ht=A.EpF();A.TgZ(0,"div",6)(1,"h2",7),A._uU(2," Ingreso "),A.qZA(),A.TgZ(3,"div",8),A._UZ(4,"img",9),A.qZA(),A.TgZ(5,"form",10),A.NdJ("ngSubmit",function(){A.CHM(ht);const Ae=A.oxw();return A.KtG(Ae.ingresar())}),A.TgZ(6,"label",11),A._uU(7,"Mail:"),A.qZA(),A._UZ(8,"br")(9,"input",12)(10,"br"),A.YNc(11,xe,2,0,"small",13),A.YNc(12,nt,2,0,"small",13),A.YNc(13,st,2,0,"small",13),A._UZ(14,"br"),A.TgZ(15,"label",14),A._uU(16,"Contrase\xf1a:"),A.qZA(),A._UZ(17,"br")(18,"input",15)(19,"br"),A.YNc(20,wt,2,0,"small",13),A.YNc(21,ft,2,0,"small",13),A._UZ(22,"br")(23,"br")(24,"input",16),A.qZA()()}if(2&Qe){const ht=A.oxw();A.xp6(5),A.Q6J("formGroup",ht.formLogin),A.xp6(6),A.Q6J("ngIf",(null==ht.formLogin.controls.emailR.errors?null:ht.formLogin.controls.emailR.errors.required)&&ht.formLogin.controls.emailR.touched),A.xp6(1),A.Q6J("ngIf",(null==ht.formLogin.controls.emailR.errors?null:ht.formLogin.controls.emailR.errors.email)&&ht.formLogin.controls.emailR.touched),A.xp6(1),A.Q6J("ngIf",(null==ht.formLogin.controls.emailR.errors?null:ht.formLogin.controls.emailR.errors.containsSpaces)&&ht.formLogin.controls.emailR.touched),A.xp6(7),A.Q6J("ngIf",(null==ht.formLogin.controls.claveR.errors?null:ht.formLogin.controls.claveR.errors.required)&&ht.formLogin.controls.claveR.touched),A.xp6(1),A.Q6J("ngIf",(null==ht.formLogin.controls.claveR.errors?null:ht.formLogin.controls.claveR.errors.containsSpaces)&&ht.formLogin.controls.claveR.touched),A.xp6(3),A.Q6J("disabled",ht.formLogin.invalid)}}const ot=function(Qe){return{"background-image":Qe}};function Ke(Qe,fn){if(1&Qe){const ht=A.EpF();A.TgZ(0,"button",18),A.NdJ("click",function(){const De=A.CHM(ht).$implicit,ut=A.oxw();return A.KtG(ut.llenar(De.mail,De.clave))}),A._uU(1),A.qZA()}if(2&Qe){const ht=fn.$implicit;A.Q6J("ngStyle",A.VKq(2,ot,"url("+ht.foto+")")),A.xp6(1),A.Oqu(ht.nombre)}}function _t(Qe,fn){if(1&Qe){const ht=A.EpF();A.TgZ(0,"button",18),A.NdJ("click",function(){const De=A.CHM(ht).$implicit,ut=A.oxw();return A.KtG(ut.llenar(De.mail,De.clave))}),A._uU(1),A.qZA()}if(2&Qe){const ht=fn.$implicit;A.Q6J("ngStyle",A.VKq(2,ot,"url("+ht.foto+")")),A.xp6(1),A.Oqu(ht.nombre)}}function it(Qe,fn){if(1&Qe){const ht=A.EpF();A.TgZ(0,"button",18),A.NdJ("click",function(){const De=A.CHM(ht).$implicit,ut=A.oxw();return A.KtG(ut.llenar(De.mail,De.clave))}),A._uU(1),A.qZA()}if(2&Qe){const ht=fn.$implicit;A.Q6J("ngStyle",A.VKq(2,ot,"url("+ht.foto+")")),A.xp6(1),A.Oqu(ht.nombre)}}const It=[{path:"home",component:Se},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class Qe{constructor(ht,we,Ae){this.fb=ht,this.servBase=we,this.router=Ae,this.miUsuario={},this.spinner=!1,this.pac=[],this.esp=[],this.adm=[],this.formLogin=this.fb.group({emailR:["",[Ie.kI.required,Ie.kI.email,this.spacesValidator]],claveR:["",[Ie.kI.required,this.spacesValidator]]})}ngOnInit(){let ht=this.servBase.traer("Usuarios").subscribe(we=>{we.forEach(Ae=>{switch(Ae.perfil){case"paciente":this.pac.length<3&&this.pac.push(Ae);break;case"especialista":this.esp.length<2&&this.esp.push(Ae);break;case"administrador":this.adm.length<1&&this.adm.push(Ae)}ht.unsubscribe()})})}spacesValidator(ht){return ht.value.includes(" ")?{containsSpaces:!0}:null}ingresar(){var ht=this;return(0,ve.Z)(function*(){ht.spinner=!0;const{emailR:we,claveR:Ae}=ht.formLogin.value;let De;const ut=yield ht.servBase.login(we.toLocaleLowerCase(),Ae).catch(bt=>{fe().fire(bt,"Haga click para continuar","error"),ht.router.navigateByUrl("home")});if(null!=ut){if(ut?.user?.emailVerified||"pepe@gmail.com"==ut?.user?.email||"ailen@gmail.com"==ut?.user?.email||"leo@gmail.com"==ut?.user?.email||"tanito@italia.com"==ut?.user?.email)if(De=yield ht.servBase.traerUsu("Usuarios",we.toLocaleLowerCase()),"especialista"==De[0].perfil&&0==De[0].activo)ht.servBase.logout(),fe().fire("Su usuario todavia no ha sido habilitado","Haga click para continuar","error");else{let bt=new Date;ht.servBase.guardarObjetoSinID({usuario:ut?.user.email,fecha:bt.toLocaleDateString(),horario:bt.toLocaleTimeString()},"Log"),fe().fire("Bienvenido "+ut?.user.email+"!","Haga click para continuar","success")}else ht.servBase.logout(),fe().fire("Debes verificar el mail antes de loguearte!","Haga click para continuar","error");ht.router.navigateByUrl("home")}ht.spinner=!1})()}llenar(ht,we){this.formLogin.setValue({emailR:ht,claveR:we})}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(A.Y36(Ie.qu),A.Y36(Be.g),A.Y36(V.F0))},Qe.\u0275cmp=A.Xpm({type:Qe,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"wrapper","fadeInDown"],["class","mt-5 pt-5 h-25 w-25","src","./assets/spinner.gif","alt","spinner",4,"ngIf"],["id","formContent",4,"ngIf"],[1,"justify-content-center","mb-2","bori"],["class","foto",3,"ngStyle","click",4,"ngFor","ngForOf"],["src","./assets/spinner.gif","alt","spinner",1,"mt-5","pt-5","h-25","w-25"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./assets/login.png","id","icon","alt","User Icon",2,"width","30px"],[3,"formGroup","ngSubmit"],["for","emailR"],["type","text","id","emailR","name","registroEmail","placeholder","Ingrese mail","formControlName","emailR",1,"fadeIn","second"],["class","invalid",4,"ngIf"],["for","claveR"],["type","password","id","claveR","name","registroClave","placeholder","Ingrese contrase\xf1a","formControlName","claveR",1,"fadeIn","third"],["type","submit","value","Ingresar",1,"fadeIn","fourth",3,"disabled"],[1,"invalid"],[1,"foto",3,"ngStyle","click"]],template:function(ht,we){1&ht&&(A.TgZ(0,"div",0),A.YNc(1,ge,1,0,"img",1),A.YNc(2,Re,25,7,"div",2),A.qZA(),A.TgZ(3,"div",3)(4,"div")(5,"h6"),A._uU(6,"Pacientes"),A.qZA(),A.YNc(7,Ke,2,4,"button",4),A.qZA(),A.TgZ(8,"div")(9,"h6"),A._uU(10,"Especialistas"),A.qZA(),A.YNc(11,_t,2,4,"button",4),A.qZA(),A.TgZ(12,"div")(13,"h6"),A._uU(14,"Administradores"),A.qZA(),A.YNc(15,it,2,4,"button",4),A.qZA()()),2&ht&&(A.xp6(1),A.Q6J("ngIf",1==we.spinner),A.xp6(1),A.Q6J("ngIf",0==we.spinner),A.xp6(5),A.Q6J("ngForOf",we.pac),A.xp6(4),A.Q6J("ngForOf",we.esp),A.xp6(4),A.Q6J("ngForOf",we.adm))},dependencies:[de.sg,de.O5,de.PC,Ie._Y,Ie.Fj,Ie.JJ,Ie.JL,Ie.sg,Ie.u],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.invalid[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{margin-right:1em;width:4em;height:4em;border-radius:50%;background-color:#51e0d2}.bori[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.foto[_ngcontent-%COMP%]{background-size:cover;text-shadow:white -.05em -.05em;color:red;font-weight:600}']}),Qe})()},{path:"registro",loadChildren:()=>Promise.all([j.e(592),j.e(426)]).then(j.bind(j,8426)).then(Qe=>Qe.MRegistroModule)},{path:"usuarios",loadChildren:()=>Promise.all([j.e(166),j.e(592),j.e(525)]).then(j.bind(j,908)).then(Qe=>Qe.MUsuariosModule)},{path:"perfil",loadChildren:()=>Promise.all([j.e(166),j.e(592),j.e(182)]).then(j.bind(j,5567)).then(Qe=>Qe.MPerfilModule)},{path:"solTur",loadChildren:()=>j.e(898).then(j.bind(j,898)).then(Qe=>Qe.MSolicTurnosModule)},{path:"misTurnos",loadChildren:()=>Promise.all([j.e(197),j.e(68)]).then(j.bind(j,1068)).then(Qe=>Qe.MMisTurnosModule)},{path:"turnos",loadChildren:()=>Promise.all([j.e(197),j.e(592),j.e(236)]).then(j.bind(j,8236)).then(Qe=>Qe.MTurnosModule)},{path:"pacientes",loadChildren:()=>Promise.all([j.e(166),j.e(592),j.e(222)]).then(j.bind(j,3621)).then(Qe=>Qe.MPacienteModule)},{path:"graficos",loadChildren:()=>Promise.all([j.e(166),j.e(267)]).then(j.bind(j,2267)).then(Qe=>Qe.MGraficosModule)},{path:"**",component:(()=>{class Qe{}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275cmp=A.Xpm({type:Qe,selectors:[["app-not-found"]],decls:12,vars:0,consts:[[1,"container","mt-1"],[1,"text-center"],[1,"display-1","fw-bold"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","/home",1,"btn","btn-primary"]],template:function(ht,we){1&ht&&(A.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),A._uU(3,"404"),A.qZA(),A.TgZ(4,"p",3)(5,"span",4),A._uU(6,"Opps!"),A.qZA(),A._uU(7," P\xe1gina no encontrada."),A.qZA(),A.TgZ(8,"p",5),A._uU(9," La p\xe1gina que buscas no existe. "),A.qZA(),A.TgZ(10,"a",6),A._uU(11,"Ir al Inicio"),A.qZA()()())},dependencies:[V.rH]}),Qe})()}];let ct=(()=>{class Qe{}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275mod=A.oAB({type:Qe}),Qe.\u0275inj=A.cJS({imports:[V.Bz.forRoot(It),V.Bz]}),Qe})();var ce=j(727);function kt(Qe,fn){if(1&Qe&&(A.TgZ(0,"li",5)(1,"p",1),A._uU(2),A.qZA()()),2&Qe){const ht=A.oxw();A.xp6(2),A.Oqu(null==ht.usu?null:ht.usu.mail)}}function tn(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",6),A._uU(2,"Ingresar"),A.qZA()())}function Mt(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",7),A._uU(2,"Registrarse"),A.qZA()())}function Ot(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",8),A._uU(2,"Usuarios"),A.qZA()())}function Nt(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",9),A._uU(2,"Mis Turnos"),A.qZA()())}function gr(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",10),A._uU(2,"Turnos"),A.qZA()())}function Ze(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",11),A._uU(2,"Perfil"),A.qZA()())}function Ne(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",12),A._uU(2,"Solicitar Turnos"),A.qZA()())}function je(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",13),A._uU(2,"Pacientes"),A.qZA()())}function tt(Qe,fn){1&Qe&&(A.TgZ(0,"li",5)(1,"a",14),A._uU(2,"Graficos"),A.qZA()())}function dt(Qe,fn){if(1&Qe){const ht=A.EpF();A.TgZ(0,"li",5)(1,"a",15),A.NdJ("click",function(){A.CHM(ht);const Ae=A.oxw();return A.KtG(Ae.salir())}),A._uU(2,"Salir"),A.qZA()()}}let rt=(()=>{class Qe{constructor(ht,we){this.servBase=ht,this.router=we,this.usu=null,this.sus=ce.w0.EMPTY}ngOnInit(){this.sus=this.servBase.getUser().subscribe(ht=>{null!=ht?(ht?.emailVerified||"pepe@gmail.com"==ht?.email||"ailen@gmail.com"==ht?.email||"leo@gmail.com"==ht?.email||"tanito@italia.com"==ht?.email)&&this.servBase.traerUsu("Usuarios",ht?.email).then(we=>{this.usu=we[0]}):this.usu=null})}salir(){this.servBase.logout(),this.router.navigateByUrl("home")}ngOnDestroy(){this.sus.unsubscribe()}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(A.Y36(Be.g),A.Y36(V.F0))},Qe.\u0275cmp=A.Xpm({type:Qe,selectors:[["app-menu"]],decls:17,vars:11,consts:[[1,"container-fluid","bg-dark","flexHeader"],[1,"text-white"],["routerLink","home",1,"text-white"],[1,"list-unstyled","list-inline"],["class","list-inline-item p-3",4,"ngIf"],[1,"list-inline-item","p-3"],["routerLink","login",1,"text-white"],["routerLink","registro",1,"text-white"],["routerLink","usuarios",1,"text-white"],["routerLink","misTurnos",1,"text-white"],["routerLink","turnos",1,"text-white"],["routerLink","perfil",1,"text-white"],["routerLink","solTur",1,"text-white"],["routerLink","pacientes",1,"text-white"],["routerLink","graficos",1,"text-white"],["routerLink","home",1,"text-white",3,"click"]],template:function(ht,we){1&ht&&(A.TgZ(0,"div",0)(1,"h4",1)(2,"a",2),A._uU(3,"Clinica - Torrez"),A.qZA()(),A.TgZ(4,"nav")(5,"ul",3),A.YNc(6,kt,3,1,"li",4),A.YNc(7,tn,3,0,"li",4),A.YNc(8,Mt,3,0,"li",4),A.YNc(9,Ot,3,0,"li",4),A.YNc(10,Nt,3,0,"li",4),A.YNc(11,gr,3,0,"li",4),A.YNc(12,Ze,3,0,"li",4),A.YNc(13,Ne,3,0,"li",4),A.YNc(14,je,3,0,"li",4),A.YNc(15,tt,3,0,"li",4),A.YNc(16,dt,3,0,"li",4),A.qZA()()()),2&ht&&(A.xp6(6),A.Q6J("ngIf",null==we.usu?null:we.usu.mail),A.xp6(1),A.Q6J("ngIf",!(null!=we.usu&&we.usu.mail)),A.xp6(1),A.Q6J("ngIf",!(null!=we.usu&&we.usu.mail)),A.xp6(1),A.Q6J("ngIf","administrador"==(null==we.usu?null:we.usu.perfil)),A.xp6(1),A.Q6J("ngIf","especialista"==(null==we.usu?null:we.usu.perfil)||"paciente"==(null==we.usu?null:we.usu.perfil)),A.xp6(1),A.Q6J("ngIf","administrador"==(null==we.usu?null:we.usu.perfil)),A.xp6(1),A.Q6J("ngIf",null==we.usu?null:we.usu.mail),A.xp6(1),A.Q6J("ngIf","administrador"==(null==we.usu?null:we.usu.perfil)||"paciente"==(null==we.usu?null:we.usu.perfil)),A.xp6(1),A.Q6J("ngIf","especialista"==(null==we.usu?null:we.usu.perfil)),A.xp6(1),A.Q6J("ngIf","administrador"==(null==we.usu?null:we.usu.perfil)),A.xp6(1),A.Q6J("ngIf",null==we.usu?null:we.usu.mail))},dependencies:[de.O5,V.rH],styles:[".flexHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),Qe})(),He=(()=>{class Qe{constructor(){this.title="TP_Clinica"}}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275cmp=A.Xpm({type:Qe,selectors:[["app-root"]],decls:2,vars:0,template:function(ht,we){1&ht&&A._UZ(0,"app-menu")(1,"router-outlet")},dependencies:[V.lC,rt]}),Qe})();var Pt=j(3692);const Tn={firebase:{projectId:"clinicaonline-torrez",appId:"1:318880997494:web:87bee2cbe03c238c42ff57",storageBucket:"clinicaonline-torrez.appspot.com",locationId:"us-central",apiKey:"AIzaSyDadBJuMHn632Cpap3yOE1eGF9IjkjGuyI",authDomain:"clinicaonline-torrez.firebaseapp.com",messagingSenderId:"318880997494"}};var xt=j(4976),Ft=j(7246),mn=j(259),hn=j(2313),Gn=j(2810);class tr{constructor(fn){return fn}}const zn="firestore",Wn=new A.OlP("angularfire2.firestore-instances");function Rn(Qe){return(fn,ht)=>{const we=fn.runOutsideAngular(()=>Qe(ht));return new tr(we)}}const ln={provide:class Qt{constructor(){return(0,xt.vb)(zn)}},deps:[[new A.FiY,Wn]]},Lt={provide:tr,useFactory:function $n(Qe,fn){const ht=(0,xt.JM)(zn,Qe,fn);return ht&&new tr(ht)},deps:[[new A.FiY,Wn],Pt.Ot]};let nn=(()=>{class Qe{constructor(){(0,mn.KN)("angularfire",xt.q4.full,"fst")}}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275mod=A.oAB({type:Qe}),Qe.\u0275inj=A.cJS({providers:[Lt,ln]}),Qe})();function Zn(Qe,...fn){return{ngModule:nn,providers:[{provide:Wn,useFactory:Rn(Qe),multi:!0,deps:[A.R0b,A.zs3,xt.HU,Pt.z6,[new A.FiY,Ft.dh],[new A.FiY,hn.nm],...fn]}]}}const le=(0,xt.u3)(Gn.ad,!0);var Pn=j(2011),Pr=j(1205),Un=j(8032);let ui=(()=>{class Qe{}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275mod=A.oAB({type:Qe,bootstrap:[He]}),Qe.\u0275inj=A.cJS({providers:[{provide:Pn.Dh,useValue:Tn.firebase}],imports:[p.b2,ct,Ie.u5,(0,Pt.hX)(()=>(0,Pt.ZF)(Tn.firebase)),Zn(()=>le()),(0,Ft.AR)(()=>(0,Ft.v0)()),Pr.ww,Ie.UX,(0,Un.Vq)(()=>(0,Un.cF)())]}),Qe})();p.q6().bootstrapModule(ui).catch(Qe=>console.error(Qe))},9751:(on,Pe,j)=>{"use strict";j.d(Pe,{y:()=>fe});var p=j(2961),V=j(727),A=j(8822),Se=j(9635),ve=j(2416),Ie=j(576),Me=j(2806);let fe=(()=>{class xe{constructor(st){st&&(this._subscribe=st)}lift(st){const wt=new xe;return wt.source=this,wt.operator=st,wt}subscribe(st,wt,ft){const Re=function ge(xe){return xe&&xe instanceof p.Lv||function de(xe){return xe&&(0,Ie.m)(xe.next)&&(0,Ie.m)(xe.error)&&(0,Ie.m)(xe.complete)}(xe)&&(0,V.Nn)(xe)}(st)?st:new p.Hp(st,wt,ft);return(0,Me.x)(()=>{const{operator:ot,source:Ke}=this;Re.add(ot?ot.call(Re,Ke):Ke?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(st){try{return this._subscribe(st)}catch(wt){st.error(wt)}}forEach(st,wt){return new(wt=Be(wt))((ft,Re)=>{const ot=new p.Hp({next:Ke=>{try{st(Ke)}catch(_t){Re(_t),ot.unsubscribe()}},error:Re,complete:ft});this.subscribe(ot)})}_subscribe(st){var wt;return null===(wt=this.source)||void 0===wt?void 0:wt.subscribe(st)}[A.L](){return this}pipe(...st){return(0,Se.U)(st)(this)}toPromise(st){return new(st=Be(st))((wt,ft)=>{let Re;this.subscribe(ot=>Re=ot,ot=>ft(ot),()=>wt(Re))})}}return xe.create=nt=>new xe(nt),xe})();function Be(xe){var nt;return null!==(nt=xe??ve.v.Promise)&&void 0!==nt?nt:Promise}},7579:(on,Pe,j)=>{"use strict";j.d(Pe,{x:()=>Me});var p=j(9751),V=j(727);const Se=(0,j(3888).d)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=j(8737),Ie=j(2806);let Me=(()=>{class Be extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const xe=new fe(this,this);return xe.operator=ge,xe}_throwIfClosed(){if(this.closed)throw new Se}next(ge){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(ge)}})}error(ge){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:xe}=this;for(;xe.length;)xe.shift().error(ge)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:xe,isStopped:nt,observers:st}=this;return xe||nt?V.Lc:(this.currentObservers=null,st.push(ge),new V.w0(()=>{this.currentObservers=null,(0,ve.P)(st,ge)}))}_checkFinalizedStatuses(ge){const{hasError:xe,thrownError:nt,isStopped:st}=this;xe?ge.error(nt):st&&ge.complete()}asObservable(){const ge=new p.y;return ge.source=this,ge}}return Be.create=(de,ge)=>new fe(de,ge),Be})();class fe extends Me{constructor(de,ge){super(),this.destination=de,this.source=ge}next(de){var ge,xe;null===(xe=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===xe||xe.call(ge,de)}error(de){var ge,xe;null===(xe=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===xe||xe.call(ge,de)}complete(){var de,ge;null===(ge=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ge||ge.call(de)}_subscribe(de){var ge,xe;return null!==(xe=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(de))&&void 0!==xe?xe:V.Lc}}},2961:(on,Pe,j)=>{"use strict";j.d(Pe,{Hp:()=>ft,Lv:()=>xe});var p=j(576),V=j(727),A=j(2416),Se=j(7849);function ve(){}const Ie=Be("C",void 0,void 0);function Be(it,at,pt){return{kind:it,value:at,error:pt}}var de=j(3410),ge=j(2806);class xe extends V.w0{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,V.Nn)(at)&&at.add(this)):this.destination=_t}static create(at,pt,It){return new ft(at,pt,It)}next(at){this.isStopped?Ke(function fe(it){return Be("N",it,void 0)}(at),this):this._next(at)}error(at){this.isStopped?Ke(function Me(it){return Be("E",void 0,it)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?Ke(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function st(it,at){return nt.call(it,at)}class wt{constructor(at){this.partialObserver=at}next(at){const{partialObserver:pt}=this;if(pt.next)try{pt.next(at)}catch(It){Re(It)}}error(at){const{partialObserver:pt}=this;if(pt.error)try{pt.error(at)}catch(It){Re(It)}else Re(at)}complete(){const{partialObserver:at}=this;if(at.complete)try{at.complete()}catch(pt){Re(pt)}}}class ft extends xe{constructor(at,pt,It){let ct;if(super(),(0,p.m)(at)||!at)ct={next:at??void 0,error:pt??void 0,complete:It??void 0};else{let ce;this&&A.v.useDeprecatedNextContext?(ce=Object.create(at),ce.unsubscribe=()=>this.unsubscribe(),ct={next:at.next&&st(at.next,ce),error:at.error&&st(at.error,ce),complete:at.complete&&st(at.complete,ce)}):ct=at}this.destination=new wt(ct)}}function Re(it){A.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(it):(0,Se.h)(it)}function Ke(it,at){const{onStoppedNotification:pt}=A.v;pt&&de.z.setTimeout(()=>pt(it,at))}const _t={closed:!0,next:ve,error:function ot(it){throw it},complete:ve}},727:(on,Pe,j)=>{"use strict";j.d(Pe,{Lc:()=>Ie,w0:()=>ve,Nn:()=>Me});var p=j(576);const A=(0,j(3888).d)(Be=>function(ge){Be(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((xe,nt)=>`${nt+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var Se=j(8737);class ve{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const st of ge)st.remove(this);else ge.remove(this);const{initialTeardown:xe}=this;if((0,p.m)(xe))try{xe()}catch(st){de=st instanceof A?st.errors:[st]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const st of nt)try{fe(st)}catch(wt){de=de??[],wt instanceof A?de=[...de,...wt.errors]:de.push(wt)}}if(de)throw new A(de)}}add(de){var ge;if(de&&de!==this)if(this.closed)fe(de);else{if(de instanceof ve){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(de)}}_hasParent(de){const{_parentage:ge}=this;return ge===de||Array.isArray(ge)&&ge.includes(de)}_addParent(de){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(de),ge):ge?[ge,de]:de}_removeParent(de){const{_parentage:ge}=this;ge===de?this._parentage=null:Array.isArray(ge)&&(0,Se.P)(ge,de)}remove(de){const{_finalizers:ge}=this;ge&&(0,Se.P)(ge,de),de instanceof ve&&de._removeParent(this)}}ve.EMPTY=(()=>{const Be=new ve;return Be.closed=!0,Be})();const Ie=ve.EMPTY;function Me(Be){return Be instanceof ve||Be&&"closed"in Be&&(0,p.m)(Be.remove)&&(0,p.m)(Be.add)&&(0,p.m)(Be.unsubscribe)}function fe(Be){(0,p.m)(Be)?Be():Be.unsubscribe()}},2416:(on,Pe,j)=>{"use strict";j.d(Pe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(on,Pe,j)=>{"use strict";j.d(Pe,{z:()=>ve});var p=j(8189),A=j(7669),Se=j(8996);function ve(...Ie){return function V(){return(0,p.J)(1)}()((0,Se.D)(Ie,(0,A.yG)(Ie)))}},515:(on,Pe,j)=>{"use strict";j.d(Pe,{E:()=>V});const V=new(j(9751).y)(ve=>ve.complete())},8996:(on,Pe,j)=>{"use strict";j.d(Pe,{D:()=>at});var p=j(8421),V=j(5363),A=j(9468),Ie=j(9751),fe=j(2202),Be=j(576),de=j(9672);function xe(pt,It){if(!pt)throw new Error("Iterable cannot be null");return new Ie.y(ct=>{(0,de.f)(ct,It,()=>{const ce=pt[Symbol.asyncIterator]();(0,de.f)(ct,It,()=>{ce.next().then(kt=>{kt.done?ct.complete():ct.next(kt.value)})},0,!0)})})}var nt=j(3670),st=j(8239),wt=j(1144),ft=j(6495),Re=j(2206),ot=j(4532),Ke=j(3260);function at(pt,It){return It?function it(pt,It){if(null!=pt){if((0,nt.c)(pt))return function Se(pt,It){return(0,p.Xf)(pt).pipe((0,A.R)(It),(0,V.Q)(It))}(pt,It);if((0,wt.z)(pt))return function Me(pt,It){return new Ie.y(ct=>{let ce=0;return It.schedule(function(){ce===pt.length?ct.complete():(ct.next(pt[ce++]),ct.closed||this.schedule())})})}(pt,It);if((0,st.t)(pt))return function ve(pt,It){return(0,p.Xf)(pt).pipe((0,A.R)(It),(0,V.Q)(It))}(pt,It);if((0,Re.D)(pt))return xe(pt,It);if((0,ft.T)(pt))return function ge(pt,It){return new Ie.y(ct=>{let ce;return(0,de.f)(ct,It,()=>{ce=pt[fe.h](),(0,de.f)(ct,It,()=>{let kt,tn;try{({value:kt,done:tn}=ce.next())}catch(Mt){return void ct.error(Mt)}tn?ct.complete():ct.next(kt)},0,!0)}),()=>(0,Be.m)(ce?.return)&&ce.return()})}(pt,It);if((0,Ke.L)(pt))return function _t(pt,It){return xe((0,Ke.Q)(pt),It)}(pt,It)}throw(0,ot.z)(pt)}(pt,It):(0,p.Xf)(pt)}},8421:(on,Pe,j)=>{"use strict";j.d(Pe,{Xf:()=>nt});var p=j(7582),V=j(1144),A=j(8239),Se=j(9751),ve=j(3670),Ie=j(2206),Me=j(4532),fe=j(6495),Be=j(3260),de=j(576),ge=j(7849),xe=j(8822);function nt(it){if(it instanceof Se.y)return it;if(null!=it){if((0,ve.c)(it))return function st(it){return new Se.y(at=>{const pt=it[xe.L]();if((0,de.m)(pt.subscribe))return pt.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,V.z)(it))return function wt(it){return new Se.y(at=>{for(let pt=0;pt<it.length&&!at.closed;pt++)at.next(it[pt]);at.complete()})}(it);if((0,A.t)(it))return function ft(it){return new Se.y(at=>{it.then(pt=>{at.closed||(at.next(pt),at.complete())},pt=>at.error(pt)).then(null,ge.h)})}(it);if((0,Ie.D)(it))return ot(it);if((0,fe.T)(it))return function Re(it){return new Se.y(at=>{for(const pt of it)if(at.next(pt),at.closed)return;at.complete()})}(it);if((0,Be.L)(it))return function Ke(it){return ot((0,Be.Q)(it))}(it)}throw(0,Me.z)(it)}function ot(it){return new Se.y(at=>{(function _t(it,at){var pt,It,ct,ce;return(0,p.mG)(this,void 0,void 0,function*(){try{for(pt=(0,p.KL)(it);!(It=yield pt.next()).done;)if(at.next(It.value),at.closed)return}catch(kt){ct={error:kt}}finally{try{It&&!It.done&&(ce=pt.return)&&(yield ce.call(pt))}finally{if(ct)throw ct.error}}at.complete()})})(it,at).catch(pt=>at.error(pt))})}},6451:(on,Pe,j)=>{"use strict";j.d(Pe,{T:()=>Ie});var p=j(8189),V=j(8421),A=j(515),Se=j(7669),ve=j(8996);function Ie(...Me){const fe=(0,Se.yG)(Me),Be=(0,Se._6)(Me,1/0),de=Me;return de.length?1===de.length?(0,V.Xf)(de[0]):(0,p.J)(Be)((0,ve.D)(de,fe)):A.E}},9646:(on,Pe,j)=>{"use strict";j.d(Pe,{of:()=>A});var p=j(7669),V=j(8996);function A(...Se){const ve=(0,p.yG)(Se);return(0,V.D)(Se,ve)}},5403:(on,Pe,j)=>{"use strict";j.d(Pe,{x:()=>V});var p=j(2961);function V(Se,ve,Ie,Me,fe){return new A(Se,ve,Ie,Me,fe)}class A extends p.Lv{constructor(ve,Ie,Me,fe,Be,de){super(ve),this.onFinalize=Be,this.shouldUnsubscribe=de,this._next=Ie?function(ge){try{Ie(ge)}catch(xe){ve.error(xe)}}:super._next,this._error=fe?function(ge){try{fe(ge)}catch(xe){ve.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(ge){ve.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},6590:(on,Pe,j)=>{"use strict";j.d(Pe,{d:()=>A});var p=j(4482),V=j(5403);function A(Se){return(0,p.e)((ve,Ie)=>{let Me=!1;ve.subscribe((0,V.x)(Ie,fe=>{Me=!0,Ie.next(fe)},()=>{Me||Ie.next(Se),Ie.complete()}))})}},9300:(on,Pe,j)=>{"use strict";j.d(Pe,{h:()=>A});var p=j(4482),V=j(5403);function A(Se,ve){return(0,p.e)((Ie,Me)=>{let fe=0;Ie.subscribe((0,V.x)(Me,Be=>Se.call(ve,Be,fe++)&&Me.next(Be)))})}},590:(on,Pe,j)=>{"use strict";j.d(Pe,{P:()=>Me});var p=j(6805),V=j(9300),A=j(5698),Se=j(6590),ve=j(8068),Ie=j(4671);function Me(fe,Be){const de=arguments.length>=2;return ge=>ge.pipe(fe?(0,V.h)((xe,nt)=>fe(xe,nt,ge)):Ie.y,(0,A.q)(1),de?(0,Se.d)(Be):(0,ve.T)(()=>new p.K))}},4004:(on,Pe,j)=>{"use strict";j.d(Pe,{U:()=>A});var p=j(4482),V=j(5403);function A(Se,ve){return(0,p.e)((Ie,Me)=>{let fe=0;Ie.subscribe((0,V.x)(Me,Be=>{Me.next(Se.call(ve,Be,fe++))}))})}},8189:(on,Pe,j)=>{"use strict";j.d(Pe,{J:()=>A});var p=j(5577),V=j(4671);function A(Se=1/0){return(0,p.z)(V.y,Se)}},5577:(on,Pe,j)=>{"use strict";j.d(Pe,{z:()=>fe});var p=j(4004),V=j(8421),A=j(4482),Se=j(9672),ve=j(5403),Me=j(576);function fe(Be,de,ge=1/0){return(0,Me.m)(de)?fe((xe,nt)=>(0,p.U)((st,wt)=>de(xe,st,nt,wt))((0,V.Xf)(Be(xe,nt))),ge):("number"==typeof de&&(ge=de),(0,A.e)((xe,nt)=>function Ie(Be,de,ge,xe,nt,st,wt,ft){const Re=[];let ot=0,Ke=0,_t=!1;const it=()=>{_t&&!Re.length&&!ot&&de.complete()},at=It=>ot<xe?pt(It):Re.push(It),pt=It=>{st&&de.next(It),ot++;let ct=!1;(0,V.Xf)(ge(It,Ke++)).subscribe((0,ve.x)(de,ce=>{nt?.(ce),st?at(ce):de.next(ce)},()=>{ct=!0},void 0,()=>{if(ct)try{for(ot--;Re.length&&ot<xe;){const ce=Re.shift();wt?(0,Se.f)(de,wt,()=>pt(ce)):pt(ce)}it()}catch(ce){de.error(ce)}}))};return Be.subscribe((0,ve.x)(de,at,()=>{_t=!0,it()})),()=>{ft?.()}}(xe,nt,Be,ge)))}},5363:(on,Pe,j)=>{"use strict";j.d(Pe,{Q:()=>Se});var p=j(9672),V=j(4482),A=j(5403);function Se(ve,Ie=0){return(0,V.e)((Me,fe)=>{Me.subscribe((0,A.x)(fe,Be=>(0,p.f)(fe,ve,()=>fe.next(Be),Ie),()=>(0,p.f)(fe,ve,()=>fe.complete(),Ie),Be=>(0,p.f)(fe,ve,()=>fe.error(Be),Ie)))})}},5026:(on,Pe,j)=>{"use strict";j.d(Pe,{R:()=>Se});var p=j(4482),V=j(5403);function Se(ve,Ie){return(0,p.e)(function A(ve,Ie,Me,fe,Be){return(de,ge)=>{let xe=Me,nt=Ie,st=0;de.subscribe((0,V.x)(ge,wt=>{const ft=st++;nt=xe?ve(nt,wt,ft):(xe=!0,wt),fe&&ge.next(nt)},Be&&(()=>{xe&&ge.next(nt),ge.complete()})))}}(ve,Ie,arguments.length>=2,!0))}},3099:(on,Pe,j)=>{"use strict";j.d(Pe,{B:()=>ve});var p=j(8421),V=j(7579),A=j(2961),Se=j(4482);function ve(Me={}){const{connector:fe=(()=>new V.x),resetOnError:Be=!0,resetOnComplete:de=!0,resetOnRefCountZero:ge=!0}=Me;return xe=>{let nt,st,wt,ft=0,Re=!1,ot=!1;const Ke=()=>{st?.unsubscribe(),st=void 0},_t=()=>{Ke(),nt=wt=void 0,Re=ot=!1},it=()=>{const at=nt;_t(),at?.unsubscribe()};return(0,Se.e)((at,pt)=>{ft++,!ot&&!Re&&Ke();const It=wt=wt??fe();pt.add(()=>{ft--,0===ft&&!ot&&!Re&&(st=Ie(it,ge))}),It.subscribe(pt),!nt&&ft>0&&(nt=new A.Hp({next:ct=>It.next(ct),error:ct=>{ot=!0,Ke(),st=Ie(_t,Be,ct),It.error(ct)},complete:()=>{Re=!0,Ke(),st=Ie(_t,de),It.complete()}}),(0,p.Xf)(at).subscribe(nt))})(xe)}}function Ie(Me,fe,...Be){if(!0===fe)return void Me();if(!1===fe)return;const de=new A.Hp({next:()=>{de.unsubscribe(),Me()}});return(0,p.Xf)(fe(...Be)).subscribe(de)}},8675:(on,Pe,j)=>{"use strict";j.d(Pe,{O:()=>Se});var p=j(7272),V=j(7669),A=j(4482);function Se(...ve){const Ie=(0,V.yG)(ve);return(0,A.e)((Me,fe)=>{(Ie?(0,p.z)(ve,Me,Ie):(0,p.z)(ve,Me)).subscribe(fe)})}},9468:(on,Pe,j)=>{"use strict";j.d(Pe,{R:()=>V});var p=j(4482);function V(A,Se=0){return(0,p.e)((ve,Ie)=>{Ie.add(A.schedule(()=>ve.subscribe(Ie),Se))})}},3900:(on,Pe,j)=>{"use strict";j.d(Pe,{w:()=>Se});var p=j(8421),V=j(4482),A=j(5403);function Se(ve,Ie){return(0,V.e)((Me,fe)=>{let Be=null,de=0,ge=!1;const xe=()=>ge&&!Be&&fe.complete();Me.subscribe((0,A.x)(fe,nt=>{Be?.unsubscribe();let st=0;const wt=de++;(0,p.Xf)(ve(nt,wt)).subscribe(Be=(0,A.x)(fe,ft=>fe.next(Ie?Ie(nt,ft,wt,st++):ft),()=>{Be=null,xe()}))},()=>{ge=!0,xe()}))})}},5698:(on,Pe,j)=>{"use strict";j.d(Pe,{q:()=>Se});var p=j(515),V=j(4482),A=j(5403);function Se(ve){return ve<=0?()=>p.E:(0,V.e)((Ie,Me)=>{let fe=0;Ie.subscribe((0,A.x)(Me,Be=>{++fe<=ve&&(Me.next(Be),ve<=fe&&Me.complete())}))})}},8505:(on,Pe,j)=>{"use strict";j.d(Pe,{b:()=>ve});var p=j(576),V=j(4482),A=j(5403),Se=j(4671);function ve(Ie,Me,fe){const Be=(0,p.m)(Ie)||Me||fe?{next:Ie,error:Me,complete:fe}:Ie;return Be?(0,V.e)((de,ge)=>{var xe;null===(xe=Be.subscribe)||void 0===xe||xe.call(Be);let nt=!0;de.subscribe((0,A.x)(ge,st=>{var wt;null===(wt=Be.next)||void 0===wt||wt.call(Be,st),ge.next(st)},()=>{var st;nt=!1,null===(st=Be.complete)||void 0===st||st.call(Be),ge.complete()},st=>{var wt;nt=!1,null===(wt=Be.error)||void 0===wt||wt.call(Be,st),ge.error(st)},()=>{var st,wt;nt&&(null===(st=Be.unsubscribe)||void 0===st||st.call(Be)),null===(wt=Be.finalize)||void 0===wt||wt.call(Be)}))}):Se.y}},8068:(on,Pe,j)=>{"use strict";j.d(Pe,{T:()=>Se});var p=j(6805),V=j(4482),A=j(5403);function Se(Ie=ve){return(0,V.e)((Me,fe)=>{let Be=!1;Me.subscribe((0,A.x)(fe,de=>{Be=!0,fe.next(de)},()=>Be?fe.complete():fe.error(Ie())))})}function ve(){return new p.K}},4408:(on,Pe,j)=>{"use strict";j.d(Pe,{o:()=>ve});var p=j(727);class V extends p.w0{constructor(Me,fe){super()}schedule(Me,fe=0){return this}}const A={setInterval(Ie,Me,...fe){const{delegate:Be}=A;return Be?.setInterval?Be.setInterval(Ie,Me,...fe):setInterval(Ie,Me,...fe)},clearInterval(Ie){const{delegate:Me}=A;return(Me?.clearInterval||clearInterval)(Ie)},delegate:void 0};var Se=j(8737);class ve extends V{constructor(Me,fe){super(Me,fe),this.scheduler=Me,this.work=fe,this.pending=!1}schedule(Me,fe=0){var Be;if(this.closed)return this;this.state=Me;const de=this.id,ge=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(ge,de,fe)),this.pending=!0,this.delay=fe,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(ge,this.id,fe),this}requestAsyncId(Me,fe,Be=0){return A.setInterval(Me.flush.bind(Me,this),Be)}recycleAsyncId(Me,fe,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return fe;null!=fe&&A.clearInterval(fe)}execute(Me,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Me,fe);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,fe){let de,Be=!1;try{this.work(Me)}catch(ge){Be=!0,de=ge||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Me,scheduler:fe}=this,{actions:Be}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(Be,this),null!=Me&&(this.id=this.recycleAsyncId(fe,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(on,Pe,j)=>{"use strict";j.d(Pe,{v:()=>A});var p=j(6063);class V{constructor(ve,Ie=V.now){this.schedulerActionCtor=ve,this.now=Ie}schedule(ve,Ie=0,Me){return new this.schedulerActionCtor(this,ve).schedule(Me,Ie)}}V.now=p.l.now;class A extends V{constructor(ve,Ie=V.now){super(ve,Ie),this.actions=[],this._active=!1}flush(ve){const{actions:Ie}=this;if(this._active)return void Ie.push(ve);let Me;this._active=!0;do{if(Me=ve.execute(ve.state,ve.delay))break}while(ve=Ie.shift());if(this._active=!1,Me){for(;ve=Ie.shift();)ve.unsubscribe();throw Me}}}},4986:(on,Pe,j)=>{"use strict";j.d(Pe,{z:()=>A});var p=j(4408);const A=new(j(7565).v)(p.o)},6063:(on,Pe,j)=>{"use strict";j.d(Pe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(on,Pe,j)=>{"use strict";j.d(Pe,{z:()=>p});const p={setTimeout(V,A,...Se){const{delegate:ve}=p;return ve?.setTimeout?ve.setTimeout(V,A,...Se):setTimeout(V,A,...Se)},clearTimeout(V){const{delegate:A}=p;return(A?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(on,Pe,j)=>{"use strict";j.d(Pe,{h:()=>V});const V=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(on,Pe,j)=>{"use strict";j.d(Pe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(on,Pe,j)=>{"use strict";j.d(Pe,{K:()=>V});const V=(0,j(3888).d)(A=>function(){A(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(on,Pe,j)=>{"use strict";j.d(Pe,{_6:()=>Ie,jO:()=>Se,yG:()=>ve});var p=j(576);function A(Me){return Me[Me.length-1]}function Se(Me){return(0,p.m)(A(Me))?Me.pop():void 0}function ve(Me){return function V(Me){return Me&&(0,p.m)(Me.schedule)}(A(Me))?Me.pop():void 0}function Ie(Me,fe){return"number"==typeof A(Me)?Me.pop():fe}},4742:(on,Pe,j)=>{"use strict";j.d(Pe,{D:()=>ve});const{isArray:p}=Array,{getPrototypeOf:V,prototype:A,keys:Se}=Object;function ve(Me){if(1===Me.length){const fe=Me[0];if(p(fe))return{args:fe,keys:null};if(function Ie(Me){return Me&&"object"==typeof Me&&V(Me)===A}(fe)){const Be=Se(fe);return{args:Be.map(de=>fe[de]),keys:Be}}}return{args:Me,keys:null}}},8737:(on,Pe,j)=>{"use strict";function p(V,A){if(V){const Se=V.indexOf(A);0<=Se&&V.splice(Se,1)}}j.d(Pe,{P:()=>p})},3888:(on,Pe,j)=>{"use strict";function p(V){const Se=V(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}j.d(Pe,{d:()=>p})},1810:(on,Pe,j)=>{"use strict";function p(V,A){return V.reduce((Se,ve,Ie)=>(Se[ve]=A[Ie],Se),{})}j.d(Pe,{n:()=>p})},2806:(on,Pe,j)=>{"use strict";j.d(Pe,{O:()=>Se,x:()=>A});var p=j(2416);let V=null;function A(ve){if(p.v.useDeprecatedSynchronousErrorHandling){const Ie=!V;if(Ie&&(V={errorThrown:!1,error:null}),ve(),Ie){const{errorThrown:Me,error:fe}=V;if(V=null,Me)throw fe}}else ve()}function Se(ve){p.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ve)}},9672:(on,Pe,j)=>{"use strict";function p(V,A,Se,ve=0,Ie=!1){const Me=A.schedule(function(){Se(),Ie?V.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(V.add(Me),!Ie)return Me}j.d(Pe,{f:()=>p})},4671:(on,Pe,j)=>{"use strict";function p(V){return V}j.d(Pe,{y:()=>p})},1144:(on,Pe,j)=>{"use strict";j.d(Pe,{z:()=>p});const p=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(on,Pe,j)=>{"use strict";j.d(Pe,{D:()=>V});var p=j(576);function V(A){return Symbol.asyncIterator&&(0,p.m)(A?.[Symbol.asyncIterator])}},576:(on,Pe,j)=>{"use strict";function p(V){return"function"==typeof V}j.d(Pe,{m:()=>p})},3670:(on,Pe,j)=>{"use strict";j.d(Pe,{c:()=>A});var p=j(8822),V=j(576);function A(Se){return(0,V.m)(Se[p.L])}},6495:(on,Pe,j)=>{"use strict";j.d(Pe,{T:()=>A});var p=j(2202),V=j(576);function A(Se){return(0,V.m)(Se?.[p.h])}},8239:(on,Pe,j)=>{"use strict";j.d(Pe,{t:()=>V});var p=j(576);function V(A){return(0,p.m)(A?.then)}},3260:(on,Pe,j)=>{"use strict";j.d(Pe,{L:()=>Se,Q:()=>A});var p=j(7582),V=j(576);function A(ve){return(0,p.FC)(this,arguments,function*(){const Me=ve.getReader();try{for(;;){const{value:fe,done:Be}=yield(0,p.qq)(Me.read());if(Be)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(fe)}}finally{Me.releaseLock()}})}function Se(ve){return(0,V.m)(ve?.getReader)}},4482:(on,Pe,j)=>{"use strict";j.d(Pe,{A:()=>V,e:()=>A});var p=j(576);function V(Se){return(0,p.m)(Se?.lift)}function A(Se){return ve=>{if(V(ve))return ve.lift(function(Ie){try{return Se(Ie,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(on,Pe,j)=>{"use strict";j.d(Pe,{Z:()=>Se});var p=j(4004);const{isArray:V}=Array;function Se(ve){return(0,p.U)(Ie=>function A(ve,Ie){return V(Ie)?ve(...Ie):ve(Ie)}(ve,Ie))}},9635:(on,Pe,j)=>{"use strict";j.d(Pe,{U:()=>A,z:()=>V});var p=j(4671);function V(...Se){return A(Se)}function A(Se){return 0===Se.length?p.y:1===Se.length?Se[0]:function(Ie){return Se.reduce((Me,fe)=>fe(Me),Ie)}}},7849:(on,Pe,j)=>{"use strict";j.d(Pe,{h:()=>A});var p=j(2416),V=j(3410);function A(Se){V.z.setTimeout(()=>{const{onUnhandledError:ve}=p.v;if(!ve)throw Se;ve(Se)})}},4532:(on,Pe,j)=>{"use strict";function p(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Pe,{z:()=>p})},3998:function(on){on.exports=function(){"use strict";var Pe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const p=E=>{const C={};for(const W in E)C[E[W]]="swal2-"+E[W];return C},V=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),A=p(["success","warning","info","question","error"]),Se="SweetAlert2:",Ie=E=>E.charAt(0).toUpperCase()+E.slice(1),Me=E=>{console.warn(`${Se} ${"object"==typeof E?E.join(" "):E}`)},fe=E=>{console.error(`${Se} ${E}`)},Be=[],ge=(E,C)=>{(E=>{Be.includes(E)||(Be.push(E),Me(E))})(`"${E}" is deprecated and will be removed in the next major release. Please use "${C}" instead.`)},xe=E=>"function"==typeof E?E():E,nt=E=>E&&"function"==typeof E.toPromise,st=E=>nt(E)?E.toPromise():Promise.resolve(E),wt=E=>E&&Promise.resolve(E)===E,ft=()=>document.body.querySelector(`.${V.container}`),Re=E=>{const C=ft();return C?C.querySelector(E):null},ot=E=>Re(`.${E}`),Ke=()=>ot(V.popup),_t=()=>ot(V.icon),at=()=>ot(V.title),pt=()=>ot(V["html-container"]),It=()=>ot(V.image),ct=()=>ot(V["progress-steps"]),ce=()=>ot(V["validation-message"]),kt=()=>Re(`.${V.actions} .${V.confirm}`),tn=()=>Re(`.${V.actions} .${V.cancel}`),Mt=()=>Re(`.${V.actions} .${V.deny}`),Nt=()=>Re(`.${V.loader}`),gr=()=>ot(V.actions),Ze=()=>ot(V.footer),Ne=()=>ot(V["timer-progress-bar"]),je=()=>ot(V.close),dt=()=>{const E=Array.from(Ke().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((W,he)=>{const Ge=parseInt(W.getAttribute("tabindex")),Bt=parseInt(he.getAttribute("tabindex"));return Ge>Bt?1:Ge<Bt?-1:0}),C=Array.from(Ke().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(W=>"-1"!==W.getAttribute("tabindex"));return(E=>{const C=[];for(let W=0;W<E.length;W++)-1===C.indexOf(E[W])&&C.push(E[W]);return C})(E.concat(C)).filter(W=>Zn(W))},rt=()=>Ft(document.body,V.shown)&&!Ft(document.body,V["toast-shown"])&&!Ft(document.body,V["no-backdrop"]),He=()=>Ke()&&Ft(Ke(),V.toast),Tn={previousBodyPadding:null},xt=(E,C)=>{if(E.textContent="",C){const he=(new DOMParser).parseFromString(C,"text/html");Array.from(he.querySelector("head").childNodes).forEach(Ge=>{E.appendChild(Ge)}),Array.from(he.querySelector("body").childNodes).forEach(Ge=>{Ge instanceof HTMLVideoElement||Ge instanceof HTMLAudioElement?E.appendChild(Ge.cloneNode(!0)):E.appendChild(Ge)})}},Ft=(E,C)=>{if(!C)return!1;const W=C.split(/\s+/);for(let he=0;he<W.length;he++)if(!E.classList.contains(W[he]))return!1;return!0},hn=(E,C,W)=>{if(((E,C)=>{Array.from(E.classList).forEach(W=>{!Object.values(V).includes(W)&&!Object.values(A).includes(W)&&!Object.values(C.showClass).includes(W)&&E.classList.remove(W)})})(E,C),C.customClass&&C.customClass[W]){if("string"!=typeof C.customClass[W]&&!C.customClass[W].forEach)return void Me(`Invalid type of customClass.${W}! Expected string or iterable object, got "${typeof C.customClass[W]}"`);Qt(E,C.customClass[W])}},Gn=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return E.querySelector(`.${V.popup} > .${V[C]}`);case"checkbox":return E.querySelector(`.${V.popup} > .${V.checkbox} input`);case"radio":return E.querySelector(`.${V.popup} > .${V.radio} input:checked`)||E.querySelector(`.${V.popup} > .${V.radio} input:first-child`);case"range":return E.querySelector(`.${V.popup} > .${V.range} input`);default:return E.querySelector(`.${V.popup} > .${V.input}`)}},tr=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},zn=(E,C,W)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(he=>{Array.isArray(E)?E.forEach(Ge=>{W?Ge.classList.add(he):Ge.classList.remove(he)}):W?E.classList.add(he):E.classList.remove(he)}))},Qt=(E,C)=>{zn(E,C,!0)},Tt=(E,C)=>{zn(E,C,!1)},Wn=(E,C)=>{const W=Array.from(E.children);for(let he=0;he<W.length;he++){const Ge=W[he];if(Ge instanceof HTMLElement&&Ft(Ge,C))return Ge}},$n=(E,C,W)=>{W===`${parseInt(W)}`&&(W=parseInt(W)),W||0===parseInt(W)?E.style[C]="number"==typeof W?`${W}px`:W:E.style.removeProperty(C)},Rn=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ln=E=>{E.style.display="none"},Lt=(E,C,W,he)=>{const Ge=E.querySelector(C);Ge&&(Ge.style[W]=he)},nn=function(E,C){C?Rn(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ln(E)},Zn=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),kr=E=>E.scrollHeight>E.clientHeight,Er=E=>{const C=window.getComputedStyle(E),W=parseFloat(C.getPropertyValue("animation-duration")||"0"),he=parseFloat(C.getPropertyValue("transition-duration")||"0");return W>0||he>0},_n=function(E){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const W=Ne();Zn(W)&&(C&&(W.style.transition="none",W.style.width="100%"),setTimeout(()=>{W.style.transition=`width ${E/1e3}s linear`,W.style.width="0%"},10))},Rt={},hr=E=>new Promise(C=>{if(!E)return C();const W=window.scrollX,he=window.scrollY;Rt.restoreFocusTimeout=setTimeout(()=>{Rt.previousActiveElement instanceof HTMLElement?(Rt.previousActiveElement.focus(),Rt.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(W,he)}),rr=()=>typeof window>"u"||typeof document>"u",Rr=`\n <div aria-labelledby="${V.title}" aria-describedby="${V["html-container"]}" class="${V.popup}" tabindex="-1">\n   <button type="button" class="${V.close}"></button>\n   <ul class="${V["progress-steps"]}"></ul>\n   <div class="${V.icon}"></div>\n   <img class="${V.image}" />\n   <h2 class="${V.title}" id="${V.title}"></h2>\n   <div class="${V["html-container"]}" id="${V["html-container"]}"></div>\n   <input class="${V.input}" />\n   <input type="file" class="${V.file}" />\n   <div class="${V.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${V.select}"></select>\n   <div class="${V.radio}"></div>\n   <label for="${V.checkbox}" class="${V.checkbox}">\n     <input type="checkbox" />\n     <span class="${V.label}"></span>\n   </label>\n   <textarea class="${V.textarea}"></textarea>\n   <div class="${V["validation-message"]}" id="${V["validation-message"]}"></div>\n   <div class="${V.actions}">\n     <div class="${V.loader}"></div>\n     <button type="button" class="${V.confirm}"></button>\n     <button type="button" class="${V.deny}"></button>\n     <button type="button" class="${V.cancel}"></button>\n   </div>\n   <div class="${V.footer}"></div>\n   <div class="${V["timer-progress-bar-container"]}">\n     <div class="${V["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),fr=()=>{Rt.currentInstance.resetValidationMessage()},Zt=E=>{const C=(()=>{const E=ft();return!!E&&(E.remove(),Tt([document.documentElement,document.body],[V["no-backdrop"],V["toast-shown"],V["has-column"]]),!0)})();if(rr())return void fe("SweetAlert2 requires document to initialize");const W=document.createElement("div");W.className=V.container,C&&Qt(W,V["no-transition"]),xt(W,Rr);const he=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);he.appendChild(W),(E=>{const C=Ke();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Qt(ft(),V.rtl)})(he),(()=>{const E=Ke(),C=Wn(E,V.input),W=Wn(E,V.file),he=E.querySelector(`.${V.range} input`),Ge=E.querySelector(`.${V.range} output`),Bt=Wn(E,V.select),lt=E.querySelector(`.${V.checkbox} input`),Cn=Wn(E,V.textarea);C.oninput=fr,W.onchange=fr,Bt.onchange=fr,lt.onchange=fr,Cn.oninput=fr,he.oninput=()=>{fr(),Ge.value=he.value},he.onchange=()=>{fr(),Ge.value=he.value}})()},kn=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?jn(E,C):E&&xt(C,E)},jn=(E,C)=>{E.jquery?Ir(C,E):xt(C,E.toString())},Ir=(E,C)=>{if(E.textContent="",0 in C)for(let W=0;W in C;W++)E.appendChild(C[W].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},sr=(()=>{if(rr())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const W in C)if(Object.prototype.hasOwnProperty.call(C,W)&&typeof E.style[W]<"u")return C[W];return!1})(),nr=(E,C)=>{const W=gr(),he=Nt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?Rn(W):ln(W),hn(W,C,"actions"),function vr(E,C,W){const he=kt(),Ge=Mt(),Bt=tn();X(he,"confirm",W),X(Ge,"deny",W),X(Bt,"cancel",W),function _e(E,C,W,he){he.buttonsStyling?(Qt([E,C,W],V.styled),he.confirmButtonColor&&(E.style.backgroundColor=he.confirmButtonColor,Qt(E,V["default-outline"])),he.denyButtonColor&&(C.style.backgroundColor=he.denyButtonColor,Qt(C,V["default-outline"])),he.cancelButtonColor&&(W.style.backgroundColor=he.cancelButtonColor,Qt(W,V["default-outline"]))):Tt([E,C,W],V.styled)}(he,Ge,Bt,W),W.reverseButtons&&(W.toast?(E.insertBefore(Bt,he),E.insertBefore(Ge,he)):(E.insertBefore(Bt,C),E.insertBefore(Ge,C),E.insertBefore(he,C)))}(W,he,C),xt(he,C.loaderHtml),hn(he,C,"loader")};function X(E,C,W){nn(E,W[`show${Ie(C)}Button`],"inline-block"),xt(E,W[`${C}ButtonText`]),E.setAttribute("aria-label",W[`${C}ButtonAriaLabel`]),E.className=V[C],hn(E,W,`${C}Button`),Qt(E,W[`${C}ButtonClass`])}const L=(E,C)=>{const W=ft();W&&(function B(E,C){"string"==typeof C?E.style.background=C:C||Qt([document.documentElement,document.body],V["no-backdrop"])}(W,C.backdrop),function ae(E,C){C in V?Qt(E,V[C]):(Me('The "position" parameter is not valid, defaulting to "center"'),Qt(E,V.center))}(W,C.position),function oe(E,C){if(C&&"string"==typeof C){const W=`grow-${C}`;W in V&&Qt(E,V[W])}}(W,C.grow),hn(W,C,"container"))};const le=["input","file","range","select","radio","checkbox","textarea"],Te=E=>{if(!ke[E.input])return void fe(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${E.input}"`);const C=Fr(E.input),W=ke[E.input](C,E);Rn(C),E.inputAutoFocus&&setTimeout(()=>{tr(W)})},gt=(E,C)=>{const W=Gn(Ke(),E);if(W){(E=>{for(let C=0;C<E.attributes.length;C++){const W=E.attributes[C].name;["type","value","style"].includes(W)||E.removeAttribute(W)}})(W);for(const he in C)W.setAttribute(he,C[he])}},Ht=E=>{const C=Fr(E.input);"object"==typeof E.customClass&&Qt(C,E.customClass.input)},an=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},Xn=(E,C,W)=>{if(W.inputLabel){E.id=V.input;const he=document.createElement("label"),Ge=V["input-label"];he.setAttribute("for",E.id),he.className=Ge,"object"==typeof W.customClass&&Qt(he,W.customClass.inputLabel),he.innerText=W.inputLabel,C.insertAdjacentElement("beforebegin",he)}},Fr=E=>Wn(Ke(),V[E]||V.input),We=(E,C)=>{["string","number"].includes(typeof C)?E.value=`${C}`:wt(C)||Me(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},ke={};ke.text=ke.email=ke.password=ke.number=ke.tel=ke.url=(E,C)=>(We(E,C.inputValue),Xn(E,E,C),an(E,C),E.type=C.input,E),ke.file=(E,C)=>(Xn(E,E,C),an(E,C),E),ke.range=(E,C)=>{const W=E.querySelector("input"),he=E.querySelector("output");return We(W,C.inputValue),W.type=C.input,We(he,C.inputValue),Xn(W,E,C),E},ke.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const W=document.createElement("option");xt(W,C.inputPlaceholder),W.value="",W.disabled=!0,W.selected=!0,E.appendChild(W)}return Xn(E,E,C),E},ke.radio=E=>(E.textContent="",E),ke.checkbox=(E,C)=>{const W=Gn(Ke(),"checkbox");W.value="1",W.id=V.checkbox,W.checked=Boolean(C.inputValue);const he=E.querySelector("span");return xt(he,C.inputPlaceholder),W},ke.textarea=(E,C)=>{We(E,C.inputValue),an(E,C),Xn(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const he=parseInt(window.getComputedStyle(Ke()).width);new MutationObserver(()=>{const Bt=E.offsetWidth+(he=>parseInt(window.getComputedStyle(he).marginLeft)+parseInt(window.getComputedStyle(he).marginRight))(E);Ke().style.width=Bt>he?`${Bt}px`:null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const St=(E,C)=>{const W=pt();hn(W,C,"htmlContainer"),C.html?(kn(C.html,W),Rn(W,"block")):C.text?(W.textContent=C.text,Rn(W,"block")):ln(W),((E,C)=>{const W=Ke(),he=Pe.innerParams.get(E),Ge=!he||C.input!==he.input;le.forEach(Bt=>{const lt=Wn(W,V[Bt]);gt(Bt,C.inputAttributes),lt.className=V[Bt],Ge&&ln(lt)}),C.input&&(Ge&&Te(C),Ht(C))})(E,C)},Nn=(E,C)=>{for(const W in A)C.icon!==W&&Tt(E,A[W]);Qt(E,A[C.icon]),Dr(E,C),Xt(),hn(E,C,"icon")},Xt=()=>{const E=Ke(),C=window.getComputedStyle(E).getPropertyValue("background-color"),W=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let he=0;he<W.length;he++)W[he].style.backgroundColor=C},qr=(E,C)=>{let he,W=E.innerHTML;C.iconHtml?he=bi(C.iconHtml):"success"===C.icon?(he='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',W=W.replace(/ style=".*?"/g,"")):he="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':bi({question:"?",warning:"!",info:"i"}[C.icon]),W.trim()!==he.trim()&&xt(E,he)},Dr=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const W of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Lt(E,W,"backgroundColor",C.iconColor);Lt(E,".swal2-success-ring","borderColor",C.iconColor)}},bi=E=>`<div class="${V["icon-content"]}">${E}</div>`,Gr=(E,C)=>{E.className=`${V.popup} ${Zn(E)?C.showClass.popup:""}`,C.toast?(Qt([document.documentElement,document.body],V["toast-shown"]),Qt(E,V.toast)):Qt(E,V.modal),hn(E,C,"popup"),"string"==typeof C.customClass&&Qt(E,C.customClass),C.icon&&Qt(E,V[`icon-${C.icon}`])},Pn=E=>{const C=document.createElement("li");return Qt(C,V["progress-step"]),xt(C,E),C},Pr=E=>{const C=document.createElement("li");return Qt(C,V["progress-step-line"]),E.progressStepsDistance&&$n(C,"width",E.progressStepsDistance),C},ui=(E,C)=>{((E,C)=>{const W=ft(),he=Ke();C.toast?($n(W,"width",C.width),he.style.width="100%",he.insertBefore(Nt(),_t())):$n(he,"width",C.width),$n(he,"padding",C.padding),C.color&&(he.style.color=C.color),C.background&&(he.style.background=C.background),ln(ce()),Gr(he,C)})(0,C),L(0,C),((E,C)=>{const W=ct();C.progressSteps&&0!==C.progressSteps.length?(Rn(W),W.textContent="",C.currentProgressStep>=C.progressSteps.length&&Me("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((he,Ge)=>{const Bt=Pn(he);if(W.appendChild(Bt),Ge===C.currentProgressStep&&Qt(Bt,V["active-progress-step"]),Ge!==C.progressSteps.length-1){const lt=Pr(C);W.appendChild(lt)}})):ln(W)})(0,C),((E,C)=>{const W=Pe.innerParams.get(E),he=_t();W&&C.icon===W.icon?(qr(he,C),Nn(he,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(A).indexOf(C.icon)?(fe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),ln(he)):(Rn(he),qr(he,C),Nn(he,C),Qt(he,C.showClass.icon)):ln(he)})(E,C),((E,C)=>{const W=It();C.imageUrl?(Rn(W,""),W.setAttribute("src",C.imageUrl),W.setAttribute("alt",C.imageAlt),$n(W,"width",C.imageWidth),$n(W,"height",C.imageHeight),W.className=V.image,hn(W,C,"image")):ln(W)})(0,C),((E,C)=>{const W=at();nn(W,C.title||C.titleText,"block"),C.title&&kn(C.title,W),C.titleText&&(W.innerText=C.titleText),hn(W,C,"title")})(0,C),((E,C)=>{const W=je();xt(W,C.closeButtonHtml),hn(W,C,"closeButton"),nn(W,C.showCloseButton),W.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),St(E,C),nr(0,C),((E,C)=>{const W=Ze();nn(W,C.footer),C.footer&&kn(C.footer,W),hn(W,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(Ke())};function Qe(){const E=Pe.innerParams.get(this);if(!E)return;const C=Pe.domCache.get(this);ln(C.loader),He()?E.icon&&Rn(_t()):fn(C),Tt([C.popup,C.actions],V.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const fn=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?Rn(C[0],"inline-block"):!Zn(kt())&&!Zn(Mt())&&!Zn(tn())&&ln(E.actions)};const Ae=()=>kt()&&kt().click(),bt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yn=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},bn=(E,C)=>{const W=dt();if(W.length)return(E+=C)===W.length?E=0:-1===E&&(E=W.length-1),void W[E].focus();Ke().focus()},Bn=["ArrowRight","ArrowDown"],gi=["ArrowLeft","ArrowUp"],Jr=(E,C,W)=>{const he=Pe.innerParams.get(E);he&&(C.isComposing||229===C.keyCode||(he.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Xr(E,C,he):"Tab"===C.key?ii(C):[...Bn,...gi].includes(C.key)?Lr(C.key):"Escape"===C.key&&Ri(C,he,W)))},Xr=(E,C,W)=>{if(xe(W.allowEnterKey)&&C.target&&E.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(W.input))return;Ae(),C.preventDefault()}},ii=E=>{const C=E.target,W=dt();let he=-1;for(let Ge=0;Ge<W.length;Ge++)if(C===W[Ge]){he=Ge;break}bn(he,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},Lr=E=>{const C=kt(),W=Mt(),he=tn();if(document.activeElement instanceof HTMLElement&&![C,W,he].includes(document.activeElement))return;const Bt=Bn.includes(E)?"nextElementSibling":"previousElementSibling";let lt=document.activeElement;for(let Cn=0;Cn<gr().children.length;Cn++){if(lt=lt[Bt],!lt)return;if(lt instanceof HTMLButtonElement&&Zn(lt))break}lt instanceof HTMLButtonElement&&lt.focus()},Ri=(E,C,W)=>{xe(C.allowEscapeKey)&&(E.preventDefault(),W(bt.esc))};var $i={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const is=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},fs=()=>{const E=navigator.userAgent,C=!!E.match(/iPad/i)||!!E.match(/iPhone/i),W=!!E.match(/WebKit/i);C&&W&&!E.match(/CriOS/i)&&Ke().scrollHeight>window.innerHeight-44&&(ft().style.paddingBottom="44px")},si=()=>{const E=ft();let C;E.ontouchstart=W=>{C=bo(W)},E.ontouchmove=W=>{C&&(W.preventDefault(),W.stopPropagation())}},bo=E=>{const C=E.target,W=ft();return!li(E)&&!ci(E)&&(C===W||!kr(W)&&C instanceof HTMLElement&&"INPUT"!==C.tagName&&"TEXTAREA"!==C.tagName&&!(kr(pt())&&pt().contains(C)))},li=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,ci=E=>E.touches&&E.touches.length>1,Oi=()=>{if(Ft(document.body,V.iosfix)){const E=parseInt(document.body.style.top,10);Tt(document.body,V.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}},ps=()=>{null===Tn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Tn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Tn.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=V["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})()}px`)},Ds=()=>{null!==Tn.previousBodyPadding&&(document.body.style.paddingRight=`${Tn.previousBodyPadding}px`,Tn.previousBodyPadding=null)};function oi(E,C,W,he){He()?Os(E,he):(hr(W).then(()=>Os(E,he)),yn(Rt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),rt()&&(Ds(),Oi(),is()),function _r(){Tt([document.documentElement,document.body],[V.shown,V["height-auto"],V["no-backdrop"],V["toast-shown"]])}()}function Ai(E){E=Ys(E);const C=$i.swalPromiseResolve.get(this),W=mi(this);this.isAwaitingPromise()?E.isDismissed||(Ki(this),C(E)):W&&C(E)}const mi=E=>{const C=Ke();if(!C)return!1;const W=Pe.innerParams.get(E);if(!W||Ft(C,W.hideClass.popup))return!1;Tt(C,W.showClass.popup),Qt(C,W.hideClass.popup);const he=ft();return Tt(he,W.showClass.backdrop),Qt(he,W.hideClass.backdrop),Fo(E,C,W),!0};const Ki=E=>{E.isAwaitingPromise()&&(Pe.awaitingPromise.delete(E),Pe.innerParams.get(E)||E._destroy())},Ys=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),Fo=(E,C,W)=>{const he=ft(),Ge=sr&&Er(C);"function"==typeof W.willClose&&W.willClose(C),Ge?Zo(E,C,he,W.returnFocus,W.didClose):oi(E,he,W.returnFocus,W.didClose)},Zo=(E,C,W,he,Ge)=>{Rt.swalCloseEventFinishedCallback=oi.bind(null,E,W,he,Ge),C.addEventListener(sr,function(Bt){Bt.target===C&&(Rt.swalCloseEventFinishedCallback(),delete Rt.swalCloseEventFinishedCallback)})},Os=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function ms(E,C,W){const he=Pe.domCache.get(E);C.forEach(Ge=>{he[Ge].disabled=W})}function ss(E,C){if(E)if("radio"===E.type){const he=E.parentNode.parentNode.querySelectorAll("input");for(let Ge=0;Ge<he.length;Ge++)he[Ge].disabled=C}else E.disabled=C}const As={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},os=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],$s={},as=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],js=E=>Object.prototype.hasOwnProperty.call(As,E),Zi=E=>-1!==os.indexOf(E),ys=E=>$s[E],go=E=>{js(E)||Me(`Unknown parameter "${E}"`)},vs=E=>{as.includes(E)&&Me(`The parameter "${E}" is incompatible with toasts`)},Yi=E=>{ys(E)&&ge(E,ys(E))};const Qi=E=>{const C={};return Object.keys(E).forEach(W=>{Zi(W)?C[W]=E[W]:Me(`Invalid parameter to update: ${W}`)}),C};const jr=E=>{us(E),delete E.params,delete Rt.keydownHandler,delete Rt.keydownTarget,delete Rt.currentInstance},us=E=>{E.isAwaitingPromise()?(_s(Pe,E),Pe.awaitingPromise.set(E,!0)):(_s($i,E),_s(Pe,E))},_s=(E,C)=>{for(const W in E)E[W].delete(C)};var Yr=Object.freeze({__proto__:null,_destroy:function Hi(){const E=Pe.domCache.get(this),C=Pe.innerParams.get(this);C?(E.popup&&Rt.swalCloseEventFinishedCallback&&(Rt.swalCloseEventFinishedCallback(),delete Rt.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),jr(this)):us(this)},close:Ai,closeModal:Ai,closePopup:Ai,closeToast:Ai,disableButtons:function ji(){ms(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function Ss(){ss(this.getInput(),!0)},disableLoading:Qe,enableButtons:function po(){ms(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Ts(){ss(this.getInput(),!1)},getInput:function ht(E){const C=Pe.innerParams.get(E||this),W=Pe.domCache.get(E||this);return W?Gn(W.popup,C.input):null},handleAwaitingPromise:Ki,hideLoading:Qe,isAwaitingPromise:function gs(){return!!Pe.awaitingPromise.get(this)},rejectPromise:function qi(E){const C=$i.swalPromiseReject.get(this);Ki(this),C&&C(E)},resetValidationMessage:function Qs(){const E=Pe.domCache.get(this);E.validationMessage&&ln(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Tt(C,V.inputerror))},showValidationMessage:function Ns(E){const C=Pe.domCache.get(this),W=Pe.innerParams.get(this);xt(C.validationMessage,E),C.validationMessage.className=V["validation-message"],W.customClass&&W.customClass.validationMessage&&Qt(C.validationMessage,W.customClass.validationMessage),Rn(C.validationMessage);const he=this.getInput();he&&(he.setAttribute("aria-invalid",!0),he.setAttribute("aria-describedby",V["validation-message"]),tr(he),Qt(he,V.inputerror))},update:function Js(E){const C=Ke(),W=Pe.innerParams.get(this);if(!C||Ft(C,W.hideClass.popup))return void Me("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const he=Qi(E),Ge=Object.assign({},W,he);ui(this,Ge),Pe.innerParams.set(this,Ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}});const Ni=E=>{let C=Ke();C||new et,C=Ke();const W=Nt();He()?ln(_t()):Hs(C,E),Rn(W),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Hs=(E,C)=>{const W=gr(),he=Nt();!C&&Zn(kt())&&(C=kt()),Rn(W),C&&(ln(C),he.setAttribute("data-button-to-replace",C.className)),he.parentNode.insertBefore(he,C),Qt([E,W],V.loading)},yo=E=>E.checked?1:0,xi=E=>E.checked?E.value:null,di=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ms=(E,C)=>{const W=Ke(),he=Ge=>{Lo[C.input](W,yi(Ge),C)};nt(C.inputOptions)||wt(C.inputOptions)?(Ni(kt()),st(C.inputOptions).then(Ge=>{E.hideLoading(),he(Ge)})):"object"==typeof C.inputOptions?he(C.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof C.inputOptions)},hi=(E,C)=>{const W=E.getInput();ln(W),st(C.inputValue).then(he=>{W.value="number"===C.input?`${parseFloat(he)||0}`:`${he}`,Rn(W),W.focus(),E.hideLoading()}).catch(he=>{fe(`Error in inputValue promise: ${he}`),W.value="",Rn(W),W.focus(),E.hideLoading()})},Lo={select:(E,C,W)=>{const he=Wn(E,V.select),Ge=(Bt,lt,Cn)=>{const ir=document.createElement("option");ir.value=Cn,xt(ir,lt),ir.selected=ks(Cn,W.inputValue),Bt.appendChild(ir)};C.forEach(Bt=>{const lt=Bt[0],Cn=Bt[1];if(Array.isArray(Cn)){const ir=document.createElement("optgroup");ir.label=lt,ir.disabled=!1,he.appendChild(ir),Cn.forEach(ki=>Ge(ir,ki[1],ki[0]))}else Ge(he,Cn,lt)}),he.focus()},radio:(E,C,W)=>{const he=Wn(E,V.radio);C.forEach(Bt=>{const lt=Bt[0],Cn=Bt[1],ir=document.createElement("input"),ki=document.createElement("label");ir.type="radio",ir.name=V.radio,ir.value=lt,ks(lt,W.inputValue)&&(ir.checked=!0);const qt=document.createElement("span");xt(qt,Cn),qt.className=V.label,ki.appendChild(ir),ki.appendChild(qt),he.appendChild(ki)});const Ge=he.querySelectorAll("input");Ge.length&&Ge[0].focus()}},yi=E=>{const C=[];return typeof Map<"u"&&E instanceof Map?E.forEach((W,he)=>{let Ge=W;"object"==typeof Ge&&(Ge=yi(Ge)),C.push([he,Ge])}):Object.keys(E).forEach(W=>{let he=E[W];"object"==typeof he&&(he=yi(he)),C.push([W,he])}),C},ks=(E,C)=>C&&C.toString()===E.toString(),Z=(E,C)=>{const W=Pe.innerParams.get(E);if(!W.input)return void fe(`The "input" parameter is needed to be set when using returnInputValueOn${Ie(C)}`);const he=((E,C)=>{const W=E.getInput();if(!W)return null;switch(C.input){case"checkbox":return yo(W);case"radio":return xi(W);case"file":return di(W);default:return C.inputAutoTrim?W.value.trim():W.value}})(E,W);W.inputValidator?K(E,he,C):E.getInput().checkValidity()?"deny"===C?pe(E,he):vt(E,he):(E.enableButtons(),E.showValidationMessage(W.validationMessage))},K=(E,C,W)=>{const he=Pe.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>st(he.inputValidator(C,he.validationMessage))).then(Bt=>{E.enableButtons(),E.enableInput(),Bt?E.showValidationMessage(Bt):"deny"===W?pe(E,C):vt(E,C)})},pe=(E,C)=>{const W=Pe.innerParams.get(E||void 0);W.showLoaderOnDeny&&Ni(Mt()),W.preDeny?(Pe.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>st(W.preDeny(C,W.validationMessage))).then(Ge=>{!1===Ge?(E.hideLoading(),Ki(E)):E.close({isDenied:!0,value:typeof Ge>"u"?C:Ge})}).catch(Ge=>$e(E||void 0,Ge))):E.close({isDenied:!0,value:C})},be=(E,C)=>{E.close({isConfirmed:!0,value:C})},$e=(E,C)=>{E.rejectPromise(C)},vt=(E,C)=>{const W=Pe.innerParams.get(E||void 0);W.showLoaderOnConfirm&&Ni(),W.preConfirm?(E.resetValidationMessage(),Pe.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>st(W.preConfirm(C,W.validationMessage))).then(Ge=>{Zn(ce())||!1===Ge?(E.hideLoading(),Ki(E)):be(E,typeof Ge>"u"?C:Ge)}).catch(Ge=>$e(E||void 0,Ge))):be(E,C)},D=(E,C,W)=>{C.popup.onclick=()=>{const he=Pe.innerParams.get(E);he&&(R(he)||he.timer||he.input)||W(bt.close)}},R=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let P=!1;const Q=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(P=!0)}}},Ve=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(P=!0)}}},Ut=(E,C,W)=>{C.container.onclick=he=>{const Ge=Pe.innerParams.get(E);P?P=!1:he.target===C.container&&xe(Ge.allowOutsideClick)&&W(bt.backdrop)}},Yn=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const Or=()=>{if(Rt.timeout)return(()=>{const E=Ne(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const W=parseInt(window.getComputedStyle(E).width);E.style.width=C/W*100+"%"})(),Rt.timeout.stop()},mr=()=>{if(Rt.timeout){const E=Rt.timeout.start();return _n(E),E}};let Di=!1;const Ti={};const ga=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const W in Ti){const he=C.getAttribute(W);if(he)return void Ti[W].fire({template:he})}};var Vo=Object.freeze({__proto__:null,argsToParams:E=>{const C={};return"object"!=typeof E[0]||Yn(E[0])?["title","html","icon"].forEach((W,he)=>{const Ge=E[he];"string"==typeof Ge||Yn(Ge)?C[W]=Ge:void 0!==Ge&&fe(`Unexpected type of ${W}! Expected "string" or "Element", got ${typeof Ge}`)}):Object.assign(C,E[0]),C},bindClickHandler:function vo(){Ti[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Di||(document.body.addEventListener("click",ga),Di=!0)},clickCancel:()=>tn()&&tn().click(),clickConfirm:Ae,clickDeny:()=>Mt()&&Mt().click(),enableLoading:Ni,fire:function br(){for(var C=arguments.length,W=new Array(C),he=0;he<C;he++)W[he]=arguments[he];return new this(...W)},getActions:gr,getCancelButton:tn,getCloseButton:je,getConfirmButton:kt,getContainer:ft,getDenyButton:Mt,getFocusableElements:dt,getFooter:Ze,getHtmlContainer:pt,getIcon:_t,getIconContent:()=>ot(V["icon-content"]),getImage:It,getInputLabel:()=>ot(V["input-label"]),getLoader:Nt,getPopup:Ke,getProgressSteps:ct,getTimerLeft:()=>Rt.timeout&&Rt.timeout.getTimerLeft(),getTimerProgressBar:Ne,getTitle:at,getValidationMessage:ce,increaseTimer:E=>{if(Rt.timeout){const C=Rt.timeout.increase(E);return _n(C,!0),C}},isDeprecatedParameter:ys,isLoading:()=>Ke().hasAttribute("data-loading"),isTimerRunning:()=>Rt.timeout&&Rt.timeout.isRunning(),isUpdatableParameter:Zi,isValidParameter:js,isVisible:()=>Zn(Ke()),mixin:function vi(E){return class C extends(this){_main(he,Ge){return super._main(he,Object.assign({},E,Ge))}}},resumeTimer:mr,showLoading:Ni,stopTimer:Or,toggleTimer:()=>{const E=Rt.timeout;return E&&(E.running?Or():mr())}});class _i{constructor(C,W){this.callback=C,this.remaining=W,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const W=this.running;return W&&this.stop(),this.remaining+=C,W&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fi=["swal-title","swal-html","swal-footer"],Nr=E=>{const C={};return Array.from(E.querySelectorAll("swal-param")).forEach(he=>{zs(he,["name","value"]);const Ge=he.getAttribute("name"),Bt=he.getAttribute("value");C[Ge]="boolean"==typeof As[Ge]?"false"!==Bt:"object"==typeof As[Ge]?JSON.parse(Bt):Bt}),C},Co=E=>{const C={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(he=>{const Ge=he.getAttribute("name"),Bt=he.getAttribute("value");C[Ge]=new Function(`return ${Bt}`)()}),C},ta=E=>{const C={};return Array.from(E.querySelectorAll("swal-button")).forEach(he=>{zs(he,["type","color","aria-label"]);const Ge=he.getAttribute("type");C[`${Ge}ButtonText`]=he.innerHTML,C[`show${Ie(Ge)}Button`]=!0,he.hasAttribute("color")&&(C[`${Ge}ButtonColor`]=he.getAttribute("color")),he.hasAttribute("aria-label")&&(C[`${Ge}ButtonAriaLabel`]=he.getAttribute("aria-label"))}),C},Ji=E=>{const C={},W=E.querySelector("swal-image");return W&&(zs(W,["src","width","height","alt"]),W.hasAttribute("src")&&(C.imageUrl=W.getAttribute("src")),W.hasAttribute("width")&&(C.imageWidth=W.getAttribute("width")),W.hasAttribute("height")&&(C.imageHeight=W.getAttribute("height")),W.hasAttribute("alt")&&(C.imageAlt=W.getAttribute("alt"))),C},na=E=>{const C={},W=E.querySelector("swal-icon");return W&&(zs(W,["type","color"]),W.hasAttribute("type")&&(C.icon=W.getAttribute("type")),W.hasAttribute("color")&&(C.iconColor=W.getAttribute("color")),C.iconHtml=W.innerHTML),C},Do=E=>{const C={},W=E.querySelector("swal-input");W&&(zs(W,["type","label","placeholder","value"]),C.input=W.getAttribute("type")||"text",W.hasAttribute("label")&&(C.inputLabel=W.getAttribute("label")),W.hasAttribute("placeholder")&&(C.inputPlaceholder=W.getAttribute("placeholder")),W.hasAttribute("value")&&(C.inputValue=W.getAttribute("value")));const he=Array.from(E.querySelectorAll("swal-input-option"));return he.length&&(C.inputOptions={},he.forEach(Ge=>{zs(Ge,["value"]);const Bt=Ge.getAttribute("value");C.inputOptions[Bt]=Ge.innerHTML})),C},Fs=(E,C)=>{const W={};for(const he in C){const Ge=C[he],Bt=E.querySelector(Ge);Bt&&(zs(Bt,[]),W[Ge.replace(/^swal-/,"")]=Bt.innerHTML.trim())}return W},To=E=>{const C=Fi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(W=>{const he=W.tagName.toLowerCase();C.includes(he)||Me(`Unrecognized element <${he}>`)})},zs=(E,C)=>{Array.from(E.attributes).forEach(W=>{-1===C.indexOf(W.name)&&Me([`Unrecognized attribute "${W.name}" on <${E.tagName.toLowerCase()}>.`,C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."])})},Gi=E=>{const C=ft(),W=Ke();"function"==typeof E.willOpen&&E.willOpen(W);const Ge=window.getComputedStyle(document.body).overflowY;Uo(C,W,E),setTimeout(()=>{Li(C,W)},10),rt()&&(Zr(C,E.scrollbarPadding,Ge),Array.from(document.body.children).forEach(C=>{C===ft()||C.contains(ft())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!He()&&!Rt.previousActiveElement&&(Rt.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(W)),Tt(C,V["no-transition"])},Tr=E=>{const C=Ke();if(E.target!==C)return;const W=ft();C.removeEventListener(sr,Tr),W.style.overflowY="auto"},Li=(E,C)=>{sr&&Er(C)?(E.style.overflowY="hidden",C.addEventListener(sr,Tr)):E.style.overflowY="auto"},Zr=(E,C,W)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Ft(document.body,V.iosfix)){const C=document.body.scrollTop;document.body.style.top=-1*C+"px",Qt(document.body,V.iosfix),si(),fs()}})(),C&&"hidden"!==W&&ps(),setTimeout(()=>{E.scrollTop=0})},Uo=(E,C,W)=>{Qt(E,W.showClass.backdrop),C.style.setProperty("opacity","0","important"),Rn(C,"grid"),setTimeout(()=>{Qt(C,W.showClass.popup),C.style.removeProperty("opacity")},10),Qt([document.documentElement,document.body],V.shown),W.heightAuto&&W.backdrop&&!W.toast&&Qt([document.documentElement,document.body],V["height-auto"])};var Gs={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function xa(E){(function ra(E){E.inputValidator||Object.keys(Gs).forEach(C=>{E.input===C&&(E.inputValidator=Gs[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&Me("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Yo(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(Me('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),Zt(E)}let Ws;class Ls{constructor(){if(typeof window>"u")return;Ws=this;for(var C=arguments.length,W=new Array(C),he=0;he<C;he++)W[he]=arguments[he];const Ge=Object.freeze(this.constructor.argsToParams(W));Object.defineProperties(this,{params:{value:Ge,writable:!1,enumerable:!0,configurable:!0}});const Bt=Ws._main(Ws.params);Pe.promise.set(this,Bt)}_main(C){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!1===E.backdrop&&E.allowOutsideClick&&Me('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)go(C),E.toast&&vs(C),Yi(C)})(Object.assign({},W,C)),Rt.currentInstance&&(Rt.currentInstance._destroy(),rt()&&is()),Rt.currentInstance=Ws;const he=Ma(C,W);xa(he),Object.freeze(he),Rt.timeout&&(Rt.timeout.stop(),delete Rt.timeout),clearTimeout(Rt.restoreFocusTimeout);const Ge=O(Ws);return ui(Ws,he),Pe.innerParams.set(Ws,he),ma(Ws,Ge,he)}then(C){return Pe.promise.get(this).then(C)}finally(C){return Pe.promise.get(this).finally(C)}}const ma=(E,C,W)=>new Promise((he,Ge)=>{const Bt=lt=>{E.close({isDismissed:!0,dismiss:lt})};$i.swalPromiseResolve.set(E,he),$i.swalPromiseReject.set(E,Ge),C.confirmButton.onclick=()=>{(E=>{const C=Pe.innerParams.get(E);E.disableButtons(),C.input?Z(E,"confirm"):vt(E,!0)})(E)},C.denyButton.onclick=()=>{(E=>{const C=Pe.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?Z(E,"deny"):pe(E,!1)})(E)},C.cancelButton.onclick=()=>{((E,C)=>{E.disableButtons(),C(bt.cancel)})(E,Bt)},C.closeButton.onclick=()=>{Bt(bt.close)},((E,C,W)=>{Pe.innerParams.get(E).toast?D(E,C,W):(Q(C),Ve(C),Ut(E,C,W))})(E,C,Bt),((E,C,W,he)=>{yn(C),W.toast||(C.keydownHandler=Ge=>Jr(E,Ge,he),C.keydownTarget=W.keydownListenerCapture?window:Ke(),C.keydownListenerCapture=W.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,Rt,W,Bt),((E,C)=>{"select"===C.input||"radio"===C.input?Ms(E,C):["text","email","number","tel","textarea"].includes(C.input)&&(nt(C.inputValue)||wt(C.inputValue))&&(Ni(kt()),hi(E,C))})(E,W),Gi(W),z(Rt,W,Bt),F(C,W),setTimeout(()=>{C.container.scrollTop=0})}),Ma=(E,C)=>{const W=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const W=C.content;return To(W),Object.assign(Nr(W),Co(W),ta(W),Ji(W),na(W),Do(W),Fs(W,Fi))})(E),he=Object.assign({},As,C,W,E);return he.showClass=Object.assign({},As.showClass,he.showClass),he.hideClass=Object.assign({},As.hideClass,he.hideClass),he},O=E=>{const C={popup:Ke(),container:ft(),actions:gr(),confirmButton:kt(),denyButton:Mt(),cancelButton:tn(),loader:Nt(),closeButton:je(),validationMessage:ce(),progressSteps:ct()};return Pe.domCache.set(E,C),C},z=(E,C,W)=>{const he=Ne();ln(he),C.timer&&(E.timeout=new _i(()=>{W("timer"),delete E.timeout},C.timer),C.timerProgressBar&&(Rn(he),hn(he,C,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&_n(C.timer)})))},F=(E,C)=>{if(!C.toast){if(!xe(C.allowEnterKey))return void ye();ee(E,C)||bn(-1,1)}},ee=(E,C)=>C.focusDeny&&Zn(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&Zn(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!Zn(E.confirmButton)||(E.confirmButton.focus(),0)),ye=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const E=new Date,C=localStorage.getItem("swal-initiation");C?(E.getTime()-Date.parse(C))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const W=document.createElement("audio");W.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",W.loop=!0,document.body.appendChild(W),setTimeout(()=>{W.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${E}`)}Object.assign(Ls.prototype,Yr),Object.assign(Ls,Vo),Object.keys(Yr).forEach(E=>{Ls[E]=function(){if(Ws)return Ws[E](...arguments)}}),Ls.DismissReason=bt,Ls.version="11.7.3";const et=Ls;return et.default=et,et}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Pe,j){var p=Pe.createElement("style");if(Pe.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=j);else try{p.innerHTML=j}catch{p.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},6895:(on,Pe,j)=>{"use strict";j.d(Pe,{Do:()=>Ke,EM:()=>ys,HT:()=>Se,JF:()=>Js,K0:()=>Ie,Mx:()=>Bi,O5:()=>Ae,PC:()=>Xr,PM:()=>$s,RF:()=>yn,S$:()=>ft,V_:()=>Be,Ye:()=>_t,b0:()=>ot,bD:()=>Ss,ez:()=>Ts,n9:()=>xn,q:()=>A,sg:()=>fn,w_:()=>ve});var p=j(4650);let V=null;function A(){return V}function Se(O){V||(V=O)}class ve{}const Ie=new p.OlP("DocumentToken");let Me=(()=>{class O{historyGo(F){throw new Error("Not implemented")}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275prov=p.Yz7({token:O,factory:function(){return function fe(){return(0,p.LFG)(de)}()},providedIn:"platform"}),O})();const Be=new p.OlP("Location Initialized");let de=(()=>{class O extends Me{constructor(F){super(),this._doc=F,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(F){const ee=A().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",F,!1),()=>ee.removeEventListener("popstate",F)}onHashChange(F){const ee=A().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",F,!1),()=>ee.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,ee,ye){ge()?this._history.pushState(F,ee,ye):this._location.hash=ye}replaceState(F,ee,ye){ge()?this._history.replaceState(F,ee,ye):this._location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return O.\u0275fac=function(F){return new(F||O)(p.LFG(Ie))},O.\u0275prov=p.Yz7({token:O,factory:function(){return function xe(){return new de((0,p.LFG)(Ie))}()},providedIn:"platform"}),O})();function ge(){return!!window.history.pushState}function nt(O,z){if(0==O.length)return z;if(0==z.length)return O;let F=0;return O.endsWith("/")&&F++,z.startsWith("/")&&F++,2==F?O+z.substring(1):1==F?O+z:O+"/"+z}function st(O){const z=O.match(/#|\?|$/),F=z&&z.index||O.length;return O.slice(0,F-("/"===O[F-1]?1:0))+O.slice(F)}function wt(O){return O&&"?"!==O[0]?"?"+O:O}let ft=(()=>{class O{historyGo(F){throw new Error("Not implemented")}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275prov=p.Yz7({token:O,factory:function(){return(0,p.f3M)(ot)},providedIn:"root"}),O})();const Re=new p.OlP("appBaseHref");let ot=(()=>{class O extends ft{constructor(F,ee){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return nt(this._baseHref,F)}path(F=!1){const ee=this._platformLocation.pathname+wt(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&F?`${ee}${ye}`:ee}pushState(F,ee,ye,et){const E=this.prepareExternalUrl(ye+wt(et));this._platformLocation.pushState(F,ee,E)}replaceState(F,ee,ye,et){const E=this.prepareExternalUrl(ye+wt(et));this._platformLocation.replaceState(F,ee,E)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return O.\u0275fac=function(F){return new(F||O)(p.LFG(Me),p.LFG(Re,8))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Ke=(()=>{class O extends ft{constructor(F,ee){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(F){const ee=nt(this._baseHref,F);return ee.length>0?"#"+ee:ee}pushState(F,ee,ye,et){let E=this.prepareExternalUrl(ye+wt(et));0==E.length&&(E=this._platformLocation.pathname),this._platformLocation.pushState(F,ee,E)}replaceState(F,ee,ye,et){let E=this.prepareExternalUrl(ye+wt(et));0==E.length&&(E=this._platformLocation.pathname),this._platformLocation.replaceState(F,ee,E)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return O.\u0275fac=function(F){return new(F||O)(p.LFG(Me),p.LFG(Re,8))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac}),O})(),_t=(()=>{class O{constructor(F){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const ee=this._locationStrategy.getBaseHref();this._basePath=function It(O){if(new RegExp("^(https?:)?//").test(O)){const[,F]=O.split(/\/\/[^\/]+/);return F}return O}(st(pt(ee))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,ee=""){return this.path()==this.normalize(F+wt(ee))}normalize(F){return O.stripTrailingSlash(function at(O,z){if(!O||!z.startsWith(O))return z;const F=z.substring(O.length);return""===F||["/",";","?","#"].includes(F[0])?F:z}(this._basePath,pt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,ee="",ye=null){this._locationStrategy.pushState(ye,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+wt(ee)),ye)}replaceState(F,ee="",ye=null){this._locationStrategy.replaceState(ye,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+wt(ee)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",ee){this._urlChangeListeners.forEach(ye=>ye(F,ee))}subscribe(F,ee,ye){return this._subject.subscribe({next:F,error:ee,complete:ye})}}return O.normalizeQueryParams=wt,O.joinWithSlash=nt,O.stripTrailingSlash=st,O.\u0275fac=function(F){return new(F||O)(p.LFG(ft))},O.\u0275prov=p.Yz7({token:O,factory:function(){return function it(){return new _t((0,p.LFG)(ft))}()},providedIn:"root"}),O})();function pt(O){return O.replace(/\/index.html$/,"")}function Bi(O,z){z=encodeURIComponent(z);for(const F of O.split(";")){const ee=F.indexOf("="),[ye,et]=-1==ee?[F,""]:[F.slice(0,ee),F.slice(ee+1)];if(ye.trim()===z)return decodeURIComponent(et)}return null}class Qe{constructor(z,F,ee,ye){this.$implicit=z,this.ngForOf=F,this.index=ee,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fn=(()=>{class O{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,ee,ye){this._viewContainer=F,this._template=ee,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ee=this._viewContainer;F.forEachOperation((ye,et,E)=>{if(null==ye.previousIndex)ee.createEmbeddedView(this._template,new Qe(ye.item,this._ngForOf,-1,-1),null===E?void 0:E);else if(null==E)ee.remove(null===et?void 0:et);else if(null!==et){const C=ee.get(et);ee.move(C,E),ht(C,ye)}});for(let ye=0,et=ee.length;ye<et;ye++){const C=ee.get(ye).context;C.index=ye,C.count=et,C.ngForOf=this._ngForOf}F.forEachIdentityChange(ye=>{ht(ee.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(F,ee){return!0}}return O.\u0275fac=function(F){return new(F||O)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},O.\u0275dir=p.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function ht(O,z){O.context.$implicit=z.item}let Ae=(()=>{class O{constructor(F,ee){this._viewContainer=F,this._context=new De,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){ut("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){ut("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ee){return!0}}return O.\u0275fac=function(F){return new(F||O)(p.Y36(p.s_b),p.Y36(p.Rgc))},O.\u0275dir=p.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class De{constructor(){this.$implicit=null,this.ngIf=null}}function ut(O,z){if(z&&!z.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,p.AaK)(z)}'.`)}class bt{constructor(z,F){this._viewContainerRef=z,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let yn=(()=>{class O{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews.push(F)}_matchCase(F){const ee=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ee}_updateDefaultCases(F){if(this._defaultViews.length>0&&F!==this._defaultUsed){this._defaultUsed=F;for(const ee of this._defaultViews)ee.enforceState(F)}}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275dir=p.lG2({type:O,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),O})(),xn=(()=>{class O{constructor(F,ee,ye){this.ngSwitch=ye,ye._addCase(),this._view=new bt(F,ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return O.\u0275fac=function(F){return new(F||O)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(yn,9))},O.\u0275dir=p.lG2({type:O,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),O})(),Xr=(()=>{class O{constructor(F,ee,ye){this._ngEl=F,this._differs=ee,this._renderer=ye,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,ee){const[ye,et]=F.split("."),E=-1===ye.indexOf("-")?void 0:p.JOm.DashCase;null!=ee?this._renderer.setStyle(this._ngEl.nativeElement,ye,et?`${ee}${et}`:ee,E):this._renderer.removeStyle(this._ngEl.nativeElement,ye,E)}_applyChanges(F){F.forEachRemovedItem(ee=>this._setStyle(ee.key,null)),F.forEachAddedItem(ee=>this._setStyle(ee.key,ee.currentValue)),F.forEachChangedItem(ee=>this._setStyle(ee.key,ee.currentValue))}}return O.\u0275fac=function(F){return new(F||O)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},O.\u0275dir=p.lG2({type:O,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),O})(),Ts=(()=>{class O{}return O.\u0275fac=function(F){return new(F||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({}),O})();const Ss="browser",Ns="server";function $s(O){return O===Ns}let ys=(()=>{class O{}return O.\u0275prov=(0,p.Yz7)({token:O,providedIn:"root",factory:()=>new go((0,p.LFG)(Ie),window)}),O})();class go{constructor(z,F){this.document=z,this.window=F,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const F=function Yi(O,z){const F=O.getElementById(z)||O.getElementsByName(z)[0];if(F)return F;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const ee=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ye=ee.currentNode;for(;ye;){const et=ye.shadowRoot;if(et){const E=et.getElementById(z)||et.querySelector(`[name="${z}"]`);if(E)return E}ye=ee.nextNode()}}return null}(this.document,z);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=z)}}scrollToElement(z){const F=z.getBoundingClientRect(),ee=F.left+this.window.pageXOffset,ye=F.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(ee-et[0],ye-et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=vs(this.window.history)||vs(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vs(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class Js{}},4650:(on,Pe,j)=>{"use strict";j.d(Pe,{$8M:()=>Es,$WT:()=>qr,$Z:()=>kh,AFp:()=>nw,ALo:()=>I0,AaK:()=>fe,AsE:()=>Su,BQk:()=>sf,CHM:()=>P,CRH:()=>O0,CZH:()=>fy,CqO:()=>Xc,D6c:()=>TI,DdM:()=>g0,EJc:()=>jE,EpF:()=>uf,F4k:()=>Em,FYo:()=>Kf,FiY:()=>Ei,Gf:()=>R0,GfV:()=>Dh,Gpc:()=>ge,JOm:()=>Xo,KtG:()=>Q,LFG:()=>Zt,LSH:()=>Hl,Lbi:()=>UE,Lck:()=>Vw,MAs:()=>rf,MMx:()=>c_,NdJ:()=>kp,OlP:()=>Ar,Oqu:()=>rc,P3R:()=>$f,PXZ:()=>rI,Q6J:()=>Op,QGY:()=>Ld,Qsj:()=>Ry,R0b:()=>Mu,RDi:()=>ds,Rgc:()=>ug,SBq:()=>nu,Sil:()=>zE,Suo:()=>P0,TTD:()=>Zi,TgZ:()=>Qc,VKq:()=>m0,W1O:()=>L0,X6Q:()=>uI,XFs:()=>Lt,Xpm:()=>an,Xts:()=>zl,Y36:()=>kc,YKP:()=>o0,YNc:()=>nf,Yjl:()=>Nn,Yz7:()=>Ft,Z0I:()=>tr,ZZ4:()=>F_,_Bn:()=>s0,_UZ:()=>Np,_Vd:()=>md,_c5:()=>CI,_uU:()=>Zp,aQg:()=>L_,c2e:()=>BE,cJS:()=>hn,cg1:()=>qm,dDg:()=>XE,dqk:()=>_n,eFA:()=>gw,eJc:()=>w_,ekj:()=>Wp,eoX:()=>dw,f3M:()=>jn,g9A:()=>iw,h0i:()=>Af,hGG:()=>DI,hij:()=>mf,iGM:()=>M0,ifc:()=>L,ip1:()=>tw,jDz:()=>u0,kL8:()=>Zm,lG2:()=>pn,lcZ:()=>b0,lnq:()=>Au,lqb:()=>Ta,lri:()=>lw,n5z:()=>$a,oAB:()=>ke,oxw:()=>bm,q4F:()=>Th,qLn:()=>gl,qOj:()=>Sp,qZA:()=>Fd,rWj:()=>cw,sBO:()=>lI,s_b:()=>cy,soG:()=>py,tb:()=>fw,tp0:()=>Ks,uIk:()=>Rp,vHH:()=>Re,vpe:()=>Rl,wAp:()=>ur,xi3:()=>C0,xp6:()=>Wg,ynx:()=>Jc,z2F:()=>gy,zSh:()=>wh,zs3:()=>Zl});var p=j(7579),V=j(727),A=j(9751),Se=j(6451),ve=j(3099);function Ie(n){for(let i in n)if(n[i]===Ie)return i;throw Error("Could not find renamed property on target object.")}function Me(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Be(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const de=Ie({__forward_ref__:Ie});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return fe(this())},n}function xe(n){return nt(n)?n():n}function nt(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===ge}function st(n){return n&&!!n.\u0275providers}const ft="https://g.co/ng/security#xss";class Re extends Error{constructor(i,o){super(ot(i,o)),this.code=i}}function ot(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ke(n){return"string"==typeof n?n:null==n?"":String(n)}function It(n,i){throw new Re(-201,!1)}function rt(n,i){null==n&&function He(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Ft(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gn(n){return zn(n,Wn)||zn(n,Rn)}function tr(n){return null!==Gn(n)}function zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Tt(n){return n&&(n.hasOwnProperty($n)||n.hasOwnProperty(ln))?n[$n]:null}const Wn=Ie({\u0275prov:Ie}),$n=Ie({\u0275inj:Ie}),Rn=Ie({ngInjectableDef:Ie}),ln=Ie({ngInjectorDef:Ie});var Lt=(()=>((Lt=Lt||{})[Lt.Default=0]="Default",Lt[Lt.Host=1]="Host",Lt[Lt.Self=2]="Self",Lt[Lt.SkipSelf=4]="SkipSelf",Lt[Lt.Optional=8]="Optional",Lt))();let nn;function dr(n){const i=nn;return nn=n,i}function kr(n,i,o){const u=Gn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Lt.Optional?null:void 0!==i?i:void It(fe(n))}const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},hr="__NG_DI_FLAG__",rr="ngTempTokenPath",Rr="ngTokenPath",Sr=/\n/gm,fr="\u0275",Sn="__source";let Br;function An(n){const i=Br;return Br=n,i}function Jt(n,i=Lt.Default){if(void 0===Br)throw new Re(-203,!1);return null===Br?kr(n,void 0,i):Br.get(n,i&Lt.Optional?null:void 0,i)}function Zt(n,i=Lt.Default){return(function Zn(){return nn}()||Jt)(xe(n),i)}function jn(n,i=Lt.Default){return Zt(n,Ir(i))}function Ir(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sr(n){const i=[];for(let o=0;o<n.length;o++){const u=xe(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Re(900,!1);let l,h=Lt.Default;for(let y=0;y<u.length;y++){const S=u[y],k=nr(S);"number"==typeof k?-1===k?l=S.token:h|=k:l=S}i.push(Zt(l,h))}else i.push(Zt(u))}return i}function $r(n,i){return n[hr]=i,n.prototype[hr]=i,n}function nr(n){return n[hr]}function X(n){return{toString:n}.toString()}var x=(()=>((x=x||{})[x.OnPush=0]="OnPush",x[x.Default=1]="Default",x))(),L=(()=>{return(n=L||(L={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",L;var n})();const B={},ae=[],oe=Ie({\u0275cmp:Ie}),le=Ie({\u0275dir:Ie}),se=Ie({\u0275pipe:Ie}),Te=Ie({\u0275mod:Ie}),ze=Ie({\u0275fac:Ie}),gt=Ie({__NG_ELEMENT_ID__:Ie});let Ht=0;function an(n){return X(()=>{const i=bi(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===x.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||L.Emulated,id:"c"+Ht++,styles:n.styles||ae,_:null,schemas:n.schemas||null,tView:null};zr(o);const u=n.dependencies;return o.directiveDefs=Bi(u,!1),o.pipeDefs=Bi(u,!0),o})}function Fr(n){return Xt(n)||er(n)}function We(n){return null!==n}function ke(n){return X(()=>({type:n.type,bootstrap:n.bootstrap||ae,declarations:n.declarations||ae,imports:n.imports||ae,exports:n.exports||ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function un(n,i){if(null==n)return B;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function pn(n){return X(()=>{const i=bi(n);return zr(i),i})}function Nn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xt(n){return n[oe]||null}function er(n){return n[le]||null}function qn(n){return n[se]||null}function qr(n){const i=Xt(n)||er(n)||qn(n);return null!==i&&i.standalone}function Dr(n,i){const o=n[Te]||null;if(!o&&!0===i)throw new Error(`Type ${fe(n)} does not have '\u0275mod' property.`);return o}function bi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ae,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:un(n.inputs,i),outputs:un(n.outputs)}}function zr(n){n.features?.forEach(i=>i(n))}function Bi(n,i){if(!n)return null;const o=i?qn:Fr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(We)}const Gr=0,Wt=1,Pn=2,Pr=3,Un=4,ui=5,Qe=6,fn=7,ht=8,we=9,Ae=10,De=11,ut=12,bt=13,yn=14,xn=15,bn=16,Bn=17,gi=18,Jr=19,Xr=20,ii=21,Lr=22,$i=1,Pi=2,is=7,hs=8,fs=9,si=10;function li(n){return Array.isArray(n)&&"object"==typeof n[$i]}function ci(n){return Array.isArray(n)&&!0===n[$i]}function Oi(n){return 0!=(4&n.flags)}function ps(n){return n.componentOffset>-1}function Ds(n){return 1==(1&n.flags)}function oi(n){return!!n.template}function _r(n){return 0!=(256&n[Pn])}function as(n,i){return n.hasOwnProperty(ze)?n[ze]:null}class js{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zi(){return ys}function ys(n){return n.type.prototype.ngOnChanges&&(n.setInput=vs),go}function go(){const n=xs(this),i=n?.current;if(i){const o=n.previous;if(o===B)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function vs(n,i,o,u){const l=this.declaredInputs[o],h=xs(n)||function Js(n,i){return n[Yi]=i}(n,{previous:B,current:null}),y=h.current||(h.current={}),S=h.previous,k=S[l];y[l]=new js(k&&k.currentValue,i,S===B),n[u]=i}Zi.ngInherit=!0;const Yi="__ngSimpleChanges__";function xs(n){return n[Yi]||null}const jr=function(n,i,o){};function Yr(n){for(;Array.isArray(n);)n=n[Gr];return n}function Hs(n,i){return Yr(i[n])}function cr(n,i){return Yr(i[n.index])}function yo(n,i){return n.data[i]}function xi(n,i){return n[i]}function di(n,i){const o=i[n];return li(o)?o:o[Gr]}function hi(n){return 64==(64&n[Pn])}function yi(n,i){return null==i?null:n[i]}function ks(n){n[gi]=0}function Ci(n,i){n[ui]+=i;let o=n,u=n[Pr];for(;null!==u&&(1===i&&1===o[ui]||-1===i&&0===o[ui]);)u[ui]+=i,o=u,u=u[Pr]}const Hn={lFrame:Do(null),bindingsEnabled:!0};function $e(){return Hn.bindingsEnabled}function D(){return Hn.lFrame.lView}function R(){return Hn.lFrame.tView}function P(n){return Hn.lFrame.contextLView=n,n[ht]}function Q(n){return Hn.lFrame.contextLView=null,n}function Ve(){let n=Ut();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ut(){return Hn.lFrame.currentTNode}function Yn(n,i){const o=Hn.lFrame;o.currentTNode=n,o.isParent=i}function Qr(){return Hn.lFrame.isParent}function br(){Hn.lFrame.isParent=!1}function mr(){const n=Hn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function fi(){return Hn.lFrame.bindingIndex}function ls(){return Hn.lFrame.bindingIndex++}function Di(n){const i=Hn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function ga(n,i){const o=Hn.lFrame;o.bindingIndex=o.bindingRootIndex=n,_i(i)}function _i(n){Hn.lFrame.currentDirectiveIndex=n}function _o(){return Hn.lFrame.currentQueryIndex}function Nr(n){Hn.lFrame.currentQueryIndex=n}function Co(n){const i=n[Wt];return 2===i.type?i.declTNode:1===i.type?n[Qe]:null}function ta(n,i,o){if(o&Lt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&Lt.Host||(l=Co(h),null===l||(h=h[xn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Hn.lFrame=na();return u.currentTNode=i,u.lView=n,!0}function Ji(n){const i=na(),o=n[Wt];Hn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function na(){const n=Hn.lFrame,i=null===n?null:n.child;return null===i?Do(n):i}function Do(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Fs(){const n=Hn.lFrame;return Hn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const To=Fs;function zs(){const n=Fs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Tr(){return Hn.lFrame.selectedIndex}function Li(n){Hn.lFrame.selectedIndex=n}function Zr(){const n=Hn.lFrame;return yo(n.tView,n.selectedIndex)}function Ls(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:S,ngAfterViewInit:k,ngAfterViewChecked:H,ngOnDestroy:te}=h;y&&(n.contentHooks??(n.contentHooks=[])).push(-o,y),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),k&&(n.viewHooks??(n.viewHooks=[])).push(-o,k),H&&((n.viewHooks??(n.viewHooks=[])).push(o,H),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,H)),null!=te&&(n.destroyHooks??(n.destroyHooks=[])).push(o,te)}}function ma(n,i,o){z(n,i,3,o)}function Ma(n,i,o,u){(3&n[Pn])===o&&z(n,i,o,u)}function O(n,i){let o=n[Pn];(3&o)===i&&(o&=2047,o+=1,n[Pn]=o)}function z(n,i,o,u){const h=u??-1,y=i.length-1;let S=0;for(let k=void 0!==u?65535&n[gi]:0;k<y;k++)if("number"==typeof i[k+1]){if(S=i[k],null!=u&&S>=u)break}else i[k]<0&&(n[gi]+=65536),(S<h||-1==h)&&(F(n,o,i,k),n[gi]=(4294901760&n[gi])+k+2),k++}function F(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[Pn]>>11<n[gi]>>16&&(3&n[Pn])===i){n[Pn]+=2048,jr(4,S,h);try{h.call(S)}finally{jr(5,S,h)}}}else{jr(4,S,h);try{h.call(S)}finally{jr(5,S,h)}}}const ee=-1;class ye{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Cn(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],y=o[u++],S=o[u++];n.setAttribute(i,y,S,h)}else{const h=l,y=o[++u];ki(h)?n.setProperty(i,h,y):n.setAttribute(i,h,y),u++}}return u}function ir(n){return 3===n||4===n||6===n}function ki(n){return 64===n.charCodeAt(0)}function qt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||vn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function vn(n,i,o,u,l){let h=0,y=n.length;if(-1===i)y=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){y=-1;break}if(S>i){y=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==y&&(n.splice(y,0,i),h=y+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Wi(n){return n!==ee}function jt(n){return 32767&n}function Dt(n,i){let o=function qe(n){return n>>16}(n),u=i;for(;o>0;)u=u[xn],o--;return u}let Vi=!0;function Ra(n){const i=Vi;return Vi=n,i}const Pa=255,lu=5;let Ru=0;const wo={};function Pu(n,i){const o=Ol(n,i);if(-1!==o)return o;const u=i[Wt];u.firstCreatePass&&(n.injectorIndex=i.length,ia(u.data,n),ia(i,null),ia(u.blueprint,null));const l=wi(n,i),h=n.injectorIndex;if(Wi(l)){const y=jt(l),S=Dt(l,i),k=S[Wt].data;for(let H=0;H<8;H++)i[h+H]=S[y+H]|k[y+H]}return i[h+8]=l,h}function ia(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ol(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function wi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=aa(l),null===u)return ee;if(o++,l=l[xn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return ee}function Qn(n,i,o){!function Pl(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(gt)&&(u=o[gt]),null==u&&(u=o[gt]=Ru++);const l=u&Pa;i.data[n+(l>>lu)]|=1<<l}(n,i,o)}function Ba(n,i,o){if(o&Lt.Optional||void 0!==n)return n;It()}function ai(n,i,o,u){if(o&Lt.Optional&&void 0===u&&(u=null),!(o&(Lt.Self|Lt.Host))){const l=n[we],h=dr(void 0);try{return l?l.get(i,u,o&Lt.Optional):kr(i,u,o&Lt.Optional)}finally{dr(h)}}return Ba(u,0,o)}function On(n,i,o,u=Lt.Default,l){if(null!==n){if(1024&i[Pn]){const y=function _a(n,i,o,u,l){let h=n,y=i;for(;null!==h&&null!==y&&1024&y[Pn]&&!(256&y[Pn]);){const S=oa(h,y,o,u|Lt.Self,wo);if(S!==wo)return S;let k=h.parent;if(!k){const H=y[ii];if(H){const te=H.get(o,wo,u);if(te!==wo)return te}k=aa(y),y=y[xn]}h=k}return l}(n,i,o,u,wo);if(y!==wo)return y}const h=oa(n,i,o,u,wo);if(h!==wo)return h}return ai(i,o,u,l)}function oa(n,i,o,u,l){const h=function rn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(gt)?n[gt]:void 0;return"number"==typeof i?i>=0?i&Pa:Xu:i}(o);if("function"==typeof h){if(!ta(i,n,u))return u&Lt.Host?Ba(l,0,u):ai(i,o,u,l);try{const y=h(u);if(null!=y||u&Lt.Optional)return y;It()}finally{To()}}else if("number"==typeof h){let y=null,S=Ol(n,i),k=ee,H=u&Lt.Host?i[bn][Qe]:null;for((-1===S||u&Lt.SkipSelf)&&(k=-1===S?wi(n,i):i[S+8],k!==ee&&ya(u,!1)?(y=i[Wt],S=jt(k),i=Dt(k,i)):S=-1);-1!==S;){const te=i[Wt];if(Bo(h,S,te.data)){const me=Kn(S,i,o,y,u,H);if(me!==wo)return me}k=i[S+8],k!==ee&&ya(u,i[Wt].data[S+8]===H)&&Bo(h,S,i)?(y=te,S=jt(k),i=Dt(k,i)):S=-1}}return l}function Kn(n,i,o,u,l,h){const y=i[Wt],S=y.data[n+8],te=ws(S,y,o,null==u?ps(S)&&Vi:u!=y&&0!=(3&S.type),l&Lt.Host&&h===S);return null!==te?lr(i,y,te,S):wo}function ws(n,i,o,u,l){const h=n.providerIndexes,y=i.data,S=1048575&h,k=n.directiveStart,te=h>>20,Le=l?S+te:n.directiveEnd;for(let Xe=u?S:S+te;Xe<Le;Xe++){const At=y[Xe];if(Xe<k&&o===At||Xe>=k&&At.type===o)return Xe}if(l){const Xe=y[k];if(Xe&&oi(Xe)&&Xe.type===o)return k}return null}function lr(n,i,o,u){let l=n[o];const h=i.data;if(function et(n){return n instanceof ye}(l)){const y=l;y.resolving&&function it(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Re(-200,`Circular dependency in DI detected for ${n}${o}`)}(function _t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ke(n)}(h[o]));const S=Ra(y.canSeeViewProviders);y.resolving=!0;const k=y.injectImpl?dr(y.injectImpl):null;ta(n,u,Lt.Default);try{l=n[o]=y.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Ws(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const y=ys(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,y)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==k&&dr(k),Ra(S),y.resolving=!1,To()}}return l}function Bo(n,i,o){return!!(o[i+(n>>lu)]&1<<n)}function ya(n,i){return!(n&Lt.Self||n&Lt.Host&&i)}class eo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return On(this._tNode,this._lView,i,Ir(u),o)}}function Xu(){return new eo(Ve(),D())}function $a(n){return X(()=>{const i=n.prototype.constructor,o=i[ze]||va(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[ze]||va(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function va(n){return nt(n)?()=>{const i=va(xe(n));return i&&i()}:as(n)}function aa(n){const i=n[Wt],o=i.type;return 2===o?i.declTNode:1===o?n[Qe]:null}function Es(n){return function sa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ir(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Ve(),n)}const to="__parameters__";function So(n,i,o){return X(()=>{const u=function Is(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const y=new l(...h);return S.annotation=y,S;function S(k,H,te){const me=k.hasOwnProperty(to)?k[to]:Object.defineProperty(k,to,{value:[]})[to];for(;me.length<=te;)me.push(null);return(me[te]=me[te]||[]).push(y),k}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Ar{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ft({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jo(n,i){n.forEach(o=>Array.isArray(o)?jo(o,i):i(o))}function io(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ia(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function so(n,i,o){let u=v(n,i);return u>=0?n[1|u]=o:(u=~u,function Ga(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Oa(n,i){const o=v(n,i);if(o>=0)return n[1|o]}function v(n,i){return function m(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),y=n[h<<o];if(i===y)return h<<o;y>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Ei=$r(So("Optional"),8),Ks=$r(So("SkipSelf"),4);var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();const Rs=new Map;let ld=0;const Ce="__ngContext__";function Oe(n,i){li(i)?(n[Ce]=i[Xr],function Fa(n){Rs.set(n[Xr],n)}(i)):n[Ce]=i}let Ro;function Po(n,i){return Ro(n,i)}function gc(n){const i=n[Pr];return ci(i)?i[Pr]:i}function da(n){return al(n[bt])}function vu(n){return al(n[Un])}function al(n){for(;null!==n&&!ci(n);)n=n[Un];return n}function Ja(n,i,o,u,l){if(null!=u){let h,y=!1;ci(u)?h=u:li(u)&&(y=!0,u=u[Gr]);const S=Yr(u);0===n&&null!==o?null==l?Oo(i,o,S):wr(i,o,S,l||null,!0):1===n&&null!==o?wr(i,o,S,l||null,!0):2===n?function sh(n,i,o){const u=$u(n,i);u&&function _c(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,y):3===n&&i.destroyNode(S),null!=h&&function _y(n,i,o,u,l){const h=o[is];h!==Yr(o)&&Ja(i,n,u,h,l);for(let S=si;S<o.length;S++){const k=o[S];Cc(k[Wt],k,n,i,u,h)}}(i,n,h,o,l)}}function vc(n,i,o){return n.createElement(i,o)}function b(n,i){const o=n[fs],u=o.indexOf(i),l=i[Pr];512&i[Pn]&&(i[Pn]&=-513,Ci(l,-1)),o.splice(u,1)}function Y(n,i){if(n.length<=si)return;const o=si+i,u=n[o];if(u){const l=u[Bn];null!==l&&l!==n&&b(l,u),i>0&&(n[o-1][Un]=u[Un]);const h=Ia(n,si+i);!function Bu(n,i){Cc(n,i,i[De],2,null,null),i[Gr]=null,i[Qe]=null}(u[Wt],u);const y=h[Jr];null!==y&&y.detachView(h[Wt]),u[Pr]=null,u[Un]=null,u[Pn]&=-65}return u}function ie(n,i){if(!(128&i[Pn])){const o=i[De];o.destroyNode&&Cc(n,i,o,3,null,null),function w(n){let i=n[bt];if(!i)return Fe(n[Wt],n);for(;i;){let o=null;if(li(i))o=i[bt];else{const u=i[si];u&&(o=u)}if(!o){for(;i&&!i[Un]&&i!==n;)li(i)&&Fe(i[Wt],i),i=i[Pr];null===i&&(i=n),li(i)&&Fe(i[Wt],i),o=i&&i[Un]}i=o}}(i)}}function Fe(n,i){if(!(128&i[Pn])){i[Pn]&=-65,i[Pn]|=128,function Kt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ye)){const h=o[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const S=l[h[y]],k=h[y+1];jr(4,S,k);try{k.call(S)}finally{jr(5,S,k)}}else{jr(4,l,h);try{h.call(l)}finally{jr(5,l,h)}}}}}(n,i),function yt(n,i){const o=n.cleanup,u=i[fn];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const y=o[h+3];y>=0?u[l=y]():u[l=-y].unsubscribe(),h+=2}else{const y=u[l=o[h+1]];o[h].call(y)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[fn]=null}}(n,i),1===i[Wt].type&&i[De].destroy();const o=i[Bn];if(null!==o&&ci(i[Pr])){o!==i[Pr]&&b(o,i);const u=i[Jr];null!==u&&u.detachView(n)}!function ol(n){Rs.delete(n[Xr])}(i)}}function gn(n,i,o){return function Ln(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Gr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===L.None||h===L.Emulated)return null}return cr(u,o)}}(n,i.parent,o)}function wr(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Oo(n,i,o){n.appendChild(i,o)}function ao(n,i,o,u,l){null!==u?wr(n,i,o,u,l):Oo(n,i,o)}function $u(n,i){return n.parentNode(i)}let _u,Pf,$l,Ec=function ea(n,i,o){return 40&n.type?cr(n,o):null};function Ul(n,i,o,u){const l=gn(n,u,i),h=i[De],S=function wc(n,i,o){return Ec(n,i,o)}(u.parent||i[Qe],u,i);if(null!=l)if(Array.isArray(o))for(let k=0;k<o.length;k++)ao(h,l,o[k],S,!1);else ao(h,l,o,S,!1);void 0!==_u&&_u(h,u,i,o,l)}function yr(n,i){if(null!==i){const o=i.type;if(3&o)return cr(i,n);if(4&o)return Bl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return yr(n,u);{const l=n[i.index];return ci(l)?Bl(-1,l):Yr(l)}}if(32&o)return Po(i,n)()||Yr(n[i.index]);{const u=bc(n,i);return null!==u?Array.isArray(u)?u[0]:yr(gc(n[bn]),u):yr(n,i.next)}}return null}function bc(n,i){return null!==i?n[bn][Qe].projection[i.projection]:null}function Bl(n,i){const o=si+n+1;if(o<i.length){const u=i[o],l=u[Wt].firstChild;if(null!==l)return yr(u,l)}return i[is]}function oh(n,i,o,u,l,h,y){for(;null!=o;){const S=u[o.index],k=o.type;if(y&&0===i&&(S&&Oe(Yr(S),u),o.flags|=2),32!=(32&o.flags))if(8&k)oh(n,i,o.child,u,l,h,!1),Ja(i,n,l,S,h);else if(32&k){const H=Po(o,u);let te;for(;te=H();)Ja(i,n,l,te,h);Ja(i,n,l,S,h)}else 16&k?cg(n,i,u,o,l,h):Ja(i,n,l,S,h);o=y?o.projectionNext:o.next}}function Cc(n,i,o,u,l,h){oh(o,u,n.firstChild,i,l,h,!1)}function cg(n,i,o,u,l,h){const y=o[bn],k=y[Qe].projection[u.projection];if(Array.isArray(k))for(let H=0;H<k.length;H++)Ja(i,n,l,k[H],h);else oh(n,i,k,y[Pr],l,h,!0)}function ll(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Rf(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Cn(n,i,u),null!==l&&ll(n,i,l),null!==h&&function Dc(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function ds(n){Pf=n}function gg(n){return function ch(){if(void 0===$l&&($l=null,_n.trustedTypes))try{$l=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $l}()?.createScriptURL(n)||n}class Of{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function Da(n){return n instanceof Of?n.changingThisBreaksApplicationSecurity:n}function jl(n,i){const o=function Nf(n){return n instanceof Of&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${ft})`)}return o===i}const dh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hr=(()=>((Hr=Hr||{})[Hr.NONE=0]="NONE",Hr[Hr.HTML=1]="HTML",Hr[Hr.STYLE=2]="STYLE",Hr[Hr.SCRIPT=3]="SCRIPT",Hr[Hr.URL=4]="URL",Hr[Hr.RESOURCE_URL=5]="RESOURCE_URL",Hr))();function Hl(n){const i=gd();return i?i.sanitize(Hr.URL,n)||"":jl(n,"URL")?Da(n):function hh(n){return(n=String(n)).match(dh)?n:"unsafe:"+n}(Ke(n))}function tu(n){const i=gd();if(i)return gg(i.sanitize(Hr.RESOURCE_URL,n)||"");if(jl(n,"ResourceURL"))return gg(Da(n));throw new Re(904,!1)}function $f(n,i,o){return function Sg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?tu:Hl}(i,o)(n)}function gd(){const n=D();return n&&n[ut]}const zl=new Ar("ENVIRONMENT_INITIALIZER"),_h=new Ar("INJECTOR",-1),Ag=new Ar("INJECTOR_DEF_TYPES");class jf{get(i,o=Jn){if(o===Jn){const u=new Error(`NullInjectorError: No provider for ${fe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Mg(...n){return{\u0275providers:Rg(0,n),\u0275fromNgModule:!0}}function Rg(n,...i){const o=[],u=new Set;let l;return jo(i,h=>{const y=h;zf(y,o,[],u)&&(l||(l=[]),l.push(y))}),void 0!==l&&Hf(l,o),o}function Hf(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Gf(l,h=>{i.push(h)})}}function zf(n,i,o,u){if(!(n=xe(n)))return!1;let l=null,h=Tt(n);const y=!h&&Xt(n);if(h||y){if(y&&!y.standalone)return!1;l=n}else{const k=n.ngModule;if(h=Tt(k),!h)return!1;l=k}const S=u.has(l);if(y){if(S)return!1;if(u.add(l),y.dependencies){const k="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const H of k)zf(H,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let H;u.add(l);try{jo(h.imports,te=>{zf(te,i,o,u)&&(H||(H=[]),H.push(te))})}finally{}void 0!==H&&Hf(H,i)}if(!S){const H=as(l)||(()=>new l);i.push({provide:l,useFactory:H,deps:ae},{provide:Ag,useValue:l,multi:!0},{provide:zl,useValue:()=>Zt(l),multi:!0})}const k=h.providers;null==k||S||Gf(k,te=>{i.push(te)})}}return l!==n&&void 0!==n.providers}function Gf(n,i){for(let o of n)st(o)&&(o=o.\u0275providers),Array.isArray(o)?Gf(o,i):i(o)}const cl=Ie({provide:String,useValue:Ie});function dl(n){return null!==n&&"object"==typeof n&&cl in n}function hl(n){return"function"==typeof n}const wh=new Ar("Set Injector scope."),Eh={},Og={};let Pc;function Eu(){return void 0===Pc&&(Pc=new jf),Pc}class Ta{}class fl extends Ta{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bh(i,y=>this.processProvider(y)),this.records.set(_h,Wl(void 0,this)),l.has("environment")&&this.records.set(Ta,Wl(void 0,this));const h=this.records.get(wh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ag.multi,ae,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=An(this),u=dr(void 0);try{return i()}finally{An(o),dr(u)}}get(i,o=Jn,u=Lt.Default){this.assertNotDestroyed(),u=Ir(u);const l=An(this),h=dr(void 0);try{if(!(u&Lt.SkipSelf)){let S=this.records.get(i);if(void 0===S){const k=function Fg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ar}(i)&&Gn(i);S=k&&this.injectableDefInScope(k)?Wl(Gl(i),Eh):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&Lt.Self?Eu():this.parent).get(i,o=u&Lt.Optional&&o===Jn?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[rr]=y[rr]||[]).unshift(fe(i)),l)throw y;return function vr(n,i,o,u){const l=n[rr];throw i[Sn]&&l.unshift(i[Sn]),n.message=function _e(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==fr?n.slice(2):n;let l=fe(i);if(Array.isArray(i))l=i.map(fe).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let S=i[y];h.push(y+":"+("string"==typeof S?JSON.stringify(S):fe(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Sr,"\n  ")}`}("\n"+n.message,l,o,u),n[Rr]=l,n[rr]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{dr(h),An(l)}}resolveInjectorInitializers(){const i=An(this),o=dr(void 0);try{const u=this.get(zl.multi,ae,Lt.Self);for(const l of u)l()}finally{An(i),dr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(fe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(i){let o=hl(i=xe(i))?i:xe(i&&i.provide);const u=function qf(n){return dl(n)?Wl(void 0,n.useValue):Wl(Ih(n),Eh)}(i);if(hl(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Wl(void 0,Eh,!0),l.factory=()=>sr(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===Eh&&(o.value=Og,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Sy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=xe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Gl(n){const i=Gn(n),o=null!==i?i.factory:as(n);if(null!==o)return o;if(n instanceof Ar)throw new Re(204,!1);if(n instanceof Function)return function Ng(n){const i=n.length;if(i>0)throw function Ho(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Re(204,!1);const o=function Qt(n){return n&&(n[Wn]||n[Rn])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Re(204,!1)}function Ih(n,i,o){let u;if(hl(n)){const l=xe(n);return as(l)||Gl(l)}if(dl(n))u=()=>xe(n.useValue);else if(function Pg(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...sr(n.deps||[]));else if(function Wf(n){return!(!n||!n.useExisting)}(n))u=()=>Zt(xe(n.useExisting));else{const l=xe(n&&(n.useClass||n.provide));if(!function kg(n){return!!n.deps}(n))return as(l)||Gl(l);u=()=>new l(...sr(n.deps))}return u}function Wl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function bh(n,i){for(const o of n)Array.isArray(o)?bh(o,i):o&&st(o)?bh(o.\u0275providers,i):i(o)}class Ch{}class Oc{}class xy{resolveComponentFactory(i){throw function ql(n){const i=Error(`No component factory found for ${fe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let md=(()=>{class n{}return n.NULL=new xy,n})();function My(){return Iu(Ve(),D())}function Iu(n,i){return new nu(cr(n,i))}let nu=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=My,n})();function pl(n){return n instanceof nu?n.nativeElement:n}class Kf{}let Ry=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Vg(){const n=D(),o=di(Ve().index,n);return(li(o)?o:n)[De]}(),n})(),Py=(()=>{class n{}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>null}),n})();class Dh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Th=new Dh("15.2.9"),Sh={},yd="ngOriginalError";function Ah(n){return n[yd]}class gl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ah(i);for(;o&&Ah(o);)o=Ah(o);return o||null}}function Cu(n){return n instanceof Function?n():n}function Gu(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Kl="ng-template";function $g(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const y=n[u++];if(o&&"class"===h&&-1!==Gu(y.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function ml(n){return 4===n.type&&n.value!==Kl}function Ly(n,i,o){return i===(4!==n.type||o?n.value:Kl)}function Nc(n,i,o){let u=4;const l=n.attrs||[],h=function jg(n){for(let i=0;i<n.length;i++)if(ir(n[i]))return i;return n.length}(l);let y=!1;for(let S=0;S<i.length;S++){const k=i[S];if("number"!=typeof k){if(!y)if(4&u){if(u=2|1&u,""!==k&&!Ly(n,k,o)||""===k&&1===i.length){if(La(u))return!1;y=!0}}else{const H=8&u?k:i[++S];if(8&u&&null!==n.attrs){if(!$g(n.attrs,H,o)){if(La(u))return!1;y=!0}continue}const me=yl(8&u?"class":k,l,ml(n),o);if(-1===me){if(La(u))return!1;y=!0;continue}if(""!==H){let Le;Le=me>h?"":l[me+1].toLowerCase();const Xe=8&u?Le:null;if(Xe&&-1!==Gu(Xe,H,0)||2&u&&H!==Le){if(La(u))return!1;y=!0}}}}else{if(!y&&!La(u)&&!La(k))return!1;if(y&&La(k))continue;y=!1,u=k|1&u}}return La(u)||y}function La(n){return 0==(1&n)}function yl(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const y=i[l];if(y===n)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function Uy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Jf(n,i,o=!1){for(let u=0;u<i.length;u++)if(Nc(n,i[u],o))return!0;return!1}function zg(n,i){return n?":not("+i.trim()+")":i}function Rh(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&u){const S=n[++o];l+="["+y+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+y:4&u&&(l+=" "+y);else""!==l&&!La(y)&&(i+=zg(h,l),l=""),u=y,h=h||!La(u);o++}return""!==l&&(i+=zg(h,l)),i}const Cr={};function Wg(n){Xf(R(),D(),Tr()+n,!1)}function Xf(n,i,o,u){if(!u)if(3==(3&i[Pn])){const h=n.preOrderCheckHooks;null!==h&&ma(i,h,o)}else{const h=n.preOrderHooks;null!==h&&Ma(i,h,0,o)}Li(o)}function lo(n,i=null,o=null,u){const l=Zg(n,i,o,u);return l.resolveInjectorInitializers(),l}function Zg(n,i=null,o=null,u,l=new Set){const h=[o||ae,Mg(n)];return u=u||("object"==typeof n?void 0:fe(n)),new fl(h,i||Eu(),u||null,l)}let Zl=(()=>{class n{static create(o,u){if(Array.isArray(o))return lo({name:""},u,o,"");{const l=o.name??"";return lo({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Jn,n.NULL=new jf,n.\u0275prov=Ft({token:n,providedIn:"any",factory:()=>Zt(_h)}),n.__NG_ELEMENT_ID__=-1,n})();function kc(n,i=Lt.Default){const o=D();return null===o?Zt(n,i):On(Ve(),o,xe(n),i)}function kh(){throw new Error("invalid")}function Fh(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const y=n.data[h];Nr(o[u]),y.contentQueries(2,i[h],h)}}}function Fc(n,i,o,u,l,h,y,S,k,H,te){const me=i.blueprint.slice();return me[Gr]=l,me[Pn]=76|u,(null!==te||n&&1024&n[Pn])&&(me[Pn]|=1024),ks(me),me[Pr]=me[xn]=n,me[ht]=o,me[Ae]=y||n&&n[Ae],me[De]=S||n&&n[De],me[ut]=k||n&&n[ut]||null,me[we]=H||n&&n[we]||null,me[Qe]=h,me[Xr]=function Si(){return ld++}(),me[ii]=te,me[bn]=2==i.type?n[bn]:me,me}function qu(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Jl(n,i,o,u,l){const h=Ut(),y=Qr(),k=n.data[i]=function ev(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=k),null!==h&&(y?null==h.child&&null!==k.parent&&(h.child=k):null===h.next&&(h.next=k,k.prev=h)),k}(n,i,o,u,l),function Ti(){return Hn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const y=function Fn(){const n=Hn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return Yn(h,!0),h}function _l(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Dd(n,i,o){Ji(i);try{const u=n.viewQuery;null!==u&&zh(1,u,o);const l=n.template;null!==l&&Lh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fh(n,i),n.staticViewQueries&&zh(2,n.viewQuery,o);const h=n.components;null!==h&&function nm(n,i){for(let o=0;o<i.length;o++)Ep(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Pn]&=-5,zs()}}function Lc(n,i,o,u){const l=i[Pn];if(128!=(128&l)){Ji(i);try{ks(i),function zi(n){return Hn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lh(n,i,o,2,u);const y=3==(3&l);if(y){const H=n.preOrderCheckHooks;null!==H&&ma(i,H,null)}else{const H=n.preOrderHooks;null!==H&&Ma(i,H,0,null),O(i,0)}if(function ov(n){for(let i=da(n);null!==i;i=vu(i)){if(!i[Pi])continue;const o=i[fs];for(let u=0;u<o.length;u++){const l=o[u];512&l[Pn]||Ci(l[Pr],1),l[Pn]|=512}}}(i),function _p(n){for(let i=da(n);null!==i;i=vu(i))for(let o=si;o<i.length;o++){const u=i[o],l=u[Wt];hi(u)&&Lc(l,u,l.template,u[ht])}}(i),null!==n.contentQueries&&Fh(n,i),y){const H=n.contentCheckHooks;null!==H&&ma(i,H)}else{const H=n.contentHooks;null!==H&&Ma(i,H,1),O(i,1)}!function Qy(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Li(~l);else{const h=l,y=o[++u],S=o[++u];ga(y,h),S(2,i[h])}}}finally{Li(-1)}}(n,i);const S=n.components;null!==S&&function tm(n,i){for(let o=0;o<i.length;o++)wp(n,i[o])}(i,S);const k=n.viewQuery;if(null!==k&&zh(2,k,u),y){const H=n.viewCheckHooks;null!==H&&ma(i,H)}else{const H=n.viewHooks;null!==H&&Ma(i,H,2),O(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Pn]&=-41,512&i[Pn]&&(i[Pn]&=-513,Ci(i[Pr],-1))}finally{zs()}}}function Lh(n,i,o,u,l){const h=Tr(),y=2&u;try{Li(-1),y&&i.length>Lr&&Xf(n,i,Lr,!1),jr(y?2:0,l),o(u,l)}finally{Li(h),jr(y?3:1,l)}}function Vh(n,i,o){if(Oi(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const y=n.data[h];y.contentQueries&&y.contentQueries(1,o[h],h)}}}function cp(n,i,o){$e()&&(function Md(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;ps(o)&&function yp(n,i,o){const u=cr(i,n),l=Td(o),h=n[Ae],y=Ku(n,Fc(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=y}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Pu(o,i),Oe(u,i);const y=o.initialInputs;for(let S=l;S<h;S++){const k=n.data[S],H=lr(i,n,S,o);Oe(H,i),null!==y&&sv(0,S-l,H,k,0,y),oi(k)&&(di(o.index,i)[ht]=lr(i,n,S,o))}}(n,i,o,cr(o,i)),64==(64&o.flags)&&$h(n,i,o))}function Uh(n,i,o=cr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],S=-1===y?o(i,n):n[y];n[l++]=S}}}function Td(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Sd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Sd(n,i,o,u,l,h,y,S,k,H){const te=Lr+u,me=te+l,Le=function Jy(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Cr);return o}(te,me),Xe="function"==typeof H?H():H;return Le[Wt]={type:n,blueprint:Le,template:o,queries:null,viewQuery:S,declTNode:i,data:Le.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:k,consts:Xe,incompleteFirstPass:!1}}function No(n,i,o,u){const l=om(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Gh(n).push(u,l.length-1))}function dp(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Ad(o,i,l,h):u.hasOwnProperty(l)&&Ad(o,i,u[l],h)}return o}function Ad(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function fp(n,i,o,u){if($e()){const l=null===u?null:{"":-1},h=function pp(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const y=o[h];if(Jf(i,y.selectors,!1))if(u||(u=[]),oi(y))if(null!==y.findHostDirectiveDefs){const S=[];l=l||new Map,y.findHostDirectiveDefs(y,S,l),u.unshift(...S,y),Uc(n,i,S.length)}else u.unshift(y),Uc(n,i,0);else l=l||new Map,y.findHostDirectiveDefs?.(y,u,l),u.push(y)}return null===u?null:[u,l]}(n,o);let y,S;null===h?y=S=null:[y,S]=h,null!==y&&Bh(n,i,o,y,l,S),l&&function Rd(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Re(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=qt(o.mergedAttrs,o.attrs)}function Bh(n,i,o,u,l,h){for(let H=0;H<u.length;H++)Qn(Pu(o,i),n,u[H].type);!function rm(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let H=0;H<u.length;H++){const te=u[H];te.providersResolver&&te.providersResolver(te)}let y=!1,S=!1,k=_l(n,i,u.length,null);for(let H=0;H<u.length;H++){const te=u[H];o.mergedAttrs=qt(o.mergedAttrs,te.hostAttrs),mp(n,o,i,k,te),gp(k,te,l),null!==te.contentQueries&&(o.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(o.flags|=64);const me=te.type.prototype;!y&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),y=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),k++}!function xd(n,i,o){const l=i.directiveEnd,h=n.data,y=i.attrs,S=[];let k=null,H=null;for(let te=i.directiveStart;te<l;te++){const me=h[te],Le=o?o.get(me):null,At=Le?Le.outputs:null;k=dp(me.inputs,te,k,Le?Le.inputs:null),H=dp(me.outputs,te,H,At);const en=null===k||null===y||ml(i)?null:vp(k,te,y);S.push(en)}null!==k&&(k.hasOwnProperty("class")&&(i.flags|=8),k.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=k,i.outputs=H}(n,o,h)}function $h(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,y=function Vo(){return Hn.lFrame.currentDirectiveIndex}();try{Li(h);for(let S=u;S<l;S++){const k=n.data[S],H=i[S];_i(S),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Vc(k,H)}}finally{Li(-1),_i(y)}}function Vc(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Uc(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function gp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;oi(i)&&(o[""]=n)}}function mp(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=as(l.type)),y=new ye(h,oi(l),kc);n.blueprint[u]=y,o[u]=y,function rv(n,i,o,u,l){const h=l.hostBindings;if(h){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const S=~i.index;(function iv(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=S&&y.push(S),y.push(o,u,h)}}(n,i,u,_l(n,o,l.hostVars,Cr),l)}function ko(n,i,o,u,l,h){const y=cr(n,i);!function jh(n,i,o,u,l,h,y){if(null==h)n.removeAttribute(i,l,o);else{const S=null==y?Ke(h):y(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[De],y,h,n.value,o,u,l)}function sv(n,i,o,u,l,h){const y=h[i];if(null!==y){const S=u.setInput;for(let k=0;k<y.length;){const H=y[k++],te=y[k++],me=y[k++];null!==S?u.setInput(o,me,H,te):o[te]=me}}}function vp(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const y=n[h];for(let S=0;S<y.length;S+=2)if(y[S]===i){u.push(h,y[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function im(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function wp(n,i){const o=di(i,n);if(hi(o)){const u=o[Wt];48&o[Pn]?Lc(u,o,u.template,o[ht]):o[ui]>0&&Bc(o)}}function Bc(n){for(let u=da(n);null!==u;u=vu(u))for(let l=si;l<u.length;l++){const h=u[l];if(hi(h))if(512&h[Pn]){const y=h[Wt];Lc(y,h,y.template,h[ht])}else h[ui]>0&&Bc(h)}const o=n[Wt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=di(o[u],n);hi(l)&&l[ui]>0&&Bc(l)}}function Ep(n,i){const o=di(i,n),u=o[Wt];(function sm(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Dd(u,o,o[ht])}function Ku(n,i){return n[bt]?n[yn][Un]=i:n[bt]=i,n[yn]=i,i}function $c(n){for(;n;){n[Pn]|=32;const i=gc(n);if(_r(n)&&!i)return n;n=i}return null}function Hh(n,i,o,u=!0){const l=i[Ae];l.begin&&l.begin();try{Lc(n,i,n.template,o)}catch(y){throw u&&Wh(i,y),y}finally{l.end&&l.end()}}function zh(n,i,o){Nr(0),i(n,o)}function om(n){return n[fn]||(n[fn]=[])}function Gh(n){return n.cleanup||(n.cleanup=[])}function Wh(n,i){const o=n[we],u=o?o.get(gl,null):null;u&&u.handleError(i)}function Ip(n,i,o,u,l){for(let h=0;h<o.length;){const y=o[h++],S=o[h++],k=i[y],H=n.data[y];null!==H.setInput?H.setInput(k,l,u,S):k[S]=l}}function ru(n,i,o){const u=Hs(i,n);!function dd(n,i,o){n.setValue(i,o)}(n[De],u,o)}function qh(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const S=i[y];"number"==typeof S?h=S:1==h?l=Be(l,S):2==h&&(u=Be(u,S+": "+i[++y]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function jc(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Yr(h)),ci(h))for(let S=si;S<h.length;S++){const k=h[S],H=k[Wt].firstChild;null!==H&&jc(k[Wt],k,H,u)}const y=o.type;if(8&y)jc(n,i,o.child,u);else if(32&y){const S=Po(o,i);let k;for(;k=S();)u.push(k)}else if(16&y){const S=bc(i,o);if(Array.isArray(S))u.push(...S);else{const k=gc(i[bn]);jc(k[Wt],k,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hc{get rootNodes(){const i=this._lView,o=i[Wt];return jc(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(i){this._lView[ht]=i}get destroyed(){return 128==(128&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Pr];if(ci(i)){const o=i[hs],u=o?o.indexOf(this):-1;u>-1&&(Y(i,u),Ia(o,u))}this._attachedToViewContainer=!1}ie(this._lView[Wt],this._lView)}onDestroy(i){No(this._lView[Wt],this._lView,null,i)}markForCheck(){$c(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-65}reattach(){this._lView[Pn]|=64}detectChanges(){Hh(this._lView[Wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hd(n,i){Cc(n,i,i[De],2,null,null)}(this._lView[Wt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=i}}class bp extends Hc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Hh(i[Wt],i,i[ht],!1)}checkNoChanges(){}get context(){return null}}class Kh extends md{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Xt(i);return new Xl(o,this.ngModule)}}function Zh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class wl{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Ir(u);const l=this.injector.get(i,Sh,u);return l!==Sh||o===Sh?l:this.parentInjector.get(i,o,u)}}class Xl extends Oc{get inputs(){return Zh(this.componentDef.inputs)}get outputs(){return Zh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Gg(n){return n.map(Rh).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Ta?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new wl(i,h):i,S=y.get(Kf,null);if(null===S)throw new Re(407,!1);const k=y.get(Py,null),H=S.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",me=u?function Xy(n,i,o){return n.selectRootElement(i,o===L.ShadowDom)}(H,u,this.componentDef.encapsulation):vc(H,te,function zc(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(te)),Le=this.componentDef.onPush?288:272,Xe=Sd(0,null,null,1,0,null,null,null,null,null),At=Fc(null,Xe,null,Le,null,null,S,H,k,y,null);let en,In;Ji(At);try{const Vn=this.componentDef;let pr,$t=null;Vn.findHostDirectiveDefs?(pr=[],$t=new Map,Vn.findHostDirectiveDefs(Vn,pr,$t),pr.push(Vn)):pr=[Vn];const Mr=function um(n,i){const o=n[Wt],u=Lr;return n[u]=i,qu(o,u,2,"#host",null)}(At,me),Ps=function Wc(n,i,o,u,l,h,y,S){const k=l[Wt];!function uv(n,i,o,u){for(const l of n)i.mergedAttrs=qt(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(qh(i,i.mergedAttrs,!0),null!==o&&Rf(u,o,i))}(u,n,i,y);const H=h.createRenderer(i,o),te=Fc(l,Td(o),null,o.onPush?32:16,l[n.index],n,h,H,S||null,null,null);return k.firstCreatePass&&Uc(k,n,u.length-1),Ku(l,te),l[n.index]=te}(Mr,me,Vn,pr,At,S,H);In=yo(Xe,Lr),me&&function Cp(n,i,o,u){if(u)Cn(n,o,["ng-version",Th.full]);else{const{attrs:l,classes:h}=function By(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!La(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Cn(n,o,l),h&&h.length>0&&ll(n,o,h.join(" "))}}(H,Vn,me,u),void 0!==o&&function Dp(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(In,this.ngContentSelectors,o),en=function lv(n,i,o,u,l,h){const y=Ve(),S=l[Wt],k=cr(y,l);Bh(S,l,y,o,null,u);for(let te=0;te<o.length;te++)Oe(lr(l,S,y.directiveStart+te,y),l);$h(S,l,y),k&&Oe(k,l);const H=lr(l,S,y.directiveStart+y.componentOffset,y);if(n[ht]=l[ht]=H,null!==h)for(const te of h)te(H,i);return Vh(S,y,n),H}(Ps,Vn,pr,$t,At,[Tp]),Dd(Xe,At,null)}finally{zs()}return new Gc(this.componentType,en,Iu(In,At),At,In)}}class Gc extends Ch{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new bp(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Ip(h[Wt],h,l,i,o),$c(di(this._tNode.index,h))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Tp(){const n=Ve();Ls(D()[Wt],n)}function Sp(n){let i=function Yh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(oi(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Re(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const y=n;y.inputs=Od(n.inputs),y.declaredInputs=Od(n.declaredInputs),y.outputs=Od(n.outputs);const S=l.hostBindings;S&&lm(n,S);const k=l.viewQuery,H=l.contentQueries;if(k&&Ap(n,k),H&&dv(n,H),Me(n.inputs,l.inputs),Me(n.declaredInputs,l.declaredInputs),Me(n.outputs,l.outputs),oi(l)&&l.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const S=h[y];S&&S.ngInherit&&S(n),S===Sp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function cv(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=qt(l.hostAttrs,o=qt(o,l.hostAttrs))}}(u)}function Od(n){return n===B?{}:n===ae?[]:n}function Ap(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function dv(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function lm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function qc(n){return!!Nd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Nd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Va(n,i,o){return n[i]=o}function Io(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function El(n,i,o,u){const l=Io(n,i,o);return Io(n,i+1,u)||l}function Rp(n,i,o,u){const l=D();return Io(l,ls(),i)&&(R(),ko(Zr(),l,n,i,o,u)),Rp}function Yc(n,i,o,u,l,h,y,S){const H=function Qh(n,i,o,u,l){const h=El(n,i,o,u);return Io(n,i+2,l)||h}(n,fi(),o,l,y);return Di(3),H?i+Ke(o)+u+Ke(l)+h+Ke(y)+S:Cr}function nf(n,i,o,u,l,h,y,S){const k=D(),H=R(),te=n+Lr,me=H.firstCreatePass?function mv(n,i,o,u,l,h,y,S,k){const H=i.consts,te=qu(i,n,4,y||null,yi(H,S));fp(i,o,te,yi(H,k)),Ls(i,te);const me=te.tView=Sd(2,te,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,H);return null!==i.queries&&(i.queries.template(i,te),me.queries=i.queries.embeddedTView(te)),te}(te,H,k,i,o,u,l,h,y):H.data[te];Yn(me,!1);const Le=k[De].createComment("");Ul(H,k,Le,me),Oe(Le,k),Ku(k,k[te]=im(Le,k,Le,me)),Ds(me)&&cp(H,k,me),null!=y&&Uh(k,me,S)}function rf(n){return xi(function vi(){return Hn.lFrame.contextLView}(),Lr+n)}function Op(n,i,o){const u=D();return Io(u,ls(),i)&&function ha(n,i,o,u,l,h,y,S){const k=cr(i,o);let te,H=i.inputs;!S&&null!=H&&(te=H[u])?(Ip(n,o,te,u,l),ps(i)&&function tv(n,i){const o=di(i,n);16&o[Pn]||(o[Pn]|=32)}(o,i.index)):3&i.type&&(u=function hp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=y?y(l,i.value||"",u):l,h.setProperty(k,u,l))}(R(),Zr(),u,n,i,u[De],o,!1),Op}function kd(n,i,o,u,l){const y=l?"class":"style";Ip(n,o,i.inputs[y],y,u)}function Qc(n,i,o,u){const l=D(),h=R(),y=Lr+n,S=l[De],k=h.firstCreatePass?function wm(n,i,o,u,l,h){const y=i.consts,k=qu(i,n,2,u,yi(y,l));return fp(i,o,k,yi(y,h)),null!==k.attrs&&qh(k,k.attrs,!1),null!==k.mergedAttrs&&qh(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(y,h,l,i,o,u):h.data[y],H=l[y]=vc(S,i,function xa(){return Hn.lFrame.currentNamespace}()),te=Ds(k);return Yn(k,!0),Rf(S,H,k),32!=(32&k.flags)&&Ul(h,l,H,k),0===function K(){return Hn.lFrame.elementDepthCount}()&&Oe(H,l),function pe(){Hn.lFrame.elementDepthCount++}(),te&&(cp(h,l,k),Vh(h,k,l)),null!==u&&Uh(l,k),Qc}function Fd(){let n=Ve();Qr()?br():(n=n.parent,Yn(n,!1));const i=n;!function be(){Hn.lFrame.elementDepthCount--}();const o=R();return o.firstCreatePass&&(Ls(o,n),Oi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function he(n){return 0!=(8&n.flags)}(i)&&kd(o,i,D(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ge(n){return 0!=(16&n.flags)}(i)&&kd(o,i,D(),i.stylesWithoutHost,!1),Fd}function Np(n,i,o,u){return Qc(n,i,o,u),Fd(),Np}function Jc(n,i,o){const u=D(),l=R(),h=n+Lr,y=l.firstCreatePass?function vv(n,i,o,u,l){const h=i.consts,y=yi(h,u),S=qu(i,n,8,"ng-container",y);return null!==y&&qh(S,y,!0),fp(i,o,S,yi(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];Yn(y,!0);const S=u[h]=u[De].createComment("");return Ul(l,u,S,y),Oe(S,u),Ds(y)&&(cp(l,u,y),Vh(l,y,u)),null!=o&&Uh(u,y),Jc}function sf(){let n=Ve();const i=R();return Qr()?br():(n=n.parent,Yn(n,!1)),i.firstCreatePass&&(Ls(i,n),Oi(n)&&i.queries.elementEnd(n)),sf}function uf(){return D()}function Ld(n){return!!n&&"function"==typeof n.then}function Em(n){return!!n&&"function"==typeof n.subscribe}const Xc=Em;function kp(n,i,o,u){const l=D(),h=R(),y=Ve();return function tc(n,i,o,u,l,h,y){const S=Ds(u),H=n.firstCreatePass&&Gh(n),te=i[ht],me=om(i);let Le=!0;if(3&u.type||y){const en=cr(u,i),In=y?y(en):en,Vn=me.length,pr=y?Mr=>y(Yr(Mr[u.index])):u.index;let $t=null;if(!y&&S&&($t=function Im(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===o&&l[h+1]===u){const S=i[fn],k=l[h+2];return S.length>k?S[k]:null}"string"==typeof y&&(h+=2)}return null}(n,i,l,u.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=h,$t.__ngLastListenerFn__=h,Le=!1;else{h=Vd(u,i,te,h,!1);const Mr=o.listen(In,l,h);me.push(h,Mr),H&&H.push(l,pr,Vn,Vn+1)}}else h=Vd(u,i,te,h,!1);const Xe=u.outputs;let At;if(Le&&null!==Xe&&(At=Xe[l])){const en=At.length;if(en)for(let In=0;In<en;In+=2){const Ps=i[At[In]][At[In+1]].subscribe(h),fo=me.length;me.push(h,Ps),H&&H.push(l,u.index,fo,-(fo+1))}}}(h,l,l[De],y,n,i,u),kp}function Fp(n,i,o,u){try{return jr(6,i,o),!1!==o(u)}catch(l){return Wh(n,l),!1}finally{jr(7,i,o)}}function Vd(n,i,o,u,l){return function h(y){if(y===Function)return u;$c(n.componentOffset>-1?di(n.index,i):i);let k=Fp(i,o,u,y),H=h.__ngNextListenerFn__;for(;H;)k=Fp(i,o,H,y)&&k,H=H.__ngNextListenerFn__;return l&&!1===k&&(y.preventDefault(),y.returnValue=!1),k}}function bm(n=1){return function Xi(n){return(Hn.lFrame.contextLView=function Gi(n,i){for(;n>0;)i=i[xn],n--;return i}(n,Hn.lFrame.contextLView))[ht]}(n)}function nc(n,i){return n<<17|i<<2}function Zu(n){return n>>17&32767}function Sl(n){return 2|n}function Yu(n){return(131068&n)>>2}function Bp(n,i){return-131069&n|i<<2}function $p(n){return 1|n}function Tm(n,i,o,u,l){const h=n[o+1],y=null===i;let S=u?Zu(h):Yu(h),k=!1;for(;0!==S&&(!1===k||y);){const te=n[S+1];Dv(n[S],i)&&(k=!0,n[S+1]=u?$p(te):Sl(te)),S=u?Zu(te):Yu(te)}k&&(n[o+1]=u?Sl(h):$p(h))}function Dv(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&v(n,i)>=0}function Wp(n,i){return function ou(n,i,o,u){const l=D(),h=R(),y=Di(2);h.firstUpdatePass&&function Nm(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[Tr()],y=function Om(n,i){return i>=n.expandoStartIndex}(n,o);(function Lm(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!y&&(i=!1),i=function ns(n,i,o,u){const l=function Fi(n){const i=Hn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=Hd(o=gf(null,n,i,o,u),i.attrs,u),h=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==l)if(o=gf(l,n,i,o,u),null===h){let k=function K_(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Yu(u))return n[Zu(u)]}(n,i,u);void 0!==k&&Array.isArray(k)&&(k=gf(null,n,i,k[1],u),k=Hd(k,i.attrs,u),function Sv(n,i,o,u){n[Zu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,k))}else h=function Us(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=Hd(u,n[h].hostAttrs,o);return Hd(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function Dm(n,i,o,u,l,h){let y=h?i.classBindings:i.styleBindings,S=Zu(y),k=Yu(y);n[u]=o;let te,H=!1;if(Array.isArray(o)?(te=o[1],(null===te||v(o,te)>0)&&(H=!0)):te=o,l)if(0!==k){const Le=Zu(n[S+1]);n[u+1]=nc(Le,S),0!==Le&&(n[Le+1]=Bp(n[Le+1],u)),n[S+1]=function Cm(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=nc(S,0),0!==S&&(n[S+1]=Bp(n[S+1],u)),S=u;else n[u+1]=nc(k,0),0===S?S=u:n[k+1]=Bp(n[k+1],u),k=u;H&&(n[u+1]=Sl(n[u+1])),Tm(n,te,u,!0),Tm(n,te,u,!1),function Cv(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&v(h,i)>=0&&(o[u+1]=$p(o[u+1]))}(i,te,n,u,h),y=nc(S,k),h?i.classBindings=y:i.styleBindings=y}(l,h,i,o,y,u)}}(h,n,y,u),i!==Cr&&Io(l,y,i)&&function km(n,i,o,u,l,h,y,S){if(!(3&i.type))return;const k=n.data,H=k[S+1],te=function Iv(n){return 1==(1&n)}(H)?Fm(k,i,o,l,Yu(H),y):void 0;Kp(te)||(Kp(h)||function Up(n){return 2==(2&n)}(H)&&(h=Fm(k,null,o,l,S,y)),function dg(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Xo.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Xo.Important),n.setStyle(o,u,l,h))}}(u,y,Hs(Tr(),o),l,h))}(h,h.data[Tr()],l,l[De],n,l[y+1]=function Rv(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=fe(Da(n)))),n}(i,o),u,y)}(n,i,null,!0),Wp}function gf(n,i,o,u,l){let h=null;const y=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<y&&(h=i[S],u=Hd(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function Hd(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?l=y:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),so(n,y,!!o||i[++h]))}return void 0===n?null:n}function Fm(n,i,o,u,l,h){const y=null===i;let S;for(;l>0;){const k=n[l],H=Array.isArray(k),te=H?k[1]:k,me=null===te;let Le=o[l+1];Le===Cr&&(Le=me?ae:void 0);let Xe=me?Oa(Le,u):te===u?Le:void 0;if(H&&!Kp(Xe)&&(Xe=Oa(k,u)),Kp(Xe)&&(S=Xe,y))return S;const At=n[l+1];l=y?Zu(At):Yu(At)}if(null!==i){let k=h?i.residualClasses:i.residualStyles;null!=k&&(S=Oa(k,u))}return S}function Kp(n){return void 0!==n}function Zp(n,i=""){const o=D(),u=R(),l=n+Lr,h=u.firstCreatePass?qu(u,l,1,i,null):u.data[l],y=o[l]=function yc(n,i){return n.createText(i)}(o[De],i);Ul(u,o,y,h),Yn(h,!1)}function rc(n){return mf("",n,""),rc}function mf(n,i,o){const u=D(),l=function Zc(n,i,o,u){return Io(n,ls(),o)?i+Ke(o)+u:Cr}(u,n,i,o);return l!==Cr&&ru(u,Tr(),l),mf}function Su(n,i,o,u,l){const h=D(),y=function bl(n,i,o,u,l,h){const S=El(n,fi(),o,l);return Di(2),S?i+Ke(o)+u+Ke(l)+h:Cr}(h,n,i,o,u,l);return y!==Cr&&ru(h,Tr(),y),Su}function Au(n,i,o,u,l,h,y){const S=D(),k=Yc(S,n,i,o,u,l,h,y);return k!==Cr&&ru(S,Tr(),k),Au}const oc=void 0;var Lv=["en",[["a","p"],["AM","PM"],oc],[["AM","PM"],oc,oc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oc,"{1} 'at' {0}",oc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zd(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let au={};function qm(n){const i=function wf(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Yd(i);if(o)return o;const u=i.split("-")[0];if(o=Yd(u),o)return o;if("en"===u)return Lv;throw new Re(701,!1)}function Zm(n){return qm(n)[ur.PluralCase]}function Yd(n){return n in au||(au[n]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[n]),au[n]}var ur=(()=>((ur=ur||{})[ur.LocaleId=0]="LocaleId",ur[ur.DayPeriodsFormat=1]="DayPeriodsFormat",ur[ur.DayPeriodsStandalone=2]="DayPeriodsStandalone",ur[ur.DaysFormat=3]="DaysFormat",ur[ur.DaysStandalone=4]="DaysStandalone",ur[ur.MonthsFormat=5]="MonthsFormat",ur[ur.MonthsStandalone=6]="MonthsStandalone",ur[ur.Eras=7]="Eras",ur[ur.FirstDayOfWeek=8]="FirstDayOfWeek",ur[ur.WeekendRange=9]="WeekendRange",ur[ur.DateFormat=10]="DateFormat",ur[ur.TimeFormat=11]="TimeFormat",ur[ur.DateTimeFormat=12]="DateTimeFormat",ur[ur.NumberSymbols=13]="NumberSymbols",ur[ur.NumberFormats=14]="NumberFormats",ur[ur.CurrencyCode=15]="CurrencyCode",ur[ur.CurrencySymbol=16]="CurrencySymbol",ur[ur.CurrencyName=17]="CurrencyName",ur[ur.Currencies=18]="Currencies",ur[ur.Directionality=19]="Directionality",ur[ur.PluralCase=20]="PluralCase",ur[ur.ExtraData=21]="ExtraData",ur))();const Qu="en-US";let rg=Qu;function Sf(n,i,o,u,l){if(n=xe(n),Array.isArray(n))for(let h=0;h<n.length;h++)Sf(n[h],i,o,u,l);else{const h=R(),y=D();let S=hl(n)?n:xe(n.provide),k=Ih(n);const H=Ve(),te=1048575&H.providerIndexes,me=H.directiveStart,Le=H.providerIndexes>>20;if(hl(n)||!n.multi){const Xe=new ye(k,l,kc),At=a_(S,i,l?te:te+Le,me);-1===At?(Qn(Pu(H,y),h,S),o_(h,n,i.length),i.push(S),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),o.push(Xe),y.push(Xe)):(o[At]=Xe,y[At]=Xe)}else{const Xe=a_(S,i,te+Le,me),At=a_(S,i,te,te+Le),In=At>=0&&o[At];if(l&&!In||!l&&!(Xe>=0&&o[Xe])){Qn(Pu(H,y),h,S);const Vn=function Lw(n,i,o,u,l){const h=new ye(n,o,kc);return h.multi=[],h.index=i,h.componentProviders=0,r0(h,l,u&&!o),h}(l?Fw:kw,o.length,l,u,k);!l&&In&&(o[At].providerFactory=Vn),o_(h,n,i.length,0),i.push(S),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),o.push(Vn),y.push(Vn)}else o_(h,n,Xe>-1?Xe:At,r0(o[l?At:Xe],k,!l&&u));!l&&u&&In&&o[At].componentProviders++}}}function o_(n,i,o,u){const l=hl(i),h=function zu(n){return!!n.useClass}(i);if(l||h){const k=(h?xe(i.useClass):i).prototype.ngOnDestroy;if(k){const H=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const te=H.indexOf(o);-1===te?H.push(o,[u,k]):H[te+1].push(u,k)}else H.push(o,k)}}}function r0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function a_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function kw(n,i,o,u){return u_(this.multi,[])}function Fw(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,S=lr(o,o[Wt],this.providerFactory.index,u);h=S.slice(0,y),u_(l,h);for(let k=y;k<S.length;k++)h.push(S[k])}else h=[],u_(l,h);return h}function u_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function s0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function lc(n,i,o){const u=R();if(u.firstCreatePass){const l=oi(n);Sf(o,u.data,u.blueprint,l,!0),Sf(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Af{}class o0{}function Vw(n,i){return new a0(n,i??null)}class a0 extends Af{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);const u=Dr(i);this._bootstrapComponents=Cu(u.bootstrap),this._r3Injector=Zg(i,o,[{provide:Af,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],fe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class l_ extends o0{constructor(i){super(),this.moduleType=i}create(i){return new a0(this.moduleType,i)}}class Uw extends Af{constructor(i,o,u){super(),this.componentFactoryResolver=new Kh(this),this.instance=null;const l=new fl([...i,{provide:Af,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],o||Eu(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function c_(n,i,o=null){return new Uw(n,i,o).injector}let Bw=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Rg(0,o.type),l=u.length>0?c_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ft({token:n,providedIn:"environment",factory:()=>new n(Zt(Ta))}),n})();function u0(n){n.getStandaloneInjector=i=>i.get(Bw).getOrCreateStandaloneInjector(n)}function g0(n,i,o){const u=mr()+n,l=D();return l[u]===Cr?Va(l,u,o?i.call(o):i()):function Kc(n,i){return n[i]}(l,u)}function m0(n,i,o,u){return y0(D(),mr(),n,i,o,u)}function og(n,i){const o=n[i];return o===Cr?void 0:o}function y0(n,i,o,u,l,h){const y=i+o;return Io(n,y,l)?Va(n,y+1,h?u.call(h,l):u(l)):og(n,y+1)}function I0(n,i){const o=R();let u;const l=n+Lr;o.firstCreatePass?(u=function rE(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=as(u.type)),y=dr(kc);try{const S=Ra(!1),k=h();return Ra(S),function yv(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,D(),l,k),k}finally{dr(y)}}function b0(n,i,o){const u=n+Lr,l=D(),h=xi(l,u);return ag(l,u)?y0(l,mr(),i,h.transform,o,h):h.transform(o)}function C0(n,i,o,u){const l=n+Lr,h=D(),y=xi(h,l);return ag(h,l)?function v0(n,i,o,u,l,h,y){const S=i+o;return El(n,S,l,h)?Va(n,S+2,y?u.call(y,l,h):u(l,h)):og(n,S+2)}(h,mr(),i,y.transform,o,u,y):y.transform(o,u)}function ag(n,i){return n[Wt].data[i].pure}function h_(n){return i=>{setTimeout(n,void 0,i)}}const Rl=class aE extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),y=u;if(i&&"object"==typeof i){const k=i;l=k.next?.bind(k),h=k.error?.bind(k),y=k.complete?.bind(k)}this.__isAsync&&(h=h_(h),l&&(l=h_(l)),y&&(y=h_(y)));const S=super.subscribe({next:l,error:h,complete:y});return i instanceof V.w0&&i.add(S),S}};function uE(){return this._results[Symbol.iterator]()}class f_{get changes(){return this._changes||(this._changes=new Rl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=f_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=uE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function qs(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function es(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ug=(()=>{class n{}return n.__NG_ELEMENT_ID__=dE,n})();const lE=ug,cE=class extends lE{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Fc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Bn]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Jr];return null!==y&&(l[Jr]=y.createEmbeddedView(u)),Dd(u,l,i),new Hc(l)}};function dE(){return ly(Ve(),D())}function ly(n,i){return 4&n.type?new cE(i,n,Iu(n,i)):null}let cy=(()=>{class n{}return n.__NG_ELEMENT_ID__=hE,n})();function hE(){return S0(Ve(),D())}const fE=cy,D0=class extends fE{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Iu(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const i=wi(this._hostTNode,this._hostLView);if(Wi(i)){const o=Dt(i,this._hostLView),u=jt(i);return new eo(o[Wt].data[u+8],o)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=T0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-si}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const y=i.createEmbeddedView(o||{},h);return this.insert(y,l),y}createComponent(i,o,u,l,h){const y=i&&!function za(n){return"function"==typeof n}(i);let S;if(y)S=o;else{const me=o||{};S=me.index,u=me.injector,l=me.projectableNodes,h=me.environmentInjector||me.ngModuleRef}const k=y?i:new Xl(Xt(i)),H=u||this.parentInjector;if(!h&&null==k.ngModule){const Le=(y?H:this.parentInjector).get(Ta,null);Le&&(h=Le)}const te=k.create(H,l,void 0,h);return this.insert(te.hostView,S),te}insert(i,o){const u=i._lView,l=u[Wt];if(function Lo(n){return ci(n[Pr])}(u)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const me=u[Pr],Le=new D0(me,me[Qe],me[Pr]);Le.detach(Le.indexOf(i))}}const h=this._adjustIndex(o),y=this._lContainer;!function d(n,i,o,u){const l=si+u,h=o.length;u>0&&(o[l-1][Un]=i),u<h-si?(i[Un]=o[l],io(o,si+u,i)):(o.push(i),i[Un]=null),i[Pr]=o;const y=i[Bn];null!==y&&o!==y&&function g(n,i){const o=n[fs];i[bn]!==i[Pr][Pr][bn]&&(n[Pi]=!0),null===o?n[fs]=[i]:o.push(i)}(y,i);const S=i[Jr];null!==S&&S.insertView(n),i[Pn]|=64}(l,u,y,h);const S=Bl(h,y),k=u[De],H=$u(k,y[is]);return null!==H&&function ih(n,i,o,u,l,h){u[Gr]=l,u[Qe]=i,Cc(n,u,o,1,l,h)}(l,y[Qe],k,u,H,S),i.attachToViewContainerRef(),io(p_(y),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=T0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Y(this._lContainer,o);u&&(Ia(p_(this._lContainer),o),ie(u[Wt],u))}detach(i){const o=this._adjustIndex(i,-1),u=Y(this._lContainer,o);return u&&null!=Ia(p_(this._lContainer),o)?new Hc(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function T0(n){return n[hs]}function p_(n){return n[hs]||(n[hs]=[])}function S0(n,i){let o;const u=i[n.index];if(ci(u))o=u;else{let l;if(8&n.type)l=Yr(u);else{const h=i[De];l=h.createComment("");const y=cr(n,i);wr(h,$u(h,y),l,function ul(n,i){return n.nextSibling(i)}(h,y),!1)}i[n.index]=o=im(u,i,l,n),Ku(i,o)}return new D0(o,n,i)}class g_{constructor(i){this.queryList=i,this.matches=null}clone(){return new g_(this.queryList)}setDirty(){this.queryList.setDirty()}}class m_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const y=o.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new m_(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==F0(i,o).matches&&this.queries[o].setDirty()}}class A0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class y_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new y_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class v_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new v_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,pE(o,h)),this.matchTNodeWithReadOption(i,o,ws(o,i,h,!1,!1))}else u===ug?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ws(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===nu||l===cy||l===ug&&4&o.type)this.addMatch(o.index,-2);else{const h=ws(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function pE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function mE(n,i,o,u){return-1===o?function gE(n,i){return 11&n.type?Iu(n,i):4&n.type?ly(n,i):null}(i,n):-2===o?function yE(n,i,o){return o===nu?Iu(i,n):o===ug?ly(i,n):o===cy?S0(i,n):void 0}(n,i,u):lr(n,n[Wt],o,i)}function x0(n,i,o,u){const l=i[Jr].queries[u];if(null===l.matches){const h=n.data,y=o.matches,S=[];for(let k=0;k<y.length;k+=2){const H=y[k];S.push(H<0?null:mE(i,h[H],y[k+1],o.metadata.read))}l.matches=S}return l.matches}function __(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const y=x0(n,i,l,o);for(let S=0;S<h.length;S+=2){const k=h[S];if(k>0)u.push(y[S/2]);else{const H=h[S+1],te=i[-k];for(let me=si;me<te.length;me++){const Le=te[me];Le[Bn]===Le[Pr]&&__(Le[Wt],Le,H,u)}if(null!==te[fs]){const me=te[fs];for(let Le=0;Le<me.length;Le++){const Xe=me[Le];__(Xe[Wt],Xe,H,u)}}}}}return u}function M0(n){const i=D(),o=R(),u=_o();Nr(u+1);const l=F0(o,u);if(n.dirty&&function Ms(n){return 4==(4&n[Pn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?__(o,i,u,[]):x0(o,i,l,u);n.reset(h,pl),n.notifyOnChanges()}return!0}return!1}function R0(n,i,o){const u=R();u.firstCreatePass&&(k0(u,new A0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),N0(u,D(),i)}function P0(n,i,o,u){const l=R();if(l.firstCreatePass){const h=Ve();k0(l,new A0(i,o,u),h.index),function _E(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}N0(l,D(),o)}function O0(){return function vE(n,i){return n[Jr].queries[i].queryList}(D(),_o())}function N0(n,i,o){const u=new f_(4==(4&o));No(n,i,u,u.destroy),null===i[Jr]&&(i[Jr]=new m_),i[Jr].queries.push(new g_(u))}function k0(n,i,o){null===n.queries&&(n.queries=new y_),n.queries.track(new v_(i,o))}function F0(n,i){return n.queries.getByIndex(i)}function L0(n,i){return ly(n,i)}function w_(n){return!!Dr(n)}function hy(...n){}const tw=new Ar("Application Initializer");let fy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=hy,this.reject=hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Ld(h))o.push(h);else if(Xc(h)){const y=new Promise((S,k)=>{h.subscribe({complete:S,error:k})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Zt(tw,8))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nw=new Ar("AppId",{providedIn:"root",factory:function rw(){return`${D_()}${D_()}${D_()}`}});function D_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iw=new Ar("Platform Initializer"),UE=new Ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let BE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const py=new Ar("LocaleId",{providedIn:"root",factory:()=>jn(py,Lt.Optional|Lt.SkipSelf)||function $E(){return typeof $localize<"u"&&$localize.locale||Qu}()}),jE=new Ar("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class HE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let zE=(()=>{class n{compileModuleSync(o){return new l_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Cu(Dr(o).declarations).reduce((y,S)=>{const k=Xt(S);return k&&y.push(new Xl(k)),y},[]);return new HE(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function T_(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Mu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function KE(){let n=_n.requestAnimationFrame,i=_n.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function QE(n){const i=()=>{!function YE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_n,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,A_(n),n.isCheckStableRunning=!0,S_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),A_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,y,S)=>{try{return aw(n),o.invokeTask(l,h,y,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),uw(n)}},onInvoke:(o,u,l,h,y,S,k)=>{try{return aw(n),o.invoke(l,h,y,S,k)}finally{n.shouldCoalesceRunChangeDetection&&i(),uw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,A_(n),S_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new Re(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,i,ZE,hy,hy);try{return h.runTask(y,o,u)}finally{h.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const ZE={};function S_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function A_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uw(n){n._nesting--,S_(n)}class JE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const lw=new Ar(""),cw=new Ar("");let x_,XE=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,x_||(function eI(n){x_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Zt(Mu),Zt(dw),Zt(cw))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),dw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return x_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cc=!1;let sd=null;const hw=new Ar("AllowMultipleToken"),M_=new Ar("PlatformDestroyListeners"),fw=new Ar("appBootstrapListener");class rI{constructor(i,o){this.name=i,this.token=o}}function gw(n,i,o=[]){const u=`Platform: ${i}`,l=new Ar(u);return(h=[])=>{let y=R_();if(!y||y.injector.get(hw,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function iI(n){if(sd&&!sd.get(hw,!1))throw new Re(400,!1);sd=n;const i=n.get(yw);(function pw(n){const i=n.get(iw,null);i&&i.forEach(o=>o())})(n)}(function mw(n=[],i){return Zl.create({name:i,providers:[{provide:wh,useValue:"platform"},{provide:M_,useValue:new Set([()=>sd=null])},...n]})}(S,u))}return function oI(n){const i=R_();if(!i)throw new Re(401,!1);return i}()}}function R_(){return sd?.get(yw)??null}let yw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function _w(n,i){let o;return o="noop"===n?new JE:("zone.js"===n?void 0:n)||new Mu(i),o}(u?.ngZone,function vw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Mu,useValue:l}];return l.run(()=>{const y=Zl.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(y),k=S.injector.get(gl,null);if(!k)throw new Re(402,!1);return l.runOutsideAngular(()=>{const H=l.onError.subscribe({next:te=>{k.handleError(te)}});S.onDestroy(()=>{my(this._modules,S),H.unsubscribe()})}),function ww(n,i,o){try{const u=o();return Ld(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(k,l,()=>{const H=S.injector.get(fy);return H.runInitializers(),H.donePromise.then(()=>(function ig(n){rt(n,"Expected localeId to be defined"),"string"==typeof n&&(rg=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(py,Qu)||Qu),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=Ew({},u);return function tI(n,i,o){const u=new l_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(gy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Re(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(M_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Zt(Zl))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ew(n,i){return Array.isArray(i)?i.reduce(Ew,n):{...n,...i}}let gy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new A.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),y=new A.y(S=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{k.unsubscribe(),H.unsubscribe()}});this.isStable=(0,Se.T)(h,y.pipe((0,ve.B)()))}bootstrap(o,u){const l=o instanceof Oc;if(!this._injector.get(fy).done){!l&&qr(o);throw new Re(405,cc)}let y;y=l?o:this._injector.get(md).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const S=function nI(n){return n.isBoundToModule}(y)?void 0:this._injector.get(Af),H=y.create(Zl.NULL,[],u||y.selector,S),te=H.location.nativeElement,me=H.injector.get(lw,null);return me?.registerApplication(te),H.onDestroy(()=>{this.detachView(H.hostView),my(this.components,H),me?.unregisterApplication(te)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;my(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(fw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>my(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Zt(Mu),Zt(Ta),Zt(gl))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function my(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function uI(){return!1}let lI=(()=>{class n{}return n.__NG_ELEMENT_ID__=cI,n})();function cI(n){return function dI(n,i,o){if(ps(n)&&!o){const u=di(n.index,i);return new Hc(u,u)}return 47&n.type?new Hc(i[bn],i):null}(Ve(),D(),16==(16&n))}class Tw{constructor(){}supports(i){return qc(i)}create(i){return new yI(i)}}const mI=(n,i)=>i;class yI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||mI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const y=!u||o&&o.currentIndex<Aw(u,l,h)?o:u,S=Aw(y,l,h),k=y.currentIndex;if(y===u)l--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)l++;else{h||(h=[]);const H=S-l,te=k-l;if(H!=te){for(let Le=0;Le<H;Le++){const Xe=Le<h.length?h[Le]:h[Le]=0,At=Xe+Le;te<=At&&At<H&&(h[Le]=Xe+1)}h[y.previousIndex]=te-H}}S!==k&&i(y,S,k)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!qc(i))throw new Re(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],y=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,h,y,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,y,S),u=!0),o=o._next}else l=0,function pv(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{y=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,S,y,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,y,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new vI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Sw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class vI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _I{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Sw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new _I,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Aw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class xw{constructor(){}supports(i){return i instanceof Map||Nd(i)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Nd(i)))throw new Re(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const u=new EI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class EI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mw(){return new F_([new Tw])}let F_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Mw()),deps:[[n,new Ks,new Ei]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Re(901,!1)}}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:Mw}),n})();function Rw(){return new L_([new xw])}let L_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Rw()),deps:[[n,new Ks,new Ei]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Re(901,!1)}}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:Rw}),n})();const CI=gw(null,"core",[]);let DI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Zt(gy))},n.\u0275mod=ke({type:n}),n.\u0275inj=hn({}),n})();function TI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(on,Pe,j)=>{"use strict";j.d(Pe,{Fj:()=>it,qu:()=>K,NI:()=>bn,oH:()=>qi,u:()=>ji,sg:()=>Ys,u5:()=>vt,JU:()=>wt,a5:()=>Zn,JJ:()=>_n,JL:()=>wn,On:()=>fs,wV:()=>li,_:()=>oi,UX:()=>Vt,kI:()=>tn,_Y:()=>si});var p=j(4650),V=j(6895),A=j(8996),Se=j(9751),ve=j(4742),Ie=j(8421),Me=j(7669),fe=j(5403),Be=j(3268),de=j(1810),xe=j(4004);let nt=(()=>{class D{constructor(P,Q){this._renderer=P,this._elementRef=Q,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(P,Q){this._renderer.setProperty(this._elementRef.nativeElement,P,Q)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(p.Qsj),p.Y36(p.SBq))},D.\u0275dir=p.lG2({type:D}),D})(),st=(()=>{class D extends nt{}return D.\u0275fac=function(){let R;return function(Q){return(R||(R=p.n5z(D)))(Q||D)}}(),D.\u0275dir=p.lG2({type:D,features:[p.qOj]}),D})();const wt=new p.OlP("NgValueAccessor"),ot={provide:wt,useExisting:(0,p.Gpc)(()=>it),multi:!0},_t=new p.OlP("CompositionEventMode");let it=(()=>{class D extends nt{constructor(P,Q,Ve){super(P,Q),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ke(){const D=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(_t,8))},D.\u0275dir=p.lG2({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,Q){1&P&&p.NdJ("input",function(Ut){return Q._handleInput(Ut.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(Ut){return Q._compositionEnd(Ut.target.value)})},features:[p._Bn([ot]),p.qOj]}),D})();const at=!1;function pt(D){return null==D||("string"==typeof D||Array.isArray(D))&&0===D.length}function It(D){return null!=D&&"number"==typeof D.length}const ct=new p.OlP("NgValidators"),ce=new p.OlP("NgAsyncValidators"),kt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tn{static min(R){return function Mt(D){return R=>{if(pt(R.value)||pt(D))return null;const P=parseFloat(R.value);return!isNaN(P)&&P<D?{min:{min:D,actual:R.value}}:null}}(R)}static max(R){return function Ot(D){return R=>{if(pt(R.value)||pt(D))return null;const P=parseFloat(R.value);return!isNaN(P)&&P>D?{max:{max:D,actual:R.value}}:null}}(R)}static required(R){return function Nt(D){return pt(D.value)?{required:!0}:null}(R)}static requiredTrue(R){return function gr(D){return!0===D.value?null:{required:!0}}(R)}static email(R){return function Ze(D){return pt(D.value)||kt.test(D.value)?null:{email:!0}}(R)}static minLength(R){return function Ne(D){return R=>pt(R.value)||!It(R.value)?null:R.value.length<D?{minlength:{requiredLength:D,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function je(D){return R=>It(R.value)&&R.value.length>D?{maxlength:{requiredLength:D,actualLength:R.value.length}}:null}(R)}static pattern(R){return function tt(D){if(!D)return dt;let R,P;return"string"==typeof D?(P="","^"!==D.charAt(0)&&(P+="^"),P+=D,"$"!==D.charAt(D.length-1)&&(P+="$"),R=new RegExp(P)):(P=D.toString(),R=D),Q=>{if(pt(Q.value))return null;const Ve=Q.value;return R.test(Ve)?null:{pattern:{requiredPattern:P,actualValue:Ve}}}}(R)}static nullValidator(R){return null}static compose(R){return mn(R)}static composeAsync(R){return Gn(R)}}function dt(D){return null}function rt(D){return null!=D}function He(D){const R=(0,p.QGY)(D)?(0,A.D)(D):D;if(at&&!(0,p.CqO)(R)){let P="Expected async validator to return Promise or Observable.";throw"object"==typeof D&&(P+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,P)}return R}function Pt(D){let R={};return D.forEach(P=>{R=null!=P?{...R,...P}:R}),0===Object.keys(R).length?null:R}function Tn(D,R){return R.map(P=>P(D))}function Ft(D){return D.map(R=>function xt(D){return!D.validate}(R)?R:P=>R.validate(P))}function mn(D){if(!D)return null;const R=D.filter(rt);return 0==R.length?null:function(P){return Pt(Tn(P,R))}}function hn(D){return null!=D?mn(Ft(D)):null}function Gn(D){if(!D)return null;const R=D.filter(rt);return 0==R.length?null:function(P){return function ge(...D){const R=(0,Me.jO)(D),{args:P,keys:Q}=(0,ve.D)(D),Ve=new Se.y(Ut=>{const{length:Fn}=P;if(!Fn)return void Ut.complete();const Yn=new Array(Fn);let Qr=Fn,br=Fn;for(let vi=0;vi<Fn;vi++){let Kr=!1;(0,Ie.Xf)(P[vi]).subscribe((0,fe.x)(Ut,Or=>{Kr||(Kr=!0,br--),Yn[vi]=Or},()=>Qr--,void 0,()=>{(!Qr||!Kr)&&(br||Ut.next(Q?(0,de.n)(Q,Yn):Yn),Ut.complete())}))}});return R?Ve.pipe((0,Be.Z)(R)):Ve}(Tn(P,R).map(He)).pipe((0,xe.U)(Pt))}}function tr(D){return null!=D?Gn(Ft(D)):null}function zn(D,R){return null===D?[R]:Array.isArray(D)?[...D,R]:[D,R]}function Qt(D){return D._rawValidators}function Tt(D){return D._rawAsyncValidators}function Wn(D){return D?Array.isArray(D)?D:[D]:[]}function $n(D,R){return Array.isArray(D)?D.includes(R):D===R}function Rn(D,R){const P=Wn(R);return Wn(D).forEach(Ve=>{$n(P,Ve)||P.push(Ve)}),P}function ln(D,R){return Wn(R).filter(P=>!$n(D,P))}class Lt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,P){return!!this.control&&this.control.hasError(R,P)}getError(R,P){return this.control?this.control.getError(R,P):null}}class nn extends Lt{get formDirective(){return null}get path(){return null}}class Zn extends Lt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dr{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _n=(()=>{class D extends dr{constructor(P){super(P)}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(Zn,2))},D.\u0275dir=p.lG2({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,Q){2&P&&p.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},features:[p.qOj]}),D})(),wn=(()=>{class D extends dr{constructor(P){super(P)}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(nn,10))},D.\u0275dir=p.lG2({type:D,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,Q){2&P&&p.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},features:[p.qOj]}),D})();function kn(D,R){return D?`with name: '${R}'`:`at index: ${R}`}const $r=!1,nr="VALID",vr="INVALID",_e="PENDING",X="DISABLED";function x(D){return(oe(D)?D.validators:D)||null}function B(D,R){return(oe(R)?R.asyncValidators:D)||null}function oe(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}function le(D,R,P){const Q=D.controls;if(!(R?Object.keys(Q):Q).length)throw new p.vHH(1e3,$r?function jn(D){return`\n    There are no form controls registered with this ${D?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(R):"");if(!Q[P])throw new p.vHH(1001,$r?function Ir(D,R){return`Cannot find form control ${kn(D,R)}`}(R,P):"")}function se(D,R,P){D._forEachChild((Q,Ve)=>{if(void 0===P[Ve])throw new p.vHH(1002,$r?function sr(D,R){return`Must supply a value for form control ${kn(D,R)}`}(R,Ve):"")})}class Te{constructor(R,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===nr}get invalid(){return this.status===vr}get pending(){return this.status==_e}get disabled(){return this.status===X}get enabled(){return this.status!==X}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(Rn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Rn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(ln(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(ln(R,this._rawAsyncValidators))}hasValidator(R){return $n(this._rawValidators,R)}hasAsyncValidator(R){return $n(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=_e,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const P=this._parentMarkedDirty(R.onlySelf);this.status=X,this.errors=null,this._forEachChild(Q=>{Q.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:P}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(R={}){const P=this._parentMarkedDirty(R.onlySelf);this.status=nr,this._forEachChild(Q=>{Q.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:P}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nr||this.status===_e)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?X:nr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator=!0;const P=He(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,P={}){this.errors=R,this._updateControlsErrors(!1!==P.emitEvent)}get(R){let P=R;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((Q,Ve)=>Q&&Q._find(Ve),this)}getError(R,P){const Q=P?this.get(P):this;return Q&&Q.errors?Q.errors[R]:null}hasError(R,P){return!!this.getError(R,P)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?X:this.errors?vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(vr)?vr:nr}_anyControlsHaveStatus(R){return this._anyControls(P=>P.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){oe(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function L(D){return Array.isArray(D)?hn(D):D||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function ae(D){return Array.isArray(D)?tr(D):D||null}(this._rawAsyncValidators)}}class ze extends Te{constructor(R,P,Q){super(x(P),B(Q,P)),this.controls=R,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,P){return this.controls[R]?this.controls[R]:(this.controls[R]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(R,P,Q={}){this.registerControl(R,P),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(R,P={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(R,P,Q={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],P&&this.registerControl(R,P),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,P={}){se(this,!0,R),Object.keys(R).forEach(Q=>{le(this,!0,Q),this.controls[Q].setValue(R[Q],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(R,P={}){null!=R&&(Object.keys(R).forEach(Q=>{const Ve=this.controls[Q];Ve&&Ve.patchValue(R[Q],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(R={},P={}){this._forEachChild((Q,Ve)=>{Q.reset(R[Ve],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(R,P,Q)=>(R[Q]=P.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(P,Q)=>!!Q._syncPendingControls()||P);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(P=>{const Q=this.controls[P];Q&&R(Q,P)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[P,Q]of Object.entries(this.controls))if(this.contains(P)&&R(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,Q,Ve)=>((Q.enabled||this.disabled)&&(P[Ve]=Q.value),P))}_reduceChildren(R,P){let Q=R;return this._forEachChild((Ve,Ut)=>{Q=P(Q,Ve,Ut)}),Q}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class an extends ze{}const Fr=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>We}),We="always";function ke(D,R){return[...R.path,D]}function St(D,R,P=We){Xt(D,R),R.valueAccessor.writeValue(D.value),(D.disabled||"always"===P)&&R.valueAccessor.setDisabledState?.(D.disabled),function qn(D,R){R.valueAccessor.registerOnChange(P=>{D._pendingValue=P,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&Dr(D,R)})}(D,R),function bi(D,R){const P=(Q,Ve)=>{R.valueAccessor.writeValue(Q),Ve&&R.viewToModelUpdate(Q)};D.registerOnChange(P),R._registerOnDestroy(()=>{D._unregisterOnChange(P)})}(D,R),function qr(D,R){R.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&Dr(D,R),"submit"!==D.updateOn&&D.markAsTouched()})}(D,R),function Nn(D,R){if(R.valueAccessor.setDisabledState){const P=Q=>{R.valueAccessor.setDisabledState(Q)};D.registerOnDisabledChange(P),R._registerOnDestroy(()=>{D._unregisterOnDisabledChange(P)})}}(D,R)}function un(D,R,P=!0){const Q=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(Q),R.valueAccessor.registerOnTouched(Q)),er(D,R),D&&(R._invokeOnDestroyCallbacks(),D._registerOnCollectionChange(()=>{}))}function pn(D,R){D.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(R)})}function Xt(D,R){const P=Qt(D);null!==R.validator?D.setValidators(zn(P,R.validator)):"function"==typeof P&&D.setValidators([P]);const Q=Tt(D);null!==R.asyncValidator?D.setAsyncValidators(zn(Q,R.asyncValidator)):"function"==typeof Q&&D.setAsyncValidators([Q]);const Ve=()=>D.updateValueAndValidity();pn(R._rawValidators,Ve),pn(R._rawAsyncValidators,Ve)}function er(D,R){let P=!1;if(null!==D){if(null!==R.validator){const Ve=Qt(D);if(Array.isArray(Ve)&&Ve.length>0){const Ut=Ve.filter(Fn=>Fn!==R.validator);Ut.length!==Ve.length&&(P=!0,D.setValidators(Ut))}}if(null!==R.asyncValidator){const Ve=Tt(D);if(Array.isArray(Ve)&&Ve.length>0){const Ut=Ve.filter(Fn=>Fn!==R.asyncValidator);Ut.length!==Ve.length&&(P=!0,D.setAsyncValidators(Ut))}}}const Q=()=>{};return pn(R._rawValidators,Q),pn(R._rawAsyncValidators,Q),P}function Dr(D,R){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function ui(D,R){if(!D.hasOwnProperty("model"))return!1;const P=D.model;return!!P.isFirstChange()||!Object.is(R,P.currentValue)}function ht(D,R){if(!R)return null;let P,Q,Ve;return Array.isArray(R),R.forEach(Ut=>{Ut.constructor===it?P=Ut:function Qe(D){return Object.getPrototypeOf(D.constructor)===st}(Ut)?Q=Ut:Ve=Ut}),Ve||Q||P||null}function yn(D,R){const P=D.indexOf(R);P>-1&&D.splice(P,1)}function xn(D){return"object"==typeof D&&null!==D&&2===Object.keys(D).length&&"value"in D&&"disabled"in D}const bn=class extends Te{constructor(R=null,P,Q){super(x(P),B(Q,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=xn(R)?R.value:R)}setValue(R,P={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(R,P={}){this.setValue(R,P)}reset(R=this.defaultValue,P={}){this._applyFormState(R),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){yn(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){yn(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){xn(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},is={provide:Zn,useExisting:(0,p.Gpc)(()=>fs)},hs=(()=>Promise.resolve())();let fs=(()=>{class D extends Zn{constructor(P,Q,Ve,Ut,Fn,Yn){super(),this._changeDetectorRef=Fn,this.callSetDisabledState=Yn,this.control=new bn,this._registered=!1,this.update=new p.vpe,this._parent=P,this._setValidators(Q),this._setAsyncValidators(Ve),this.valueAccessor=ht(0,Ut)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const Q=P.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),ui(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){hs.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const Q=P.isDisabled.currentValue,Ve=0!==Q&&(0,p.D6c)(Q);hs.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?ke(P,this._parent):[P]}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(nn,9),p.Y36(ct,10),p.Y36(ce,10),p.Y36(wt,10),p.Y36(p.sBO,8),p.Y36(Fr,8))},D.\u0275dir=p.lG2({type:D,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([is]),p.qOj,p.TTD]}),D})(),si=(()=>{class D{}return D.\u0275fac=function(P){return new(P||D)},D.\u0275dir=p.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),D})();const bo={provide:wt,useExisting:(0,p.Gpc)(()=>li),multi:!0};let li=(()=>{class D extends st{writeValue(P){this.setProperty("value",P??"")}registerOnChange(P){this.onChange=Q=>{P(""==Q?null:parseFloat(Q))}}}return D.\u0275fac=function(){let R;return function(Q){return(R||(R=p.n5z(D)))(Q||D)}}(),D.\u0275dir=p.lG2({type:D,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(P,Q){1&P&&p.NdJ("input",function(Ut){return Q.onChange(Ut.target.value)})("blur",function(){return Q.onTouched()})},features:[p._Bn([bo]),p.qOj]}),D})();const ci={provide:wt,useExisting:(0,p.Gpc)(()=>oi),multi:!0};let ps=(()=>{class D{}return D.\u0275fac=function(P){return new(P||D)},D.\u0275mod=p.oAB({type:D}),D.\u0275inj=p.cJS({}),D})(),Ds=(()=>{class D{constructor(){this._accessors=[]}add(P,Q){this._accessors.push([P,Q])}remove(P){for(let Q=this._accessors.length-1;Q>=0;--Q)if(this._accessors[Q][1]===P)return void this._accessors.splice(Q,1)}select(P){this._accessors.forEach(Q=>{this._isSameGroup(Q,P)&&Q[1]!==P&&Q[1].fireUncheck(P.value)})}_isSameGroup(P,Q){return!!P[0].control&&P[0]._parent===Q._control._parent&&P[1].name===Q.name}}return D.\u0275fac=function(P){return new(P||D)},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:ps}),D})(),oi=(()=>{class D extends st{constructor(P,Q,Ve,Ut){super(P,Q),this._registry=Ve,this._injector=Ut,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,p.f3M)(Fr,{optional:!0})??We}ngOnInit(){this._control=this._injector.get(Zn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(P){this._state=P===this.value,this.setProperty("checked",this._state)}registerOnChange(P){this._fn=P,this.onChange=()=>{P(this.value),this._registry.select(this)}}setDisabledState(P){(this.setDisabledStateFired||P||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",P),this.setDisabledStateFired=!0}fireUncheck(P){this.writeValue(P)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ds),p.Y36(p.zs3))},D.\u0275dir=p.lG2({type:D,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(P,Q){1&P&&p.NdJ("change",function(){return Q.onChange()})("blur",function(){return Q.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[p._Bn([ci]),p.qOj]}),D})();const gs=new p.OlP("NgModelWithFormControlWarning"),mi={provide:Zn,useExisting:(0,p.Gpc)(()=>qi)};let qi=(()=>{class D extends Zn{set isDisabled(P){}constructor(P,Q,Ve,Ut,Fn){super(),this._ngModelWarningConfig=Ut,this.callSetDisabledState=Fn,this.update=new p.vpe,this._ngModelWarningSent=!1,this._setValidators(P),this._setAsyncValidators(Q),this.valueAccessor=ht(0,Ve)}ngOnChanges(P){if(this._isControlChanged(P)){const Q=P.form.previousValue;Q&&un(Q,this,!1),St(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ui(P,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&un(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_isControlChanged(P){return P.hasOwnProperty("form")}}return D._ngModelWarningSentOnce=!1,D.\u0275fac=function(P){return new(P||D)(p.Y36(ct,10),p.Y36(ce,10),p.Y36(wt,10),p.Y36(gs,8),p.Y36(Fr,8))},D.\u0275dir=p.lG2({type:D,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p._Bn([mi]),p.qOj,p.TTD]}),D})();const Ki={provide:nn,useExisting:(0,p.Gpc)(()=>Ys)};let Ys=(()=>{class D extends nn{constructor(P,Q,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(P),this._setAsyncValidators(Q)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const Q=this.form.get(P.path);return St(Q,P,this.callSetDisabledState),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),Q}getControl(P){return this.form.get(P.path)}removeControl(P){un(P.control||null,P,!1),function we(D,R){const P=D.indexOf(R);P>-1&&D.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,Q){this.form.get(P.path).setValue(Q)}onSubmit(P){return this.submitted=!0,function fn(D,R){D._syncPendingControls(),R.forEach(P=>{const Q=P.control;"submit"===Q.updateOn&&Q._pendingChange&&(P.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const Q=P.control,Ve=this.form.get(P.path);Q!==Ve&&(un(Q||null,P),(D=>D instanceof bn)(Ve)&&(St(Ve,P,this.callSetDisabledState),P.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const Q=this.form.get(P.path);(function zr(D,R){Xt(D,R)})(Q,P),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const Q=this.form.get(P.path);Q&&function Bi(D,R){return er(D,R)}(Q,P)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xt(this.form,this),this._oldForm&&er(this._oldForm,this)}_checkFormPresent(){}}return D.\u0275fac=function(P){return new(P||D)(p.Y36(ct,10),p.Y36(ce,10),p.Y36(Fr,8))},D.\u0275dir=p.lG2({type:D,selectors:[["","formGroup",""]],hostBindings:function(P,Q){1&P&&p.NdJ("submit",function(Ut){return Q.onSubmit(Ut)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ki]),p.qOj,p.TTD]}),D})();const po={provide:Zn,useExisting:(0,p.Gpc)(()=>ji)};let ji=(()=>{class D extends Zn{set isDisabled(P){}constructor(P,Q,Ve,Ut,Fn){super(),this._ngModelWarningConfig=Fn,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(Q),this._setAsyncValidators(Ve),this.valueAccessor=ht(0,Ut)}ngOnChanges(P){this._added||this._setUpControl(),ui(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return D._ngModelWarningSentOnce=!1,D.\u0275fac=function(P){return new(P||D)(p.Y36(nn,13),p.Y36(ct,10),p.Y36(ce,10),p.Y36(wt,10),p.Y36(gs,8))},D.\u0275dir=p.lG2({type:D,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([po]),p.qOj,p.TTD]}),D})(),ks=(()=>{class D{}return D.\u0275fac=function(P){return new(P||D)},D.\u0275mod=p.oAB({type:D}),D.\u0275inj=p.cJS({imports:[ps]}),D})();class Ci extends Te{constructor(R,P,Q){super(x(P),B(Q,P)),this.controls=R,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,P={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(R,P,Q={}){this.controls.splice(R,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(R,P={}){let Q=this._adjustIndex(R);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(R,P,Q={}){let Ve=this._adjustIndex(R);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),P&&(this.controls.splice(Ve,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,P={}){se(this,!1,R),R.forEach((Q,Ve)=>{le(this,!1,Ve),this.at(Ve).setValue(Q,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(R,P={}){null!=R&&(R.forEach((Q,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(Q,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(R=[],P={}){this._forEachChild((Q,Ve)=>{Q.reset(R[Ve],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((P,Q)=>!!Q._syncPendingControls()||P,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((P,Q)=>{R(P,Q)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(P=>P.enabled&&R(P))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function Z(D){return!!D&&(void 0!==D.asyncValidators||void 0!==D.validators||void 0!==D.updateOn)}let K=(()=>{class D{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new D;return P.useNonNullable=!0,P}group(P,Q=null){const Ve=this._reduceControls(P);let Ut={};return Z(Q)?Ut=Q:null!==Q&&(Ut.validators=Q.validator,Ut.asyncValidators=Q.asyncValidator),new ze(Ve,Ut)}record(P,Q=null){const Ve=this._reduceControls(P);return new an(Ve,Q)}control(P,Q,Ve){let Ut={};return this.useNonNullable?(Z(Q)?Ut=Q:(Ut.validators=Q,Ut.asyncValidators=Ve),new bn(P,{...Ut,nonNullable:!0})):new bn(P,Q,Ve)}array(P,Q,Ve){const Ut=P.map(Fn=>this._createControl(Fn));return new Ci(Ut,Q,Ve)}_reduceControls(P){const Q={};return Object.keys(P).forEach(Ve=>{Q[Ve]=this._createControl(P[Ve])}),Q}_createControl(P){return P instanceof bn||P instanceof Te?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return D.\u0275fac=function(P){return new(P||D)},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),vt=(()=>{class D{static withConfig(P){return{ngModule:D,providers:[{provide:Fr,useValue:P.callSetDisabledState??We}]}}}return D.\u0275fac=function(P){return new(P||D)},D.\u0275mod=p.oAB({type:D}),D.\u0275inj=p.cJS({imports:[ks]}),D})(),Vt=(()=>{class D{static withConfig(P){return{ngModule:D,providers:[{provide:gs,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:Fr,useValue:P.callSetDisabledState??We}]}}}return D.\u0275fac=function(P){return new(P||D)},D.\u0275mod=p.oAB({type:D}),D.\u0275inj=p.cJS({imports:[ks]}),D})()},1481:(on,Pe,j)=>{"use strict";j.d(Pe,{Dx:()=>wn,b2:()=>Zn,q6:()=>Rn});var p=j(6895),V=j(4650);class A extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends A{static makeCurrent(){(0,p.HT)(new Se)}onAndCancel(le,se,Te){return le.addEventListener(se,Te,!1),()=>{le.removeEventListener(se,Te,!1)}}dispatchEvent(le,se){le.dispatchEvent(se)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,se){return(se=se||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,se){return"window"===se?window:"document"===se?le:"body"===se?le.body:null}getBaseHref(le){const se=function Ie(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==se?null:function fe(oe){Me=Me||document.createElement("a"),Me.setAttribute("href",oe);const le=Me.pathname;return"/"===le.charAt(0)?le:`/${le}`}(se)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,p.Mx)(document.cookie,le)}}let Me,ve=null;const Be=new V.OlP("TRANSITION_ID"),ge=[{provide:V.ip1,useFactory:function de(oe,le,se){return()=>{se.get(V.CZH).donePromise.then(()=>{const Te=(0,p.q)(),ze=le.querySelectorAll(`style[ng-transition="${oe}"]`);for(let gt=0;gt<ze.length;gt++)Te.remove(ze[gt])})}},deps:[Be,p.K0,V.zs3],multi:!0}];let nt=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(se){return new(se||oe)},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const st=new V.OlP("EventManagerPlugins");let wt=(()=>{class oe{constructor(se,Te){this._zone=Te,this._eventNameToPlugin=new Map,se.forEach(ze=>{ze.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,Te,ze){return this._findPluginFor(Te).addEventListener(se,Te,ze)}addGlobalEventListener(se,Te,ze){return this._findPluginFor(Te).addGlobalEventListener(se,Te,ze)}getZone(){return this._zone}_findPluginFor(se){const Te=this._eventNameToPlugin.get(se);if(Te)return Te;const ze=this._plugins;for(let gt=0;gt<ze.length;gt++){const Ht=ze[gt];if(Ht.supports(se))return this._eventNameToPlugin.set(se,Ht),Ht}throw new Error(`No event manager plugin found for event ${se}`)}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(st),V.LFG(V.R0b))},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class ft{constructor(le){this._doc=le}addGlobalEventListener(le,se,Te){const ze=(0,p.q)().getGlobalEventTarget(this._doc,le);if(!ze)throw new Error(`Unsupported event target ${ze} for event ${se}`);return this.addEventListener(ze,se,Te)}}let Re=(()=>{class oe{constructor(){this.usageCount=new Map}addStyles(se){for(const Te of se)1===this.changeUsageCount(Te,1)&&this.onStyleAdded(Te)}removeStyles(se){for(const Te of se)0===this.changeUsageCount(Te,-1)&&this.onStyleRemoved(Te)}onStyleRemoved(se){}onStyleAdded(se){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(se,Te){const ze=this.usageCount;let gt=ze.get(se)??0;return gt+=Te,gt>0?ze.set(se,gt):ze.delete(se),gt}ngOnDestroy(){for(const se of this.getAllStyles())this.onStyleRemoved(se);this.usageCount.clear()}}return oe.\u0275fac=function(se){return new(se||oe)},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),ot=(()=>{class oe extends Re{constructor(se){super(),this.doc=se,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(se){for(const Te of this.hostNodes)this.addStyleToHost(Te,se)}onStyleRemoved(se){const Te=this.styleRef;Te.get(se)?.forEach(gt=>gt.remove()),Te.delete(se)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const Te of this.getAllStyles())this.addStyleToHost(se,Te)}removeHost(se){this.hostNodes.delete(se)}addStyleToHost(se,Te){const ze=this.doc.createElement("style");ze.textContent=Te,se.appendChild(ze);const gt=this.styleRef.get(Te);gt?gt.push(ze):this.styleRef.set(Te,[ze])}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(p.K0))},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_t=/%COMP%/g,ce=new V.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Mt(oe,le){return le.flat(100).map(se=>se.replace(_t,oe))}function Ot(oe){return le=>{if("__ngUnwrap__"===le)return oe;!1===oe(le)&&(le.preventDefault(),le.returnValue=!1)}}let Nt=(()=>{class oe{constructor(se,Te,ze,gt){this.eventManager=se,this.sharedStylesHost=Te,this.appId=ze,this.removeStylesOnCompDestory=gt,this.rendererByCompId=new Map,this.defaultRenderer=new gr(se)}createRenderer(se,Te){if(!se||!Te)return this.defaultRenderer;const ze=this.getOrCreateRenderer(se,Te);return ze instanceof rt?ze.applyToHost(se):ze instanceof dt&&ze.applyStyles(),ze}getOrCreateRenderer(se,Te){const ze=this.rendererByCompId;let gt=ze.get(Te.id);if(!gt){const Ht=this.eventManager,an=this.sharedStylesHost,Xn=this.removeStylesOnCompDestory;switch(Te.encapsulation){case V.ifc.Emulated:gt=new rt(Ht,an,Te,this.appId,Xn);break;case V.ifc.ShadowDom:return new tt(Ht,an,se,Te);default:gt=new dt(Ht,an,Te,Xn)}gt.onDestroy=()=>ze.delete(Te.id),ze.set(Te.id,gt)}return gt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(wt),V.LFG(ot),V.LFG(V.AFp),V.LFG(ce))},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class gr{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,se){return se?document.createElementNS(Ke[se]||se,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,se){(je(le)?le.content:le).appendChild(se)}insertBefore(le,se,Te){le&&(je(le)?le.content:le).insertBefore(se,Te)}removeChild(le,se){le&&le.removeChild(se)}selectRootElement(le,se){let Te="string"==typeof le?document.querySelector(le):le;if(!Te)throw new Error(`The selector "${le}" did not match any elements`);return se||(Te.textContent=""),Te}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,se,Te,ze){if(ze){se=ze+":"+se;const gt=Ke[ze];gt?le.setAttributeNS(gt,se,Te):le.setAttribute(se,Te)}else le.setAttribute(se,Te)}removeAttribute(le,se,Te){if(Te){const ze=Ke[Te];ze?le.removeAttributeNS(ze,se):le.removeAttribute(`${Te}:${se}`)}else le.removeAttribute(se)}addClass(le,se){le.classList.add(se)}removeClass(le,se){le.classList.remove(se)}setStyle(le,se,Te,ze){ze&(V.JOm.DashCase|V.JOm.Important)?le.style.setProperty(se,Te,ze&V.JOm.Important?"important":""):le.style[se]=Te}removeStyle(le,se,Te){Te&V.JOm.DashCase?le.style.removeProperty(se):le.style[se]=""}setProperty(le,se,Te){le[se]=Te}setValue(le,se){le.nodeValue=se}listen(le,se,Te){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,se,Ot(Te)):this.eventManager.addEventListener(le,se,Ot(Te))}}function je(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class tt extends gr{constructor(le,se,Te,ze){super(le),this.sharedStylesHost=se,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gt=Mt(ze.id,ze.styles);for(const Ht of gt){const an=document.createElement("style");an.textContent=Ht,this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}appendChild(le,se){return super.appendChild(this.nodeOrShadowRoot(le),se)}insertBefore(le,se,Te){return super.insertBefore(this.nodeOrShadowRoot(le),se,Te)}removeChild(le,se){return super.removeChild(this.nodeOrShadowRoot(le),se)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dt extends gr{constructor(le,se,Te,ze,gt=Te.id){super(le),this.sharedStylesHost=se,this.removeStylesOnCompDestory=ze,this.rendererUsageCount=0,this.styles=Mt(gt,Te.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class rt extends dt{constructor(le,se,Te,ze,gt){const Ht=ze+"-"+Te.id;super(le,se,Te,gt,Ht),this.contentAttr=function kt(oe){return"_ngcontent-%COMP%".replace(_t,oe)}(Ht),this.hostAttr=function tn(oe){return"_nghost-%COMP%".replace(_t,oe)}(Ht)}applyToHost(le){this.applyStyles(),this.setAttribute(le,this.hostAttr,"")}createElement(le,se){const Te=super.createElement(le,se);return super.setAttribute(Te,this.contentAttr,""),Te}}let He=(()=>{class oe extends ft{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Te,ze){return se.addEventListener(Te,ze,!1),()=>this.removeEventListener(se,Te,ze)}removeEventListener(se,Te,ze){return se.removeEventListener(Te,ze)}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(p.K0))},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Pt=["alt","control","meta","shift"],Tn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xt={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Ft=(()=>{class oe extends ft{constructor(se){super(se)}supports(se){return null!=oe.parseEventName(se)}addEventListener(se,Te,ze){const gt=oe.parseEventName(Te),Ht=oe.eventCallback(gt.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(se,gt.domEventName,Ht))}static parseEventName(se){const Te=se.toLowerCase().split("."),ze=Te.shift();if(0===Te.length||"keydown"!==ze&&"keyup"!==ze)return null;const gt=oe._normalizeKey(Te.pop());let Ht="",an=Te.indexOf("code");if(an>-1&&(Te.splice(an,1),Ht="code."),Pt.forEach(Fr=>{const We=Te.indexOf(Fr);We>-1&&(Te.splice(We,1),Ht+=Fr+".")}),Ht+=gt,0!=Te.length||0===gt.length)return null;const Xn={};return Xn.domEventName=ze,Xn.fullKey=Ht,Xn}static matchEventFullKeyCode(se,Te){let ze=Tn[se.key]||se.key,gt="";return Te.indexOf("code.")>-1&&(ze=se.code,gt="code."),!(null==ze||!ze)&&(ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),Pt.forEach(Ht=>{Ht!==ze&&(0,xt[Ht])(se)&&(gt+=Ht+".")}),gt+=ze,gt===Te)}static eventCallback(se,Te,ze){return gt=>{oe.matchEventFullKeyCode(gt,se)&&ze.runGuarded(()=>Te(gt))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(p.K0))},oe.\u0275prov=V.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Rn=(0,V.eFA)(V._c5,"browser",[{provide:V.Lbi,useValue:p.bD},{provide:V.g9A,useValue:function Qt(){Se.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Wn(){return(0,V.RDi)(document),document},deps:[]}]),ln=new V.OlP(""),Lt=[{provide:V.rWj,useClass:class xe{addToWindow(le){V.dqk.getAngularTestability=(Te,ze=!0)=>{const gt=le.findTestabilityInTree(Te,ze);if(null==gt)throw new Error("Could not find testability for element.");return gt},V.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),V.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),V.dqk.frameworkStabilizers||(V.dqk.frameworkStabilizers=[]),V.dqk.frameworkStabilizers.push(Te=>{const ze=V.dqk.getAllAngularTestabilities();let gt=ze.length,Ht=!1;const an=function(Xn){Ht=Ht||Xn,gt--,0==gt&&Te(Ht)};ze.forEach(function(Xn){Xn.whenStable(an)})})}findTestabilityInTree(le,se,Te){return null==se?null:le.getTestability(se)??(Te?(0,p.q)().isShadowRoot(se)?this.findTestabilityInTree(le,se.host,!0):this.findTestabilityInTree(le,se.parentElement,!0):null)}},deps:[]},{provide:V.lri,useClass:V.dDg,deps:[V.R0b,V.eoX,V.rWj]},{provide:V.dDg,useClass:V.dDg,deps:[V.R0b,V.eoX,V.rWj]}],nn=[{provide:V.zSh,useValue:"root"},{provide:V.qLn,useFactory:function Tt(){return new V.qLn},deps:[]},{provide:st,useClass:He,multi:!0,deps:[p.K0,V.R0b,V.Lbi]},{provide:st,useClass:Ft,multi:!0,deps:[p.K0]},{provide:Nt,useClass:Nt,deps:[wt,ot,V.AFp,ce]},{provide:V.FYo,useExisting:Nt},{provide:Re,useExisting:ot},{provide:ot,useClass:ot,deps:[p.K0]},{provide:wt,useClass:wt,deps:[st,V.R0b]},{provide:p.JF,useClass:nt,deps:[]},[]];let Zn=(()=>{class oe{constructor(se){}static withServerTransition(se){return{ngModule:oe,providers:[{provide:V.AFp,useValue:se.appId},{provide:Be,useExisting:V.AFp},ge]}}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(ln,12))},oe.\u0275mod=V.oAB({type:oe}),oe.\u0275inj=V.cJS({providers:[...nn,...Lt],imports:[p.ez,V.hGG]}),oe})(),wn=(()=>{class oe{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return oe.\u0275fac=function(se){return new(se||oe)(V.LFG(p.K0))},oe.\u0275prov=V.Yz7({token:oe,factory:function(se){let Te=null;return Te=se?new se:function _n(){return new wn((0,V.LFG)(p.K0))}(),Te},providedIn:"root"}),oe})();typeof window<"u"&&window},9051:(on,Pe,j)=>{"use strict";j.d(Pe,{F0:()=>ws,rH:()=>rn,Bz:()=>io,lC:()=>Qi});var p=j(4650),V=j(8996),A=j(9646),Se=j(7579);class ve extends Se.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const m=super._subscribe(_);return!m.closed&&_.next(this._value),m}getValue(){const{hasError:_,thrownError:m,_value:M}=this;if(_)throw m;return this._throwIfClosed(),M}next(_){super.next(this._value=_)}}var Ie=j(6805),Me=j(9751),fe=j(4742),Be=j(4671),de=j(3268),ge=j(7669),xe=j(1810),nt=j(5403),st=j(9672);function wt(...v){const _=(0,ge.yG)(v),m=(0,ge.jO)(v),{args:M,keys:$}=(0,fe.D)(v);if(0===M.length)return(0,V.D)([],_);const J=new Me.y(function ft(v,_,m=Be.y){return M=>{Re(_,()=>{const{length:$}=v,J=new Array($);let re=$,Ue=$;for(let Ct=0;Ct<$;Ct++)Re(_,()=>{const Yt=(0,V.D)(v[Ct],_);let cn=!1;Yt.subscribe((0,nt.x)(M,Vr=>{J[Ct]=Vr,cn||(cn=!0,Ue--),Ue||M.next(m(J.slice()))},()=>{--re||M.complete()}))},M)},M)}}(M,_,$?re=>(0,xe.n)($,re):Be.y));return m?J.pipe((0,de.Z)(m)):J}function Re(v,_,m){v?(0,st.f)(m,v,_):_()}var ot=j(7272),Ke=j(8421);function _t(v){return new Me.y(_=>{(0,Ke.Xf)(v()).subscribe(_)})}var it=j(9635),at=j(576);function pt(v,_){const m=(0,at.m)(v)?v:()=>v,M=$=>$.error(m());return new Me.y(_?$=>_.schedule(M,0,$):M)}var It=j(515),ct=j(727),ce=j(4482);function kt(){return(0,ce.e)((v,_)=>{let m=null;v._refCount++;const M=(0,nt.x)(_,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const $=v._connection,J=m;m=null,$&&(!J||$===J)&&$.unsubscribe(),_.unsubscribe()});v.subscribe(M),M.closed||(m=v.connect())})}class tn extends Me.y{constructor(_,m){super(),this.source=_,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,ce.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new ct.w0;const m=this.getSubject();_.add(this.source.subscribe((0,nt.x)(m,void 0,()=>{this._teardown(),m.complete()},M=>{this._teardown(),m.error(M)},()=>this._teardown()))),_.closed&&(this._connection=null,_=ct.w0.EMPTY)}return _}refCount(){return kt()(this)}}var Mt=j(6895),Ot=j(4004),Nt=j(3900),gr=j(5698),Ze=j(8675),Ne=j(9300),je=j(5577),tt=j(590);function dt(v,_){return(0,at.m)(_)?(0,je.z)(v,_,1):(0,je.z)(v,1)}var rt=j(8505);function He(v){return(0,ce.e)((_,m)=>{let J,M=null,$=!1;M=_.subscribe((0,nt.x)(m,void 0,void 0,re=>{J=(0,Ke.Xf)(v(re,He(v)(_))),M?(M.unsubscribe(),M=null,J.subscribe(m)):$=!0})),$&&(M.unsubscribe(),M=null,J.subscribe(m))})}var Pt=j(5026);function Tn(v){return v<=0?()=>It.E:(0,ce.e)((_,m)=>{let M=[];_.subscribe((0,nt.x)(m,$=>{M.push($),v<M.length&&M.shift()},()=>{for(const $ of M)m.next($);m.complete()},void 0,()=>{M=null}))})}var xt=j(8068),Ft=j(6590);function mn(v,_){const m=arguments.length>=2;return M=>M.pipe(v?(0,Ne.h)(($,J)=>v($,J,M)):Be.y,Tn(1),m?(0,Ft.d)(_):(0,xt.T)(()=>new Ie.K))}function tr(v){return(0,ce.e)((_,m)=>{try{_.subscribe(m)}finally{m.add(v)}})}var zn=j(8189),Qt=j(1481);const Tt="primary",Wn=Symbol("RouteTitle");class $n{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const m=this.params[_];return Array.isArray(m)?m[0]:m}return null}getAll(_){if(this.has(_)){const m=this.params[_];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Rn(v){return new $n(v)}function ln(v,_,m){const M=m.path.split("/");if(M.length>v.length||"full"===m.pathMatch&&(_.hasChildren()||M.length<v.length))return null;const $={};for(let J=0;J<M.length;J++){const re=M[J],Ue=v[J];if(re.startsWith(":"))$[re.substring(1)]=Ue;else if(re!==Ue.path)return null}return{consumed:v.slice(0,M.length),posParams:$}}function nn(v,_){const m=v?Object.keys(v):void 0,M=_?Object.keys(_):void 0;if(!m||!M||m.length!=M.length)return!1;let $;for(let J=0;J<m.length;J++)if($=m[J],!Zn(v[$],_[$]))return!1;return!0}function Zn(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const m=[...v].sort(),M=[..._].sort();return m.every(($,J)=>M[J]===$)}return v===_}function dr(v){return Array.prototype.concat.apply([],v)}function kr(v){return v.length>0?v[v.length-1]:null}function _n(v,_){for(const m in v)v.hasOwnProperty(m)&&_(v[m],m)}function wn(v){return(0,p.CqO)(v)?v:(0,p.QGY)(v)?(0,V.D)(Promise.resolve(v)):(0,A.of)(v)}const Gt=!1,Rt={exact:function Rr(v,_,m){if(!jn(v.segments,_.segments)||!Br(v.segments,_.segments,m)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const M in _.children)if(!v.children[M]||!Rr(v.children[M],_.children[M],m))return!1;return!0},subset:fr},Jn={exact:function rr(v,_){return nn(v,_)},subset:function Sr(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(m=>Zn(v[m],_[m]))},ignored:()=>!0};function hr(v,_,m){return Rt[m.paths](v.root,_.root,m.matrixParams)&&Jn[m.queryParams](v.queryParams,_.queryParams)&&!("exact"===m.fragment&&v.fragment!==_.fragment)}function fr(v,_,m){return Sn(v,_,_.segments,m)}function Sn(v,_,m,M){if(v.segments.length>m.length){const $=v.segments.slice(0,m.length);return!(!jn($,m)||_.hasChildren()||!Br($,m,M))}if(v.segments.length===m.length){if(!jn(v.segments,m)||!Br(v.segments,m,M))return!1;for(const $ in _.children)if(!v.children[$]||!fr(v.children[$],_.children[$],M))return!1;return!0}{const $=m.slice(0,v.segments.length),J=m.slice(v.segments.length);return!!(jn(v.segments,$)&&Br(v.segments,$,M)&&v.children[Tt])&&Sn(v.children[Tt],_,J,M)}}function Br(v,_,m){return _.every((M,$)=>Jn[m](v[$].parameters,M.parameters))}class An{constructor(_=new Jt([],{}),m={},M=null){this.root=_,this.queryParams=m,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return nr.serialize(this)}}class Jt{constructor(_,m){this.segments=_,this.children=m,this.parent=null,_n(m,(M,$)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class Zt{constructor(_,m){this.path=_,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return le(this)}}function jn(v,_){return v.length===_.length&&v.every((m,M)=>m.path===_[M].path)}let sr=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return new $r},providedIn:"root"}),v})();class $r{parse(_){const m=new We(_);return new An(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(_){const m=`/${_e(_.root,!0)}`,M=function Te(v){const _=Object.keys(v).map(m=>{const M=v[m];return Array.isArray(M)?M.map($=>`${x(m)}=${x($)}`).join("&"):`${x(m)}=${x(M)}`}).filter(m=>!!m);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${m}${M}${"string"==typeof _.fragment?`#${function L(v){return encodeURI(v)}(_.fragment)}`:""}`}}const nr=new $r;function vr(v){return v.segments.map(_=>le(_)).join("/")}function _e(v,_){if(!v.hasChildren())return vr(v);if(_){const m=v.children[Tt]?_e(v.children[Tt],!1):"",M=[];return _n(v.children,($,J)=>{J!==Tt&&M.push(`${J}:${_e($,!1)}`)}),M.length>0?`${m}(${M.join("//")})`:m}{const m=function Ir(v,_){let m=[];return _n(v.children,(M,$)=>{$===Tt&&(m=m.concat(_(M,$)))}),_n(v.children,(M,$)=>{$!==Tt&&(m=m.concat(_(M,$)))}),m}(v,(M,$)=>$===Tt?[_e(v.children[Tt],!1)]:[`${$}:${_e(M,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Tt]?`${vr(v)}/${m[0]}`:`${vr(v)}/(${m.join("//")})`}}function X(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function x(v){return X(v).replace(/%3B/gi,";")}function B(v){return X(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ae(v){return decodeURIComponent(v)}function oe(v){return ae(v.replace(/\+/g,"%20"))}function le(v){return`${B(v.path)}${function se(v){return Object.keys(v).map(_=>`;${B(_)}=${B(v[_])}`).join("")}(v.parameters)}`}const ze=/^[^\/()?;=#]+/;function gt(v){const _=v.match(ze);return _?_[0]:""}const Ht=/^[^=?&#]+/,Xn=/^[^&#]+/;class We{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(_.length>0||Object.keys(m).length>0)&&(M[Tt]=new Jt(_,m)),M}parseSegment(){const _=gt(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new p.vHH(4009,Gt);return this.capture(_),new Zt(ae(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const m=gt(this.remaining);if(!m)return;this.capture(m);let M="";if(this.consumeOptional("=")){const $=gt(this.remaining);$&&(M=$,this.capture(M))}_[ae(m)]=ae(M)}parseQueryParam(_){const m=function an(v){const _=v.match(Ht);return _?_[0]:""}(this.remaining);if(!m)return;this.capture(m);let M="";if(this.consumeOptional("=")){const re=function Fr(v){const _=v.match(Xn);return _?_[0]:""}(this.remaining);re&&(M=re,this.capture(M))}const $=oe(m),J=oe(M);if(_.hasOwnProperty($)){let re=_[$];Array.isArray(re)||(re=[re],_[$]=re),re.push(J)}else _[$]=J}parseParens(_){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=gt(this.remaining),$=this.remaining[M.length];if("/"!==$&&")"!==$&&";"!==$)throw new p.vHH(4010,Gt);let J;M.indexOf(":")>-1?(J=M.slice(0,M.indexOf(":")),this.capture(J),this.capture(":")):_&&(J=Tt);const re=this.parseChildren();m[J]=1===Object.keys(re).length?re[Tt]:new Jt([],re),this.consumeOptional("//")}return m}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new p.vHH(4011,Gt)}}function ke(v){return v.segments.length>0?new Jt([],{[Tt]:v}):v}function St(v){const _={};for(const M of Object.keys(v.children)){const J=St(v.children[M]);(J.segments.length>0||J.hasChildren())&&(_[M]=J)}return function un(v){if(1===v.numberOfChildren&&v.children[Tt]){const _=v.children[Tt];return new Jt(v.segments.concat(_.segments),_.children)}return v}(new Jt(v.segments,_))}function pn(v){return v instanceof An}const Nn=!1;function qr(v,_,m,M,$){if(0===m.length)return zr(_.root,_.root,_.root,M,$);const J=function Wt(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Gr(!0,0,v);let _=0,m=!1;const M=v.reduce(($,J,re)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ue={};return _n(J.outlets,(Ct,Yt)=>{Ue[Yt]="string"==typeof Ct?Ct.split("/"):Ct}),[...$,{outlets:Ue}]}if(J.segmentPath)return[...$,J.segmentPath]}return"string"!=typeof J?[...$,J]:0===re?(J.split("/").forEach((Ue,Ct)=>{0==Ct&&"."===Ue||(0==Ct&&""===Ue?m=!0:".."===Ue?_++:""!=Ue&&$.push(Ue))}),$):[...$,J]},[]);return new Gr(m,_,M)}(m);return J.toRoot()?zr(_.root,_.root,new Jt([],{}),M,$):function re(Ct){const Yt=function Un(v,_,m,M){if(v.isAbsolute)return new Pn(_.root,!0,0);if(-1===M)return new Pn(m,m===_.root,0);return function ui(v,_,m){let M=v,$=_,J=m;for(;J>$;){if(J-=$,M=M.parent,!M)throw new p.vHH(4005,Nn&&"Invalid number of '../'");$=M.segments.length}return new Pn(M,!1,$-J)}(m,M+(Dr(v.commands[0])?0:1),v.numberOfDoubleDots)}(J,_,v.snapshot?._urlSegment,Ct),cn=Yt.processChildren?ht(Yt.segmentGroup,Yt.index,J.commands):fn(Yt.segmentGroup,Yt.index,J.commands);return zr(_.root,Yt.segmentGroup,cn,M,$)}(v.snapshot?._lastPathIndex)}function Dr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function bi(v){return"object"==typeof v&&null!=v&&v.outlets}function zr(v,_,m,M,$){let re,J={};M&&_n(M,(Ct,Yt)=>{J[Yt]=Array.isArray(Ct)?Ct.map(cn=>`${cn}`):`${Ct}`}),re=v===_?m:Bi(v,_,m);const Ue=ke(St(re));return new An(Ue,J,$)}function Bi(v,_,m){const M={};return _n(v.children,($,J)=>{M[J]=$===_?m:Bi($,_,m)}),new Jt(v.segments,M)}class Gr{constructor(_,m,M){if(this.isAbsolute=_,this.numberOfDoubleDots=m,this.commands=M,_&&M.length>0&&Dr(M[0]))throw new p.vHH(4003,Nn&&"Root segment cannot have matrix parameters");const $=M.find(bi);if($&&$!==kr(M))throw new p.vHH(4004,Nn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pn{constructor(_,m,M){this.segmentGroup=_,this.processChildren=m,this.index=M}}function fn(v,_,m){if(v||(v=new Jt([],{})),0===v.segments.length&&v.hasChildren())return ht(v,_,m);const M=function we(v,_,m){let M=0,$=_;const J={match:!1,pathIndex:0,commandIndex:0};for(;$<v.segments.length;){if(M>=m.length)return J;const re=v.segments[$],Ue=m[M];if(bi(Ue))break;const Ct=`${Ue}`,Yt=M<m.length-1?m[M+1]:null;if($>0&&void 0===Ct)break;if(Ct&&Yt&&"object"==typeof Yt&&void 0===Yt.outlets){if(!bt(Ct,Yt,re))return J;M+=2}else{if(!bt(Ct,{},re))return J;M++}$++}return{match:!0,pathIndex:$,commandIndex:M}}(v,_,m),$=m.slice(M.commandIndex);if(M.match&&M.pathIndex<v.segments.length){const J=new Jt(v.segments.slice(0,M.pathIndex),{});return J.children[Tt]=new Jt(v.segments.slice(M.pathIndex),v.children),ht(J,0,$)}return M.match&&0===$.length?new Jt(v.segments,{}):M.match&&!v.hasChildren()?Ae(v,_,m):M.match?ht(v,0,$):Ae(v,_,m)}function ht(v,_,m){if(0===m.length)return new Jt(v.segments,{});{const M=function Qe(v){return bi(v[0])?v[0].outlets:{[Tt]:v}}(m),$={};if(!M[Tt]&&v.children[Tt]&&1===v.numberOfChildren&&0===v.children[Tt].segments.length){const J=ht(v.children[Tt],_,m);return new Jt(v.segments,J.children)}return _n(M,(J,re)=>{"string"==typeof J&&(J=[J]),null!==J&&($[re]=fn(v.children[re],_,J))}),_n(v.children,(J,re)=>{void 0===M[re]&&($[re]=J)}),new Jt(v.segments,$)}}function Ae(v,_,m){const M=v.segments.slice(0,_);let $=0;for(;$<m.length;){const J=m[$];if(bi(J)){const Ct=De(J.outlets);return new Jt(M,Ct)}if(0===$&&Dr(m[0])){M.push(new Zt(v.segments[_].path,ut(m[0]))),$++;continue}const re=bi(J)?J.outlets[Tt]:`${J}`,Ue=$<m.length-1?m[$+1]:null;re&&Ue&&Dr(Ue)?(M.push(new Zt(re,ut(Ue))),$+=2):(M.push(new Zt(re,{})),$++)}return new Jt(M,{})}function De(v){const _={};return _n(v,(m,M)=>{"string"==typeof m&&(m=[m]),null!==m&&(_[M]=Ae(new Jt([],{}),0,m))}),_}function ut(v){const _={};return _n(v,(m,M)=>_[M]=`${m}`),_}function bt(v,_,m){return v==m.path&&nn(_,m.parameters)}const yn="imperative";class xn{constructor(_,m){this.id=_,this.url=m}}class bn extends xn{constructor(_,m,M="imperative",$=null){super(_,m),this.type=0,this.navigationTrigger=M,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bn extends xn{constructor(_,m,M){super(_,m),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gi extends xn{constructor(_,m,M,$){super(_,m),this.reason=M,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jr extends xn{constructor(_,m,M,$){super(_,m),this.reason=M,this.code=$,this.type=16}}class Xr extends xn{constructor(_,m,M,$){super(_,m),this.error=M,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ii extends xn{constructor(_,m,M,$){super(_,m),this.urlAfterRedirects=M,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends xn{constructor(_,m,M,$){super(_,m),this.urlAfterRedirects=M,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends xn{constructor(_,m,M,$,J){super(_,m),this.urlAfterRedirects=M,this.state=$,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $i extends xn{constructor(_,m,M,$){super(_,m),this.urlAfterRedirects=M,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends xn{constructor(_,m,M,$){super(_,m),this.urlAfterRedirects=M,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class is{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hs{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fs{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(_,m,M){this.routerEvent=_,this.position=m,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ds=(()=>{class v{createUrlTree(m,M,$,J,re,Ue){return qr(m||M.root,$,J,re,Ue)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),_r=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(_){return Ds.\u0275fac(_)},providedIn:"root"}),v})();class Ai{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const m=this.pathFromRoot(_);return m.length>1?m[m.length-2]:null}children(_){const m=gs(_,this._root);return m?m.children.map(M=>M.value):[]}firstChild(_){const m=gs(_,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(_){const m=mi(_,this._root);return m.length<2?[]:m[m.length-2].children.map($=>$.value).filter($=>$!==_)}pathFromRoot(_){return mi(_,this._root).map(m=>m.value)}}function gs(v,_){if(v===_.value)return _;for(const m of _.children){const M=gs(v,m);if(M)return M}return null}function mi(v,_){if(v===_.value)return[_];for(const m of _.children){const M=mi(v,m);if(M.length)return M.unshift(_),M}return[]}class qi{constructor(_,m){this.value=_,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ki(v){const _={};return v&&v.children.forEach(m=>_[m.value.outlet]=m),_}class Ys extends Ai{constructor(_,m){super(_),this.snapshot=m,Ts(this,_)}toString(){return this.snapshot.toString()}}function Fo(v,_){const m=function Zo(v,_){const re=new po([],{},{},"",{},Tt,_,null,v.root,-1,{});return new ji("",new qi(re,[]))}(v,_),M=new ve([new Zt("",{})]),$=new ve({}),J=new ve({}),re=new ve({}),Ue=new ve(""),Ct=new Os(M,$,re,Ue,J,Tt,_,m.root);return Ct.snapshot=m.root,new Ys(new qi(Ct,[]),m)}class Os{constructor(_,m,M,$,J,re,Ue,Ct){this.url=_,this.params=m,this.queryParams=M,this.fragment=$,this.data=J,this.outlet=re,this.component=Ue,this.title=this.data?.pipe((0,Ot.U)(Yt=>Yt[Wn]))??(0,A.of)(void 0),this._futureSnapshot=Ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(_=>Rn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(_=>Rn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ms(v,_="emptyOnly"){const m=v.pathFromRoot;let M=0;if("always"!==_)for(M=m.length-1;M>=1;){const $=m[M],J=m[M-1];if($.routeConfig&&""===$.routeConfig.path)M--;else{if(J.component)break;M--}}return function ss(v){return v.reduce((_,m)=>({params:{..._.params,...m.params},data:{..._.data,...m.data},resolve:{...m.data,..._.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(M))}class po{get title(){return this.data?.[Wn]}constructor(_,m,M,$,J,re,Ue,Ct,Yt,cn,Vr){this.url=_,this.params=m,this.queryParams=M,this.fragment=$,this.data=J,this.outlet=re,this.component=Ue,this.routeConfig=Ct,this._urlSegment=Yt,this._lastPathIndex=cn,this._resolve=Vr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends Ai{constructor(_,m){super(m),this.url=_,Ts(this,m)}toString(){return Ss(this._root)}}function Ts(v,_){_.value._routerState=v,_.children.forEach(m=>Ts(v,m))}function Ss(v){const _=v.children.length>0?` { ${v.children.map(Ss).join(", ")} } `:"";return`${v.value}${_}`}function Ns(v){if(v.snapshot){const _=v.snapshot,m=v._futureSnapshot;v.snapshot=m,nn(_.queryParams,m.queryParams)||v.queryParams.next(m.queryParams),_.fragment!==m.fragment&&v.fragment.next(m.fragment),nn(_.params,m.params)||v.params.next(m.params),function Lt(v,_){if(v.length!==_.length)return!1;for(let m=0;m<v.length;++m)if(!nn(v[m],_[m]))return!1;return!0}(_.url,m.url)||v.url.next(m.url),nn(_.data,m.data)||v.data.next(m.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Qs(v,_){const m=nn(v.params,_.params)&&function kn(v,_){return jn(v,_)&&v.every((m,M)=>nn(m.parameters,_[M].parameters))}(v.url,_.url);return m&&!(!v.parent!=!_.parent)&&(!v.parent||Qs(v.parent,_.parent))}function os(v,_,m){if(m&&v.shouldReuseRoute(_.value,m.value.snapshot)){const M=m.value;M._futureSnapshot=_.value;const $=function $s(v,_,m){return _.children.map(M=>{for(const $ of m.children)if(v.shouldReuseRoute(M.value,$.value.snapshot))return os(v,M,$);return os(v,M)})}(v,_,m);return new qi(M,$)}{if(v.shouldAttach(_.value)){const J=v.retrieve(_.value);if(null!==J){const re=J.route;return re.value._futureSnapshot=_.value,re.children=_.children.map(Ue=>os(v,Ue)),re}}const M=function as(v){return new Os(new ve(v.url),new ve(v.params),new ve(v.queryParams),new ve(v.fragment),new ve(v.data),v.outlet,v.component,v)}(_.value),$=_.children.map(J=>os(v,J));return new qi(M,$)}}const js="ngNavigationCancelingError";function Zi(v,_){const{redirectTo:m,navigationBehaviorOptions:M}=pn(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,$=ys(!1,0,_);return $.url=m,$.navigationBehaviorOptions=M,$}function ys(v,_,m){const M=new Error("NavigationCancelingError: "+(v||""));return M[js]=!0,M.cancellationCode=_,m&&(M.url=m),M}function go(v){return vs(v)&&pn(v.url)}function vs(v){return v&&v[js]}class Yi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new xs,this.attachRef=null}}let xs=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,M){const $=this.getOrCreateContext(m);$.outlet=M,this.contexts.set(m,$)}onChildOutletDestroyed(m){const M=this.getContext(m);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let M=this.getContext(m);return M||(M=new Yi,this.contexts.set(m,M)),M}getContext(m){return this.contexts.get(m)||null}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Js=!1;let Qi=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(xs),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:M,previousValue:$}=m.name;if(M)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Js);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Js);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Js);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,M){this.activated=m,this._activatedRoute=M,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,M){if(this.isActivated)throw new p.vHH(4013,Js);this._activatedRoute=m;const $=this.location,re=m.snapshot.component,Ue=this.parentContexts.getOrCreateContext(this.name).children,Ct=new Hi(m,Ue,$.injector);if(M&&function jr(v){return!!v.resolveComponentFactory}(M)){const Yt=M.resolveComponentFactory(re);this.activated=$.createComponent(Yt,$.length,Ct)}else this.activated=$.createComponent(re,{index:$.length,injector:Ct,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),v})();class Hi{constructor(_,m,M){this.route=_,this.childContexts=m,this.parent=M}get(_,m){return _===Os?this.route:_===xs?this.childContexts:this.parent.get(_,m)}}let us=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,M){1&m&&p._UZ(0,"router-outlet")},dependencies:[Qi],encapsulation:2}),v})();function _s(v,_){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function Ms(v){const _=v.children&&v.children.map(Ms),m=_?{...v,children:_}:{...v};return!m.component&&!m.loadComponent&&(_||m.loadChildren)&&m.outlet&&m.outlet!==Tt&&(m.component=us),m}function hi(v){return v.outlet||Tt}function Lo(v,_){const m=v.filter(M=>hi(M)===_);return m.push(...v.filter(M=>hi(M)!==_)),m}function yi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const m=_.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ci{constructor(_,m,M,$){this.routeReuseStrategy=_,this.futureState=m,this.currState=M,this.forwardEvent=$}activate(_){const m=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,M,_),Ns(this.futureState.root),this.activateChildRoutes(m,M,_)}deactivateChildRoutes(_,m,M){const $=Ki(m);_.children.forEach(J=>{const re=J.value.outlet;this.deactivateRoutes(J,$[re],M),delete $[re]}),_n($,(J,re)=>{this.deactivateRouteAndItsChildren(J,M)})}deactivateRoutes(_,m,M){const $=_.value,J=m?m.value:null;if($===J)if($.component){const re=M.getContext($.outlet);re&&this.deactivateChildRoutes(_,m,re.children)}else this.deactivateChildRoutes(_,m,M);else J&&this.deactivateRouteAndItsChildren(m,M)}deactivateRouteAndItsChildren(_,m){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,m):this.deactivateRouteAndOutlet(_,m)}detachAndStoreRouteSubtree(_,m){const M=m.getContext(_.value.outlet),$=M&&_.value.component?M.children:m,J=Ki(_);for(const re of Object.keys(J))this.deactivateRouteAndItsChildren(J[re],$);if(M&&M.outlet){const re=M.outlet.detach(),Ue=M.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:re,route:_,contexts:Ue})}}deactivateRouteAndOutlet(_,m){const M=m.getContext(_.value.outlet),$=M&&_.value.component?M.children:m,J=Ki(_);for(const re of Object.keys(J))this.deactivateRouteAndItsChildren(J[re],$);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(_,m,M){const $=Ki(m);_.children.forEach(J=>{this.activateRoutes(J,$[J.value.outlet],M),this.forwardEvent(new li(J.value.snapshot))}),_.children.length&&this.forwardEvent(new si(_.value.snapshot))}activateRoutes(_,m,M){const $=_.value,J=m?m.value:null;if(Ns($),$===J)if($.component){const re=M.getOrCreateContext($.outlet);this.activateChildRoutes(_,m,re.children)}else this.activateChildRoutes(_,m,M);else if($.component){const re=M.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Ue=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),re.children.onOutletReAttached(Ue.contexts),re.attachRef=Ue.componentRef,re.route=Ue.route.value,re.outlet&&re.outlet.attach(Ue.componentRef,Ue.route.value),Ns(Ue.route.value),this.activateChildRoutes(_,null,re.children)}else{const Ue=yi($.snapshot),Ct=Ue?.get(p._Vd)??null;re.attachRef=null,re.route=$,re.resolver=Ct,re.injector=Ue,re.outlet&&re.outlet.activateWith($,re.injector),this.activateChildRoutes(_,null,re.children)}}else this.activateChildRoutes(_,null,M)}}class Hn{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Xs{constructor(_,m){this.component=_,this.route=m}}function Z(v,_,m){const M=v._root;return be(M,_?_._root:null,m,[M.value])}function pe(v,_){const m=Symbol(),M=_.get(v,m);return M===m?"function"!=typeof v||(0,p.Z0I)(v)?_.get(v):v:M}function be(v,_,m,M,$={canDeactivateChecks:[],canActivateChecks:[]}){const J=Ki(_);return v.children.forEach(re=>{(function $e(v,_,m,M,$={canDeactivateChecks:[],canActivateChecks:[]}){const J=v.value,re=_?_.value:null,Ue=m?m.getContext(v.value.outlet):null;if(re&&J.routeConfig===re.routeConfig){const Ct=function vt(v,_,m){if("function"==typeof m)return m(v,_);switch(m){case"pathParamsChange":return!jn(v.url,_.url);case"pathParamsOrQueryParamsChange":return!jn(v.url,_.url)||!nn(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qs(v,_)||!nn(v.queryParams,_.queryParams);default:return!Qs(v,_)}}(re,J,J.routeConfig.runGuardsAndResolvers);Ct?$.canActivateChecks.push(new Hn(M)):(J.data=re.data,J._resolvedData=re._resolvedData),be(v,_,J.component?Ue?Ue.children:null:m,M,$),Ct&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&$.canDeactivateChecks.push(new Xs(Ue.outlet.component,re))}else re&&Vt(_,Ue,$),$.canActivateChecks.push(new Hn(M)),be(v,null,J.component?Ue?Ue.children:null:m,M,$)})(re,J[re.value.outlet],m,M.concat([re.value]),$),delete J[re.value.outlet]}),_n(J,(re,Ue)=>Vt(re,m.getContext(Ue),$)),$}function Vt(v,_,m){const M=Ki(v),$=v.value;_n(M,(J,re)=>{Vt(J,$.component?_?_.children.getContext(re):null:_,m)}),m.canDeactivateChecks.push(new Xs($.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,$))}function D(v){return"function"==typeof v}function br(v){return v instanceof Ie.K||"EmptyError"===v?.name}const vi=Symbol("INITIAL_VALUE");function Kr(){return(0,Nt.w)(v=>wt(v.map(_=>_.pipe((0,gr.q)(1),(0,Ze.O)(vi)))).pipe((0,Ot.U)(_=>{for(const m of _)if(!0!==m){if(m===vi)return vi;if(!1===m||m instanceof An)return m}return!0}),(0,Ne.h)(_=>_!==vi),(0,gr.q)(1)))}function Vo(v){return(0,it.z)((0,rt.b)(_=>{if(pn(_))throw Zi(0,_)}),(0,Ot.U)(_=>!0===_))}const Fi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _o(v,_,m,M,$){const J=Nr(v,_,m);return J.matched?function _i(v,_,m,M){const $=_.canMatch;if(!$||0===$.length)return(0,A.of)(!0);const J=$.map(re=>{const Ue=pe(re,v);return wn(function Fn(v){return v&&D(v.canMatch)}(Ue)?Ue.canMatch(_,m):v.runInContext(()=>Ue(_,m)))});return(0,A.of)(J).pipe(Kr(),Vo())}(M=_s(_,M),_,m).pipe((0,Ot.U)(re=>!0===re?J:{...Fi})):(0,A.of)(J)}function Nr(v,_,m){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||m.length>0)?{...Fi}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const $=(_.matcher||ln)(m,v,_);if(!$)return{...Fi};const J={};_n($.posParams,(Ue,Ct)=>{J[Ct]=Ue.path});const re=$.consumed.length>0?{...J,...$.consumed[$.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:$.consumed,remainingSegments:m.slice($.consumed.length),parameters:re,positionalParamSegments:$.posParams??{}}}function Co(v,_,m,M){if(m.length>0&&function na(v,_,m){return m.some(M=>Fs(v,_,M)&&hi(M)!==Tt)}(v,m,M)){const J=new Jt(_,function Ji(v,_,m,M){const $={};$[Tt]=M,M._sourceSegment=v,M._segmentIndexShift=_.length;for(const J of m)if(""===J.path&&hi(J)!==Tt){const re=new Jt([],{});re._sourceSegment=v,re._segmentIndexShift=_.length,$[hi(J)]=re}return $}(v,_,M,new Jt(m,v.children)));return J._sourceSegment=v,J._segmentIndexShift=_.length,{segmentGroup:J,slicedSegments:[]}}if(0===m.length&&function Do(v,_,m){return m.some(M=>Fs(v,_,M))}(v,m,M)){const J=new Jt(v.segments,function ta(v,_,m,M,$){const J={};for(const re of M)if(Fs(v,m,re)&&!$[hi(re)]){const Ue=new Jt([],{});Ue._sourceSegment=v,Ue._segmentIndexShift=_.length,J[hi(re)]=Ue}return{...$,...J}}(v,_,m,M,v.children));return J._sourceSegment=v,J._segmentIndexShift=_.length,{segmentGroup:J,slicedSegments:m}}const $=new Jt(v.segments,v.children);return $._sourceSegment=v,$._segmentIndexShift=_.length,{segmentGroup:$,slicedSegments:m}}function Fs(v,_,m){return(!(v.hasChildren()||_.length>0)||"full"!==m.pathMatch)&&""===m.path}function To(v,_,m,M){return!!(hi(v)===M||M!==Tt&&Fs(_,m,v))&&("**"===v.path||Nr(_,v,m).matched)}function zs(v,_,m){return 0===_.length&&!v.children[m]}const Xi=!1;class Gi{constructor(_){this.segmentGroup=_||null}}class Tr{constructor(_){this.urlTree=_}}function Li(v){return pt(new Gi(v))}function Zr(v){return pt(new Tr(v))}class Yo{constructor(_,m,M,$,J){this.injector=_,this.configLoader=m,this.urlSerializer=M,this.urlTree=$,this.config=J,this.allowRedirects=!0}apply(){const _=Co(this.urlTree.root,[],[],this.config).segmentGroup,m=new Jt(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,m,Tt).pipe((0,Ot.U)(J=>this.createUrlTree(St(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(He(J=>{if(J instanceof Tr)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof Gi?this.noMatchError(J):J}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,Tt).pipe((0,Ot.U)($=>this.createUrlTree(St($),_.queryParams,_.fragment))).pipe(He($=>{throw $ instanceof Gi?this.noMatchError($):$}))}noMatchError(_){return new p.vHH(4002,Xi)}createUrlTree(_,m,M){const $=ke(_);return new An($,m,M)}expandSegmentGroup(_,m,M,$){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(_,m,M).pipe((0,Ot.U)(J=>new Jt([],J))):this.expandSegment(_,M,m,M.segments,$,!0)}expandChildren(_,m,M){const $=[];for(const J of Object.keys(M.children))"primary"===J?$.unshift(J):$.push(J);return(0,V.D)($).pipe(dt(J=>{const re=M.children[J],Ue=Lo(m,J);return this.expandSegmentGroup(_,Ue,re,J).pipe((0,Ot.U)(Ct=>({segment:Ct,outlet:J})))}),(0,Pt.R)((J,re)=>(J[re.outlet]=re.segment,J),{}),mn())}expandSegment(_,m,M,$,J,re){return(0,V.D)(M).pipe(dt(Ue=>this.expandSegmentAgainstRoute(_,m,M,Ue,$,J,re).pipe(He(Yt=>{if(Yt instanceof Gi)return(0,A.of)(null);throw Yt}))),(0,tt.P)(Ue=>!!Ue),He((Ue,Ct)=>{if(br(Ue))return zs(m,$,J)?(0,A.of)(new Jt([],{})):Li(m);throw Ue}))}expandSegmentAgainstRoute(_,m,M,$,J,re,Ue){return To($,m,J,re)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(_,m,$,J,re):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,m,M,$,J,re):Li(m):Li(m)}expandSegmentAgainstRouteUsingRedirect(_,m,M,$,J,re){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,M,$,re):this.expandRegularSegmentAgainstRouteUsingRedirect(_,m,M,$,J,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,m,M,$){const J=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Zr(J):this.lineralizeSegments(M,J).pipe((0,je.z)(re=>{const Ue=new Jt(re,{});return this.expandSegment(_,Ue,m,re,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,m,M,$,J,re){const{matched:Ue,consumedSegments:Ct,remainingSegments:Yt,positionalParamSegments:cn}=Nr(m,$,J);if(!Ue)return Li(m);const Vr=this.applyRedirectCommands(Ct,$.redirectTo,cn);return $.redirectTo.startsWith("/")?Zr(Vr):this.lineralizeSegments($,Vr).pipe((0,je.z)(Ei=>this.expandSegment(_,m,M,Ei.concat(Yt),re,!1)))}matchSegmentAgainstRoute(_,m,M,$,J){return"**"===M.path?(_=_s(M,_),M.loadChildren?(M._loadedRoutes?(0,A.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(_,M)).pipe((0,Ot.U)(Ue=>(M._loadedRoutes=Ue.routes,M._loadedInjector=Ue.injector,new Jt($,{})))):(0,A.of)(new Jt($,{}))):_o(m,M,$,_).pipe((0,Nt.w)(({matched:re,consumedSegments:Ue,remainingSegments:Ct})=>re?this.getChildConfig(_=M._injector??_,M,$).pipe((0,je.z)(cn=>{const Vr=cn.injector??_,Ei=cn.routes,{segmentGroup:zo,slicedSegments:Ks}=Co(m,Ue,Ct,Ei),Ao=new Jt(zo.segments,zo.children);if(0===Ks.length&&Ao.hasChildren())return this.expandChildren(Vr,Ei,Ao).pipe((0,Ot.U)(tl=>new Jt(Ue,tl)));if(0===Ei.length&&0===Ks.length)return(0,A.of)(new Jt(Ue,{}));const ei=hi(M)===J;return this.expandSegment(Vr,Ao,Ei,Ks,ei?Tt:J,!0).pipe((0,Ot.U)(Eo=>new Jt(Ue.concat(Eo.segments),Eo.children)))})):Li(m)))}getChildConfig(_,m,M){return m.children?(0,A.of)({routes:m.children,injector:_}):m.loadChildren?void 0!==m._loadedRoutes?(0,A.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function ga(v,_,m,M){const $=_.canLoad;if(void 0===$||0===$.length)return(0,A.of)(!0);const J=$.map(re=>{const Ue=pe(re,v);return wn(function P(v){return v&&D(v.canLoad)}(Ue)?Ue.canLoad(_,m):v.runInContext(()=>Ue(_,m)))});return(0,A.of)(J).pipe(Kr(),Vo())}(_,m,M).pipe((0,je.z)($=>$?this.configLoader.loadChildren(_,m).pipe((0,rt.b)(J=>{m._loadedRoutes=J.routes,m._loadedInjector=J.injector})):function Gs(v){return pt(ys(Xi,3))}())):(0,A.of)({routes:[],injector:_})}lineralizeSegments(_,m){let M=[],$=m.root;for(;;){if(M=M.concat($.segments),0===$.numberOfChildren)return(0,A.of)(M);if($.numberOfChildren>1||!$.children[Tt])return _.redirectTo,pt(new p.vHH(4e3,Xi));$=$.children[Tt]}}applyRedirectCommands(_,m,M){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),_,M)}applyRedirectCreateUrlTree(_,m,M,$){const J=this.createSegmentGroup(_,m.root,M,$);return new An(J,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(_,m){const M={};return _n(_,($,J)=>{if("string"==typeof $&&$.startsWith(":")){const Ue=$.substring(1);M[J]=m[Ue]}else M[J]=$}),M}createSegmentGroup(_,m,M,$){const J=this.createSegments(_,m.segments,M,$);let re={};return _n(m.children,(Ue,Ct)=>{re[Ct]=this.createSegmentGroup(_,Ue,M,$)}),new Jt(J,re)}createSegments(_,m,M,$){return m.map(J=>J.path.startsWith(":")?this.findPosParam(_,J,$):this.findOrReturn(J,M))}findPosParam(_,m,M){const $=M[m.path.substring(1)];if(!$)throw new p.vHH(4001,Xi);return $}findOrReturn(_,m){let M=0;for(const $ of m){if($.path===_.path)return m.splice(M),$;M++}return _}}class Ls{}class O{constructor(_,m,M,$,J,re,Ue){this.injector=_,this.rootComponentType=m,this.config=M,this.urlTree=$,this.url=J,this.paramsInheritanceStrategy=re,this.urlSerializer=Ue}recognize(){const _=Co(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,Tt).pipe((0,Ot.U)(m=>{if(null===m)return null;const M=new po([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new qi(M,m),J=new ji(this.url,$);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(_){const m=_.value,M=ms(m,this.paramsInheritanceStrategy);m.params=Object.freeze(M.params),m.data=Object.freeze(M.data),_.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(_,m,M,$){return 0===M.segments.length&&M.hasChildren()?this.processChildren(_,m,M):this.processSegment(_,m,M,M.segments,$)}processChildren(_,m,M){return(0,V.D)(Object.keys(M.children)).pipe(dt($=>{const J=M.children[$],re=Lo(m,$);return this.processSegmentGroup(_,re,J,$)}),(0,Pt.R)(($,J)=>$&&J?($.push(...J),$):null),function hn(v,_=!1){return(0,ce.e)((m,M)=>{let $=0;m.subscribe((0,nt.x)(M,J=>{const re=v(J,$++);(re||_)&&M.next(J),!re&&M.complete()}))})}($=>null!==$),(0,Ft.d)(null),mn(),(0,Ot.U)($=>{if(null===$)return null;const J=ye($);return function z(v){v.sort((_,m)=>_.value.outlet===Tt?-1:m.value.outlet===Tt?1:_.value.outlet.localeCompare(m.value.outlet))}(J),J}))}processSegment(_,m,M,$,J){return(0,V.D)(m).pipe(dt(re=>this.processSegmentAgainstRoute(re._injector??_,re,M,$,J)),(0,tt.P)(re=>!!re),He(re=>{if(br(re))return zs(M,$,J)?(0,A.of)([]):(0,A.of)(null);throw re}))}processSegmentAgainstRoute(_,m,M,$,J){if(m.redirectTo||!To(m,M,$,J))return(0,A.of)(null);let re;if("**"===m.path){const Ue=$.length>0?kr($).parameters:{},Ct=C(M)+$.length,Yt=new po($,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,he(m),hi(m),m.component??m._loadedComponent??null,m,E(M),Ct,Ge(m));re=(0,A.of)({snapshot:Yt,consumedSegments:[],remainingSegments:[]})}else re=_o(M,m,$,_).pipe((0,Ot.U)(({matched:Ue,consumedSegments:Ct,remainingSegments:Yt,parameters:cn})=>{if(!Ue)return null;const Vr=C(M)+Ct.length;return{snapshot:new po(Ct,cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,he(m),hi(m),m.component??m._loadedComponent??null,m,E(M),Vr,Ge(m)),consumedSegments:Ct,remainingSegments:Yt}}));return re.pipe((0,Nt.w)(Ue=>{if(null===Ue)return(0,A.of)(null);const{snapshot:Ct,consumedSegments:Yt,remainingSegments:cn}=Ue;_=m._injector??_;const Vr=m._loadedInjector??_,Ei=function F(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(m),{segmentGroup:zo,slicedSegments:Ks}=Co(M,Yt,cn,Ei.filter(ei=>void 0===ei.redirectTo));if(0===Ks.length&&zo.hasChildren())return this.processChildren(Vr,Ei,zo).pipe((0,Ot.U)(ei=>null===ei?null:[new qi(Ct,ei)]));if(0===Ei.length&&0===Ks.length)return(0,A.of)([new qi(Ct,[])]);const Ao=hi(m)===J;return this.processSegment(Vr,Ei,zo,Ks,Ao?Tt:J).pipe((0,Ot.U)(ei=>null===ei?null:[new qi(Ct,ei)]))}))}}function ee(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function ye(v){const _=[],m=new Set;for(const M of v){if(!ee(M)){_.push(M);continue}const $=_.find(J=>M.value.routeConfig===J.value.routeConfig);void 0!==$?($.children.push(...M.children),m.add($)):_.push(M)}for(const M of m){const $=ye(M.children);_.push(new qi(M.value,$))}return _.filter(M=>!m.has(M))}function E(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function C(v){let _=v,m=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,m+=_._segmentIndexShift??0;return m-1}function he(v){return v.data||{}}function Ge(v){return v.resolve||{}}function vn(v){return"string"==typeof v.title||null===v.title}function Wi(v){return(0,Nt.w)(_=>{const m=v(_);return m?(0,V.D)(m).pipe((0,Ot.U)(()=>_)):(0,A.of)(_)})}const qe=new p.OlP("ROUTES");let Dt=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,A.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const M=wn(m.loadComponent()).pipe((0,Ot.U)(Ra),(0,rt.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=J}),tr(()=>{this.componentLoaders.delete(m)})),$=new tn(M,()=>new Se.x).pipe(kt());return this.componentLoaders.set(m,$),$}loadChildren(m,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,A.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const J=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Ot.U)(Ue=>{this.onLoadEndListener&&this.onLoadEndListener(M);let Ct,Yt,cn=!1;Array.isArray(Ue)?Yt=Ue:(Ct=Ue.create(m).injector,Yt=dr(Ct.get(qe,[],p.XFs.Self|p.XFs.Optional)));return{routes:Yt.map(Ms),injector:Ct}}),tr(()=>{this.childrenLoaders.delete(M)})),re=new tn(J,()=>new Se.x).pipe(kt());return this.childrenLoaders.set(M,re),re}loadModuleFactoryOrRoutes(m){return wn(m()).pipe((0,Ot.U)(Ra),(0,je.z)(M=>M instanceof p.YKP||Array.isArray(M)?(0,A.of)(M):(0,V.D)(this.compiler.compileModuleAsync(M))))}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Ra(v){return function Vi(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Pa=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Se.x,this.configLoader=(0,p.f3M)(Dt),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(sr),this.rootContexts=(0,p.f3M)(xs),this.navigationId=0,this.afterPreactivation=()=>(0,A.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new hs($)),this.configLoader.onLoadStartListener=$=>this.events.next(new is($))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:M})}setupNavigations(m){return this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ne.h)(M=>0!==M.id),(0,Ot.U)(M=>({...M,extractedUrl:m.urlHandlingStrategy.extract(M.rawUrl)})),(0,Nt.w)(M=>{let $=!1,J=!1;return(0,A.of)(M).pipe((0,rt.b)(re=>{this.currentNavigation={id:re.id,initialUrl:re.rawUrl,extractedUrl:re.extractedUrl,trigger:re.source,extras:re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Nt.w)(re=>{const Ue=m.browserUrlTree.toString(),Ct=!m.navigated||re.extractedUrl.toString()!==Ue||Ue!==m.currentUrlTree.toString();if(!Ct&&"reload"!==(re.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const cn="";return this.events.next(new Jr(re.id,m.serializeUrl(M.rawUrl),cn,0)),m.rawUrlTree=re.rawUrl,re.resolve(null),It.E}if(m.urlHandlingStrategy.shouldProcessUrl(re.rawUrl))return lu(re.source)&&(m.browserUrlTree=re.extractedUrl),(0,A.of)(re).pipe((0,Nt.w)(cn=>{const Vr=this.transitions?.getValue();return this.events.next(new bn(cn.id,this.urlSerializer.serialize(cn.extractedUrl),cn.source,cn.restoredState)),Vr!==this.transitions?.getValue()?It.E:Promise.resolve(cn)}),function xa(v,_,m,M){return(0,Nt.w)($=>function ra(v,_,m,M,$){return new Yo(v,_,m,M,$).apply()}(v,_,m,$.extractedUrl,M).pipe((0,Ot.U)(J=>({...$,urlAfterRedirects:J}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,rt.b)(cn=>{this.currentNavigation={...this.currentNavigation,finalUrl:cn.urlAfterRedirects},M.urlAfterRedirects=cn.urlAfterRedirects}),function Bt(v,_,m,M,$){return(0,je.z)(J=>function Ma(v,_,m,M,$,J,re="emptyOnly"){return new O(v,_,m,M,$,re,J).recognize().pipe((0,Nt.w)(Ue=>null===Ue?function ma(v){return new Me.y(_=>_.error(v))}(new Ls):(0,A.of)(Ue)))}(v,_,m,J.urlAfterRedirects,M.serialize(J.urlAfterRedirects),M,$).pipe((0,Ot.U)(re=>({...J,targetSnapshot:re}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,rt.b)(cn=>{if(M.targetSnapshot=cn.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!cn.extras.skipLocationChange){const Ei=m.urlHandlingStrategy.merge(cn.urlAfterRedirects,cn.rawUrl);m.setBrowserUrl(Ei,cn)}m.browserUrlTree=cn.urlAfterRedirects}const Vr=new ii(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(Vr)}));if(Ct&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:cn,extractedUrl:Vr,source:Ei,restoredState:zo,extras:Ks}=re,Ao=new bn(cn,this.urlSerializer.serialize(Vr),Ei,zo);this.events.next(Ao);const ei=Fo(Vr,this.rootComponentType).snapshot;return M={...re,targetSnapshot:ei,urlAfterRedirects:Vr,extras:{...Ks,skipLocationChange:!1,replaceUrl:!1}},(0,A.of)(M)}{const cn="";return this.events.next(new Jr(re.id,m.serializeUrl(M.extractedUrl),cn,1)),m.rawUrlTree=re.rawUrl,re.resolve(null),It.E}}),(0,rt.b)(re=>{const Ue=new Lr(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot);this.events.next(Ue)}),(0,Ot.U)(re=>M={...re,guards:Z(re.targetSnapshot,re.currentSnapshot,this.rootContexts)}),function Or(v,_){return(0,je.z)(m=>{const{targetSnapshot:M,currentSnapshot:$,guards:{canActivateChecks:J,canDeactivateChecks:re}}=m;return 0===re.length&&0===J.length?(0,A.of)({...m,guardsResult:!0}):function mr(v,_,m,M){return(0,V.D)(v).pipe((0,je.z)($=>function vo(v,_,m,M,$){const J=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,A.of)(!0);const re=J.map(Ue=>{const Ct=yi(_)??$,Yt=pe(Ue,Ct);return wn(function Ut(v){return v&&D(v.canDeactivate)}(Yt)?Yt.canDeactivate(v,_,m,M):Ct.runInContext(()=>Yt(v,_,m,M))).pipe((0,tt.P)())});return(0,A.of)(re).pipe(Kr())}($.component,$.route,m,_,M)),(0,tt.P)($=>!0!==$,!0))}(re,M,$,v).pipe((0,je.z)(Ue=>Ue&&function R(v){return"boolean"==typeof v}(Ue)?function fi(v,_,m,M){return(0,V.D)(_).pipe(dt($=>(0,ot.z)(function ls(v,_){return null!==v&&_&&_(new fs(v)),(0,A.of)(!0)}($.route.parent,M),function zi(v,_){return null!==v&&_&&_(new bo(v)),(0,A.of)(!0)}($.route,M),function Ti(v,_,m){const M=_[_.length-1],J=_.slice(0,_.length-1).reverse().map(re=>function K(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(re)).filter(re=>null!==re).map(re=>_t(()=>{const Ue=re.guards.map(Ct=>{const Yt=yi(re.node)??m,cn=pe(Ct,Yt);return wn(function Ve(v){return v&&D(v.canActivateChild)}(cn)?cn.canActivateChild(M,v):Yt.runInContext(()=>cn(M,v))).pipe((0,tt.P)())});return(0,A.of)(Ue).pipe(Kr())}));return(0,A.of)(J).pipe(Kr())}(v,$.path,m),function Di(v,_,m){const M=_.routeConfig?_.routeConfig.canActivate:null;if(!M||0===M.length)return(0,A.of)(!0);const $=M.map(J=>_t(()=>{const re=yi(_)??m,Ue=pe(J,re);return wn(function Q(v){return v&&D(v.canActivate)}(Ue)?Ue.canActivate(_,v):re.runInContext(()=>Ue(_,v))).pipe((0,tt.P)())}));return(0,A.of)($).pipe(Kr())}(v,$.route,m))),(0,tt.P)($=>!0!==$,!0))}(M,J,v,_):(0,A.of)(Ue)),(0,Ot.U)(Ue=>({...m,guardsResult:Ue})))})}(this.environmentInjector,re=>this.events.next(re)),(0,rt.b)(re=>{if(M.guardsResult=re.guardsResult,pn(re.guardsResult))throw Zi(0,re.guardsResult);const Ue=new Ri(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot,!!re.guardsResult);this.events.next(Ue)}),(0,Ne.h)(re=>!!re.guardsResult||(m.restoreHistory(re),this.cancelNavigationTransition(re,"",3),!1)),Wi(re=>{if(re.guards.canActivateChecks.length)return(0,A.of)(re).pipe((0,rt.b)(Ue=>{const Ct=new $i(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Ct)}),(0,Nt.w)(Ue=>{let Ct=!1;return(0,A.of)(Ue).pipe(function lt(v,_){return(0,je.z)(m=>{const{targetSnapshot:M,guards:{canActivateChecks:$}}=m;if(!$.length)return(0,A.of)(m);let J=0;return(0,V.D)($).pipe(dt(re=>function Cn(v,_,m,M){const $=v.routeConfig,J=v._resolve;return void 0!==$?.title&&!vn($)&&(J[Wn]=$.title),function ir(v,_,m,M){const $=function ki(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===$.length)return(0,A.of)({});const J={};return(0,V.D)($).pipe((0,je.z)(re=>function qt(v,_,m,M){const $=yi(_)??M,J=pe(v,$);return wn(J.resolve?J.resolve(_,m):$.runInContext(()=>J(_,m)))}(v[re],_,m,M).pipe((0,tt.P)(),(0,rt.b)(Ue=>{J[re]=Ue}))),Tn(1),function Gn(v){return(0,Ot.U)(()=>v)}(J),He(re=>br(re)?It.E:pt(re)))}(J,v,_,M).pipe((0,Ot.U)(re=>(v._resolvedData=re,v.data=ms(v,m).resolve,$&&vn($)&&(v.data[Wn]=$.title),null)))}(re.route,M,v,_)),(0,rt.b)(()=>J++),Tn(1),(0,je.z)(re=>J===$.length?(0,A.of)(m):It.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,rt.b)({next:()=>Ct=!0,complete:()=>{Ct||(m.restoreHistory(Ue),this.cancelNavigationTransition(Ue,"",2))}}))}),(0,rt.b)(Ue=>{const Ct=new Pi(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Ct)}))}),Wi(re=>{const Ue=Ct=>{const Yt=[];Ct.routeConfig?.loadComponent&&!Ct.routeConfig._loadedComponent&&Yt.push(this.configLoader.loadComponent(Ct.routeConfig).pipe((0,rt.b)(cn=>{Ct.component=cn}),(0,Ot.U)(()=>{})));for(const cn of Ct.children)Yt.push(...Ue(cn));return Yt};return wt(Ue(re.targetSnapshot.root)).pipe((0,Ft.d)(),(0,gr.q)(1))}),Wi(()=>this.afterPreactivation()),(0,Ot.U)(re=>{const Ue=function As(v,_,m){const M=os(v,_._root,m?m._root:void 0);return new Ys(M,_)}(m.routeReuseStrategy,re.targetSnapshot,re.currentRouterState);return M={...re,targetRouterState:Ue}}),(0,rt.b)(re=>{m.currentUrlTree=re.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),m.routerState=re.targetRouterState,"deferred"===m.urlUpdateStrategy&&(re.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,re),m.browserUrlTree=re.urlAfterRedirects)}),((v,_,m)=>(0,Ot.U)(M=>(new Ci(_,M.targetRouterState,M.currentRouterState,m).activate(v),M)))(this.rootContexts,m.routeReuseStrategy,re=>this.events.next(re)),(0,gr.q)(1),(0,rt.b)({next:re=>{$=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Bn(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(re.targetRouterState.snapshot),re.resolve(!0)},complete:()=>{$=!0}}),tr(()=>{$||J||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),He(re=>{if(J=!0,vs(re)){go(re)||(m.navigated=!0,m.restoreHistory(M,!0));const Ue=new gi(M.id,this.urlSerializer.serialize(M.extractedUrl),re.message,re.cancellationCode);if(this.events.next(Ue),go(re)){const Ct=m.urlHandlingStrategy.merge(re.url,m.rawUrlTree),Yt={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||lu(M.source)};m.scheduleNavigation(Ct,yn,null,Yt,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{m.restoreHistory(M,!0);const Ue=new Xr(M.id,this.urlSerializer.serialize(M.extractedUrl),re,M.targetSnapshot??void 0);this.events.next(Ue);try{M.resolve(m.errorHandler(re))}catch(Ct){M.reject(Ct)}}return It.E}))}))}cancelNavigationTransition(m,M,$){const J=new gi(m.id,this.urlSerializer.serialize(m.extractedUrl),M,$);this.events.next(J),m.resolve(!1)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function lu(v){return v!==yn}let Ru=(()=>{class v{buildTitle(m){let M,$=m.root;for(;void 0!==$;)M=this.getResolvedTitleForRoute($)??M,$=$.children.find(J=>J.outlet===Tt);return M}getResolvedTitleForRoute(m){return m.data[Wn]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(wo)},providedIn:"root"}),v})(),wo=(()=>{class v extends Ru{constructor(m){super(),this.title=m}updateTitle(m){const M=this.buildTitle(m);void 0!==M&&this.title.setTitle(M)}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(Qt.Dx))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Pl=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(ia)},providedIn:"root"}),v})();class Pu{shouldDetach(_){return!1}store(_,m){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,m){return _.routeConfig===m.routeConfig}}let ia=(()=>{class v extends Pu{}return v.\u0275fac=function(){let _;return function(M){return(_||(_=p.n5z(v)))(M||v)}}(),v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const wi=new p.OlP("",{providedIn:"root",factory:()=>({})});let Qn=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(sa)},providedIn:"root"}),v})(),sa=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,M){return m}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function ai(v){throw v}function On(v,_,m){return _.parse("/")}const oa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ws=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(wi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ai,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||On,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Qn),this.routeReuseStrategy=(0,p.f3M)(Pl),this.urlCreationStrategy=(0,p.f3M)(_r),this.titleStrategy=(0,p.f3M)(Ru),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dr((0,p.f3M)(qe,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Pa),this.urlSerializer=(0,p.f3M)(sr),this.location=(0,p.f3M)(Mt.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const M="popstate"===m.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,M,m.state)},0)}))}navigateToSyncWithBrowser(m,M,$){const J={replaceUrl:!0},re=$?.navigationId?$:null;if($){const Ct={...$};delete Ct.navigationId,delete Ct.\u0275routerPageId,0!==Object.keys(Ct).length&&(J.state=Ct)}const Ue=this.parseUrl(m);this.scheduleNavigation(Ue,M,re,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(Ms),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,M={}){const{relativeTo:$,queryParams:J,fragment:re,queryParamsHandling:Ue,preserveFragment:Ct}=M,Yt=Ct?this.currentUrlTree.fragment:re;let cn=null;switch(Ue){case"merge":cn={...this.currentUrlTree.queryParams,...J};break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=J||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),this.urlCreationStrategy.createUrlTree($,this.routerState,this.currentUrlTree,m,cn,Yt??null)}navigateByUrl(m,M={skipLocationChange:!1}){const $=pn(m)?m:this.parseUrl(m),J=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(J,yn,null,M)}navigate(m,M={skipLocationChange:!1}){return function lr(v){for(let _=0;_<v.length;_++){const m=v[_];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,M),M)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let M;try{M=this.urlSerializer.parse(m)}catch($){M=this.malformedUriErrorHandler($,this.urlSerializer,m)}return M}isActive(m,M){let $;if($=!0===M?{...oa}:!1===M?{...Kn}:M,pn(m))return hr(this.currentUrlTree,m,$);const J=this.parseUrl(m);return hr(this.currentUrlTree,J,$)}removeEmptyProps(m){return Object.keys(m).reduce((M,$)=>{const J=m[$];return null!=J&&(M[$]=J),M},{})}scheduleNavigation(m,M,$,J,re){if(this.disposed)return Promise.resolve(!1);let Ue,Ct,Yt,cn;return re?(Ue=re.resolve,Ct=re.reject,Yt=re.promise):Yt=new Promise((Vr,Ei)=>{Ue=Vr,Ct=Ei}),cn="computed"===this.canceledNavigationResolution?$&&$.\u0275routerPageId?$.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:cn,source:M,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:J,resolve:Ue,reject:Ct,promise:Yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yt.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(m,M){const $=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo($)||M.extras.replaceUrl){const re={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState($,"",re)}else{const J={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.go($,"",J)}}restoreHistory(m,M=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-(this.browserPageId??this.currentPageId);0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,M){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:M}:{navigationId:m}}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),rn=(()=>{class v{constructor(m,M,$,J,re,Ue){this.router=m,this.route=M,this.tabIndexAttribute=$,this.renderer=J,this.el=re,this.locationStrategy=Ue,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Se.x;const Ct=re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ct||"area"===Ct,this.isAnchorElement?this.subscription=m.events.subscribe(Yt=>{Yt instanceof Bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,M,$,J,re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||M||$||J||re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,M){const $=this.renderer,J=this.el.nativeElement;null!==M?$.setAttribute(J,m,M):$.removeAttribute(J,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(m){return new(m||v)(p.Y36(ws),p.Y36(Os),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Mt.S$))},v.\u0275dir=p.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,M){1&m&&p.NdJ("click",function(J){return M.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&m&&p.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})();class eo{}let va=(()=>{class v{constructor(m,M,$,J,re){this.router=m,this.injector=$,this.preloadingStrategy=J,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(m=>m instanceof Bn),dt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,M){const $=[];for(const J of M){J.providers&&!J._injector&&(J._injector=(0,p.MMx)(J.providers,m,`Route: ${J.path}`));const re=J._injector??m,Ue=J._loadedInjector??re;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&$.push(this.preloadConfig(re,J)),(J.children||J._loadedRoutes)&&$.push(this.processRoutes(Ue,J.children??J._loadedRoutes))}return(0,V.D)($).pipe((0,zn.J)())}preloadConfig(m,M){return this.preloadingStrategy.preload(M,()=>{let $;$=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(m,M):(0,A.of)(null);const J=$.pipe((0,je.z)(re=>null===re?(0,A.of)(void 0):(M._loadedRoutes=re.routes,M._loadedInjector=re.injector,this.processRoutes(re.injector??m,re.routes))));if(M.loadComponent&&!M._loadedComponent){const re=this.loader.loadComponent(M);return(0,V.D)([J,re]).pipe((0,zn.J)())}return J})}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(ws),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(eo),p.LFG(Dt))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const _a=new p.OlP("");let aa=(()=>{class v{constructor(m,M,$,J,re={}){this.urlSerializer=m,this.transitions=M,this.viewportScroller=$,this.zone=J,this.options=re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},re.scrollPositionRestoration=re.scrollPositionRestoration||"disabled",re.anchorScrolling=re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Bn&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ci&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ci(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(m){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();var Es=(()=>((Es=Es||{})[Es.COMPLETE=0]="COMPLETE",Es[Es.FAILED=1]="FAILED",Es[Es.REDIRECTING=2]="REDIRECTING",Es))();const to=!1;function Is(v,_){return{\u0275kind:v,\u0275providers:_}}const So=new p.OlP("",{providedIn:"root",factory:()=>!1});function cu(){const v=(0,p.f3M)(p.zs3);return _=>{const m=v.get(p.z2F);if(_!==m.components[0])return;const M=v.get(ws),$=v.get(wa);1===v.get($o)&&M.initialNavigation(),v.get(Nu,null,p.XFs.Optional)?.setUpPreloading(),v.get(_a,null,p.XFs.Optional)?.init(),M.resetRootComponentType(m.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const wa=new p.OlP(to?"bootstrap done indicator":"",{factory:()=>new Se.x}),$o=new p.OlP(to?"initial navigation":"",{providedIn:"root",factory:()=>1});function Nl(){let v=[];return v=to?[{provide:p.Xts,multi:!0,useFactory:()=>{const _=(0,p.f3M)(ws);return()=>_.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function Oi(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 16:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],Is(1,v)}const Nu=new p.OlP(to?"router preloader":"");function Ea(v){return Is(0,[{provide:Nu,useExisting:va},{provide:eo,useExisting:v}])}const ro=!1,es=new p.OlP(ro?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),qs=[Mt.Ye,{provide:sr,useClass:$r},ws,xs,{provide:Os,useFactory:function Ha(v){return v.routerState.root},deps:[ws]},Dt,ro?{provide:So,useValue:!0}:[]];function jo(){return new p.PXZ("Router",ws)}let io=(()=>{class v{constructor(m){}static forRoot(m,M){return{ngModule:v,providers:[qs,ro&&M?.enableTracing?Nl().\u0275providers:[],{provide:qe,multi:!0,useValue:m},{provide:es,useFactory:hu,deps:[[ws,new p.FiY,new p.tp0]]},{provide:wi,useValue:M||{}},M?.useHash?{provide:Mt.S$,useClass:Mt.Do}:{provide:Mt.S$,useClass:Mt.b0},{provide:_a,useFactory:()=>{const v=(0,p.f3M)(Mt.EM),_=(0,p.f3M)(p.R0b),m=(0,p.f3M)(wi),M=(0,p.f3M)(Pa),$=(0,p.f3M)(sr);return m.scrollOffset&&v.setOffset(m.scrollOffset),new aa($,M,v,_,m)}},M?.preloadingStrategy?Ea(M.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:jo},M?.initialNavigation?Ga(M):[],[{provide:fu,useFactory:cu},{provide:p.tb,multi:!0,useExisting:fu}]]}}static forChild(m){return{ngModule:v,providers:[{provide:qe,multi:!0,useValue:m}]}}}return v.\u0275fac=function(m){return new(m||v)(p.LFG(es,8))},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[us]}),v})();function hu(v){if(ro&&v)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ga(v){return["disabled"===v.initialNavigation?Is(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const _=(0,p.f3M)(ws);return()=>{_.setUpLocationChangeListener()}}},{provide:$o,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Is(2,[{provide:$o,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:_=>{const m=_.get(Mt.V_,Promise.resolve());return()=>m.then(()=>new Promise(M=>{const $=_.get(ws),J=_.get(wa);(function cs(v,_){v.events.pipe((0,Ne.h)(m=>m instanceof Bn||m instanceof gi||m instanceof Xr||m instanceof Jr),(0,Ot.U)(m=>m instanceof Bn||m instanceof Jr?Es.COMPLETE:m instanceof gi&&(0===m.code||1===m.code)?Es.REDIRECTING:Es.FAILED),(0,Ne.h)(m=>m!==Es.REDIRECTING),(0,gr.q)(1)).subscribe(()=>{_()})})($,()=>{M(!0)}),_.get(Pa).afterPreactivation=()=>(M(!0),J.closed?(0,A.of)(void 0):J),$.initialNavigation()}))}}]).\u0275providers:[]]}const fu=new p.OlP(ro?"Router Initializer":"")},3942:(on,Pe,j)=>{"use strict";j.d(Pe,{Z:()=>wt});var p=j(2090),V=j(4859),A=j(6881),Se=j(1877);class ve{constructor(Re,ot){this._delegate=Re,this.firebase=ot,(0,A._addComponent)(Re,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(Re,ot=A._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(Re);return!_t.isInitialized()&&"EXPLICIT"===(null===(Ke=_t.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:ot})}_removeServiceInstance(Re,ot=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(ot)}_addComponent(Re){(0,A._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,A._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Be(){const ft=function fe(ft){const Re={},ot={__esModule:!0,initializeApp:function it(ct,ce={}){const kt=A.initializeApp(ct,ce);if((0,p.r3)(Re,kt.name))return Re[kt.name];const tn=new ft(kt,ot);return Re[kt.name]=tn,tn},app:_t,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function pt(ct){const ce=ct.name,kt=ce.replace("-compat","");if(A._registerComponent(ct)&&"PUBLIC"===ct.type){const tn=(Mt=_t())=>{if("function"!=typeof Mt[kt])throw Me.create("invalid-app-argument",{appName:ce});return Mt[kt]()};void 0!==ct.serviceProps&&(0,p.ZB)(tn,ct.serviceProps),ot[kt]=tn,ft.prototype[kt]=function(...Mt){return this._getService.bind(this,ce).apply(this,ct.multipleInstances?Mt:[])}}return"PUBLIC"===ct.type?ot[kt]:null},removeApp:function Ke(ct){delete Re[ct]},useAsService:function It(ct,ce){return"serverAuth"===ce?null:ce},modularAPIs:A}};function _t(ct){if(!(0,p.r3)(Re,ct=ct||A._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:ct});return Re[ct]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function at(){return Object.keys(Re).map(ct=>Re[ct])}}),_t.App=ft,ot}(ve);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function Re(ot){(0,p.ZB)(ft,ot)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),ft}(),ge=new Se.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const wt=de;!function st(ft){(0,A.registerVersion)("@firebase/app-compat","0.2.11",ft)}()},6881:(on,Pe,j)=>{"use strict";j.r(Pe),j.d(Pe,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Br,_DEFAULT_ENTRY_NAME:()=>kr,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Rt,_apps:()=>_n,_clearComponents:()=>Rr,_components:()=>wn,_getProvider:()=>hr,_registerComponent:()=>Jn,_removeServiceInstance:()=>rr,deleteApp:()=>kn,getApp:()=>Jt,getApps:()=>Zt,initializeApp:()=>An,onLog:()=>sr,registerVersion:()=>Ir,setLogLevel:()=>$r});var p=j(5861),V=j(4859),A=j(1877),Se=j(2090);const ve=(We,ke)=>ke.some(St=>We instanceof St);let Ie,Me;const de=new WeakMap,ge=new WeakMap,xe=new WeakMap,nt=new WeakMap,st=new WeakMap;let Re={get(We,ke,St){if(We instanceof IDBTransaction){if("done"===ke)return ge.get(We);if("objectStoreNames"===ke)return We.objectStoreNames||xe.get(We);if("store"===ke)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return it(We[ke])},set:(We,ke,St)=>(We[ke]=St,!0),has:(We,ke)=>We instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in We};function _t(We){return"function"==typeof We?function Ke(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...ke){return We.apply(at(this),ke),it(de.get(this))}:function(...ke){return it(We.apply(at(this),ke))}:function(ke,...St){const un=We.call(at(this),ke,...St);return xe.set(un,ke.sort?ke.sort():[ke]),it(un)}}(We):(We instanceof IDBTransaction&&function ft(We){if(ge.has(We))return;const ke=new Promise((St,un)=>{const pn=()=>{We.removeEventListener("complete",Nn),We.removeEventListener("error",Xt),We.removeEventListener("abort",Xt)},Nn=()=>{St(),pn()},Xt=()=>{un(We.error||new DOMException("AbortError","AbortError")),pn()};We.addEventListener("complete",Nn),We.addEventListener("error",Xt),We.addEventListener("abort",Xt)});ge.set(We,ke)}(We),ve(We,function fe(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,Re):We)}function it(We){if(We instanceof IDBRequest)return function wt(We){const ke=new Promise((St,un)=>{const pn=()=>{We.removeEventListener("success",Nn),We.removeEventListener("error",Xt)},Nn=()=>{St(it(We.result)),pn()},Xt=()=>{un(We.error),pn()};We.addEventListener("success",Nn),We.addEventListener("error",Xt)});return ke.then(St=>{St instanceof IDBCursor&&de.set(St,We)}).catch(()=>{}),st.set(ke,We),ke}(We);if(nt.has(We))return nt.get(We);const ke=_t(We);return ke!==We&&(nt.set(We,ke),st.set(ke,We)),ke}const at=We=>st.get(We),ct=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],kt=new Map;function tn(We,ke){if(!(We instanceof IDBDatabase)||ke in We||"string"!=typeof ke)return;if(kt.get(ke))return kt.get(ke);const St=ke.replace(/FromIndex$/,""),un=ke!==St,pn=ce.includes(St);if(!(St in(un?IDBIndex:IDBObjectStore).prototype)||!pn&&!ct.includes(St))return;const Nn=function(){var Xt=(0,p.Z)(function*(er,...qn){const qr=this.transaction(er,pn?"readwrite":"readonly");let Dr=qr.store;return un&&(Dr=Dr.index(qn.shift())),(yield Promise.all([Dr[St](...qn),pn&&qr.done]))[0]});return function(qn){return Xt.apply(this,arguments)}}();return kt.set(ke,Nn),Nn}!function ot(We){Re=We(Re)}(We=>({...We,get:(ke,St,un)=>tn(ke,St)||We.get(ke,St,un),has:(ke,St)=>!!tn(ke,St)||We.has(ke,St)}));class Mt{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function Ot(We){return"VERSION"===We.getComponent()?.type}(St)){const un=St.getImmediate();return`${un.library}/${un.version}`}return null}).filter(St=>St).join(" ")}}const Nt="@firebase/app",Ze=new A.Yd("@firebase/app"),kr="[DEFAULT]",Er={[Nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,wn=new Map;function Gt(We,ke){try{We.container.addComponent(ke)}catch(St){Ze.debug(`Component ${ke.name} failed to register with FirebaseApp ${We.name}`,St)}}function Rt(We,ke){We.container.addOrOverwriteComponent(ke)}function Jn(We){const ke=We.name;if(wn.has(ke))return Ze.debug(`There were multiple attempts to register component ${ke}.`),!1;wn.set(ke,We);for(const St of _n.values())Gt(St,We);return!0}function hr(We,ke){const St=We.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),We.container.getProvider(ke)}function rr(We,ke,St=kr){hr(We,ke).clearInstance(St)}function Rr(){wn.clear()}const fr=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(ke,St,un){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Br="9.22.1";function An(We,ke={}){let St=We;"object"!=typeof ke&&(ke={name:ke});const un=Object.assign({name:kr,automaticDataCollectionEnabled:!1},ke),pn=un.name;if("string"!=typeof pn||!pn)throw fr.create("bad-app-name",{appName:String(pn)});if(St||(St=(0,Se.aH)()),!St)throw fr.create("no-options");const Nn=_n.get(pn);if(Nn){if((0,Se.vZ)(St,Nn.options)&&(0,Se.vZ)(un,Nn.config))return Nn;throw fr.create("duplicate-app",{appName:pn})}const Xt=new V.H0(pn);for(const qn of wn.values())Xt.addComponent(qn);const er=new Sn(St,un,Xt);return _n.set(pn,er),er}function Jt(We=kr){const ke=_n.get(We);if(!ke&&We===kr&&(0,Se.aH)())return An();if(!ke)throw fr.create("no-app",{appName:We});return ke}function Zt(){return Array.from(_n.values())}function kn(We){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(We){const ke=We.name;_n.has(ke)&&(_n.delete(ke),yield Promise.all(We.container.getProviders().map(St=>St.delete())),We.isDeleted=!0)})).apply(this,arguments)}function Ir(We,ke,St){var un;let pn=null!==(un=Er[We])&&void 0!==un?un:We;St&&(pn+=`-${St}`);const Nn=pn.match(/\s|\//),Xt=ke.match(/\s|\//);if(Nn||Xt){const er=[`Unable to register library "${pn}" with version "${ke}":`];return Nn&&er.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),Nn&&Xt&&er.push("and"),Xt&&er.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void Ze.warn(er.join(" "))}Jn(new V.wA(`${pn}-version`,()=>({library:pn,version:ke}),"VERSION"))}function sr(We,ke){if(null!==We&&"function"!=typeof We)throw fr.create("invalid-log-argument");(0,A.Am)(We,ke)}function $r(We){(0,A.Ub)(We)}const nr="firebase-heartbeat-database",vr=1,_e="firebase-heartbeat-store";let X=null;function x(){return X||(X=function pt(We,ke,{blocked:St,upgrade:un,blocking:pn,terminated:Nn}={}){const Xt=indexedDB.open(We,ke),er=it(Xt);return un&&Xt.addEventListener("upgradeneeded",qn=>{un(it(Xt.result),qn.oldVersion,qn.newVersion,it(Xt.transaction),qn)}),St&&Xt.addEventListener("blocked",qn=>St(qn.oldVersion,qn.newVersion,qn)),er.then(qn=>{Nn&&qn.addEventListener("close",()=>Nn()),pn&&qn.addEventListener("versionchange",qr=>pn(qr.oldVersion,qr.newVersion,qr))}).catch(()=>{}),er}(nr,vr,{upgrade:(We,ke)=>{0===ke&&We.createObjectStore(_e)}}).catch(We=>{throw fr.create("idb-open",{originalErrorMessage:We.message})})),X}function B(){return(B=(0,p.Z)(function*(We){try{return yield(yield x()).transaction(_e).objectStore(_e).get(le(We))}catch(ke){if(ke instanceof Se.ZR)Ze.warn(ke.message);else{const St=fr.create("idb-get",{originalErrorMessage:ke?.message});Ze.warn(St.message)}}})).apply(this,arguments)}function ae(We,ke){return oe.apply(this,arguments)}function oe(){return(oe=(0,p.Z)(function*(We,ke){try{const un=(yield x()).transaction(_e,"readwrite");yield un.objectStore(_e).put(ke,le(We)),yield un.done}catch(St){if(St instanceof Se.ZR)Ze.warn(St.message);else{const un=fr.create("idb-set",{originalErrorMessage:St?.message});Ze.warn(un.message)}}})).apply(this,arguments)}function le(We){return`${We.name}!${We.options.appId}`}class ze{constructor(ke){this.container=ke,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new an(St),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var ke=this;return(0,p.Z)(function*(){const un=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=gt();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==pn&&!ke._heartbeatsCache.heartbeats.some(Nn=>Nn.date===pn))return ke._heartbeatsCache.heartbeats.push({date:pn,agent:un}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(Nn=>{const Xt=new Date(Nn.date).valueOf();return Date.now()-Xt<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,p.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const St=gt(),{heartbeatsToSend:un,unsentEntries:pn}=function Ht(We,ke=1024){const St=[];let un=We.slice();for(const pn of We){const Nn=St.find(Xt=>Xt.agent===pn.agent);if(Nn){if(Nn.dates.push(pn.date),Xn(St)>ke){Nn.dates.pop();break}}else if(St.push({agent:pn.agent,dates:[pn.date]}),Xn(St)>ke){St.pop();break}un=un.slice(1)}return{heartbeatsToSend:St,unsentEntries:un}}(ke._heartbeatsCache.heartbeats),Nn=(0,Se.L)(JSON.stringify({version:2,heartbeats:un}));return ke._heartbeatsCache.lastSentHeartbeatDate=St,pn.length>0?(ke._heartbeatsCache.heartbeats=pn,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),Nn})()}}function gt(){return(new Date).toISOString().substring(0,10)}class an{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,p.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function L(We){return B.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var St=this;return(0,p.Z)(function*(){var un;if(yield St._canUseIndexedDBPromise){const Nn=yield St.read();return ae(St.app,{lastSentHeartbeatDate:null!==(un=ke.lastSentHeartbeatDate)&&void 0!==un?un:Nn.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var St=this;return(0,p.Z)(function*(){var un;if(yield St._canUseIndexedDBPromise){const Nn=yield St.read();return ae(St.app,{lastSentHeartbeatDate:null!==(un=ke.lastSentHeartbeatDate)&&void 0!==un?un:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...ke.heartbeats]})}})()}}function Xn(We){return(0,Se.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Fr(We){Jn(new V.wA("platform-logger",ke=>new Mt(ke),"PRIVATE")),Jn(new V.wA("heartbeat",ke=>new ze(ke),"PRIVATE")),Ir(Nt,"0.9.11",We),Ir(Nt,"0.9.11","esm2017"),Ir("fire-js","")}("")},4859:(on,Pe,j)=>{"use strict";j.d(Pe,{H0:()=>fe,wA:()=>A});var p=j(5861),V=j(2090);class A{constructor(de,ge,xe){this.name=de,this.instanceFactory=ge,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Se="[DEFAULT]";class ve{constructor(de,ge){this.name=de,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const ge=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(ge)){const xe=new V.BH;if(this.instancesDeferred.set(ge,xe),this.isInitialized(ge)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:ge});nt&&xe.resolve(nt)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(de){var ge;const xe=this.normalizeInstanceIdentifier(de?.identifier),nt=null!==(ge=de?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(st){if(nt)return null;throw st}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Me(Be){return"EAGER"===Be.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[ge,xe]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(ge);try{const st=this.getOrInitializeService({instanceIdentifier:nt});xe.resolve(st)}catch{}}}}clearInstance(de=Se){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,p.Z)(function*(){const ge=Array.from(de.instances.values());yield Promise.all([...ge.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...ge.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Se){return this.instances.has(de)}getOptions(de=Se){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:ge={}}=de,xe=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:xe,options:ge});for(const[st,wt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(st)&&wt.resolve(nt);return nt}onInit(de,ge){var xe;const nt=this.normalizeInstanceIdentifier(ge),st=null!==(xe=this.onInitCallbacks.get(nt))&&void 0!==xe?xe:new Set;st.add(de),this.onInitCallbacks.set(nt,st);const wt=this.instances.get(nt);return wt&&de(wt,nt),()=>{st.delete(de)}}invokeOnInitCallbacks(de,ge){const xe=this.onInitCallbacks.get(ge);if(xe)for(const nt of xe)try{nt(de,ge)}catch{}}getOrInitializeService({instanceIdentifier:de,options:ge={}}){let xe=this.instances.get(de);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=de,Be===Se?void 0:Be),options:ge}),this.instances.set(de,xe),this.instancesOptions.set(de,ge),this.invokeOnInitCallbacks(xe,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,xe)}catch{}var Be;return xe||null}normalizeInstanceIdentifier(de=Se){return this.component?this.component.multipleInstances?de:Se:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const ge=this.getProvider(de.name);if(ge.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);ge.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const ge=new ve(de,this);return this.providers.set(de,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(on,Pe,j)=>{"use strict";j.d(Pe,{Am:()=>Be,Ub:()=>fe,Yd:()=>Me,in:()=>V});const p=[];var V=(()=>{return(de=V||(V={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",V;var de})();const A={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},Se=V.INFO,ve={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Ie=(de,ge,...xe)=>{if(ge<de.logLevel)return;const nt=(new Date).toISOString(),st=ve[ge];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[st](`[${nt}]  ${de.name}:`,...xe)};class Me{constructor(ge){this.name=ge,this._logLevel=Se,this._logHandler=Ie,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in V))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?A[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...ge),this._logHandler(this,V.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...ge),this._logHandler(this,V.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,V.INFO,...ge),this._logHandler(this,V.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,V.WARN,...ge),this._logHandler(this,V.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...ge),this._logHandler(this,V.ERROR,...ge)}}function fe(de){p.forEach(ge=>{ge.setLogLevel(de)})}function Be(de,ge){for(const xe of p){let nt=null;ge&&ge.level&&(nt=A[ge.level]),xe.userLogHandler=null===de?null:(st,wt,...ft)=>{const Re=ft.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");wt>=(nt??st.logLevel)&&de({level:V[wt].toLowerCase(),message:Re,args:ft,type:st.name})}}}},259:(on,Pe,j)=>{"use strict";j.d(Pe,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=j(6881);(0,p.registerVersion)("firebase","9.22.1","app")},9260:(on,Pe,j)=>{"use strict";j.d(Pe,{Z:()=>p.Z});var p=j(3942);p.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(on,Pe,j)=>{"use strict";j.r(Pe);var p=j(5861),V=j(3942),A=j(1389),Se=j(2090),Me=(j(6881),j(1877),j(4859));function fe(){return window}const Be=2e3;function ge(){return ge=(0,p.Z)(function*(x,L,B){var ae;const{BuildInfo:oe}=fe();(0,A.as)(L.sessionId,"AuthEvent did not contain a session ID");const le=yield function ot(x){return Ke.apply(this,arguments)}(L.sessionId),se={};return(0,A.at)()?se.ibi=oe.packageName:(0,A.au)()?se.apn=oe.packageName:(0,A.av)(x,"operation-not-supported-in-this-environment"),oe.displayName&&(se.appDisplayName=oe.displayName),se.sessionId=le,(0,A.aw)(x,B,L.type,void 0,null!==(ae=L.eventId)&&void 0!==ae?ae:void 0,se)}),ge.apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(x){const{BuildInfo:L}=fe(),B={};(0,A.at)()?B.iosBundleId=L.packageName:(0,A.au)()?B.androidPackageName=L.packageName:(0,A.av)(x,"operation-not-supported-in-this-environment"),yield(0,A.ax)(x,B)})).apply(this,arguments)}function ft(){return(ft=(0,p.Z)(function*(x,L,B){const{cordova:ae}=fe();let oe=()=>{};try{yield new Promise((le,se)=>{let Te=null;function ze(){var an;le();const Xn=null===(an=ae.plugins.browsertab)||void 0===an?void 0:an.close;"function"==typeof Xn&&Xn(),"function"==typeof B?.close&&B.close()}function gt(){Te||(Te=window.setTimeout(()=>{se((0,A.az)(x,"redirect-cancelled-by-user"))},Be))}function Ht(){"visible"===document?.visibilityState&&gt()}L.addPassiveListener(ze),document.addEventListener("resume",gt,!1),(0,A.au)()&&document.addEventListener("visibilitychange",Ht,!1),oe=()=>{L.removePassiveListener(ze),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",Ht,!1),Te&&window.clearTimeout(Te)}})}finally{oe()}})).apply(this,arguments)}function Ke(){return(Ke=(0,p.Z)(function*(x){const L=function _t(x){if((0,A.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const L=new ArrayBuffer(x.length),B=new Uint8Array(L);for(let ae=0;ae<x.length;ae++)B[ae]=x.charCodeAt(ae);return B}(x),B=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(B)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const it=20;class at extends A.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(L)),super.onEvent(L)}initialized(){var L=this;return(0,p.Z)(function*(){yield L.initPromise})()}}function ct(x){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(x){const L=yield Mt()._get(Ot(x));return L&&(yield Mt()._remove(Ot(x))),L})).apply(this,arguments)}function tn(){const x=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<it;B++){const ae=Math.floor(Math.random()*L.length);x.push(L.charAt(ae))}return x.join("")}function Mt(){return(0,A.aC)(A.b)}function Ot(x){return(0,A.aD)("authEvent",x.config.apiKey,x.name)}function Ze(x){if(!x?.includes("?"))return{};const[L,...B]=x.split("?");return(0,Se.zd)(B.join("?"))}const tt=class je{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aE,this._overrideRedirectResult=A.aF}_initialize(L){var B=this;return(0,p.Z)(function*(){const ae=L._key();let oe=B.eventManagers.get(ae);return oe||(oe=new at(L),B.eventManagers.set(ae,oe),B.attachCallbackListeners(L,oe)),oe})()}_openPopup(L){(0,A.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,B,ae,oe){var le=this;return(0,p.Z)(function*(){!function Re(x){var L,B,ae,oe,le,se,Te,ze,gt,Ht;const an=fe();(0,A.aA)("function"==typeof(null===(L=an?.universalLinks)||void 0===L?void 0:L.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.aA)(typeof(null===(B=an?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.aA)("function"==typeof(null===(le=null===(oe=null===(ae=an?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===le?void 0:le.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.aA)("function"==typeof(null===(ze=null===(Te=null===(se=an?.cordova)||void 0===se?void 0:se.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===ze?void 0:ze.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.aA)("function"==typeof(null===(Ht=null===(gt=an?.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===Ht?void 0:Ht.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const se=yield le._initialize(L);yield se.initialized(),se.resetRedirect(),(0,A.aG)(),yield le._originValidation(L);const Te=function pt(x,L,B=null){return{type:L,eventId:B,urlResponse:null,sessionId:tn(),postBody:null,tenantId:x.tenantId,error:(0,A.az)(x,"no-auth-event")}}(L,ae,oe);yield function It(x,L){return Mt()._set(Ot(x),L)}(L,Te);const ze=yield function de(x,L,B){return ge.apply(this,arguments)}(L,Te,B),gt=yield function st(x){const{cordova:L}=fe();return new Promise(B=>{L.plugins.browsertab.isAvailable(ae=>{let oe=null;ae?L.plugins.browsertab.openUrl(x):oe=L.InAppBrowser.open(x,(0,A.ay)()?"_blank":"_system","location=yes"),B(oe)})})}(ze);return function wt(x,L,B){return ft.apply(this,arguments)}(L,se,gt)})()}_isIframeWebStorageSupported(L,B){throw new Error("Method not implemented.")}_originValidation(L){const B=L._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function xe(x){return nt.apply(this,arguments)}(L)),this.originValidationPromises[B]}attachCallbackListeners(L,B){const{universalLinks:ae,handleOpenURL:oe,BuildInfo:le}=fe(),se=setTimeout((0,p.Z)(function*(){yield ct(L),B.onEvent(dt())}),500),Te=function(){var Ht=(0,p.Z)(function*(an){clearTimeout(se);const Xn=yield ct(L);let Fr=null;Xn&&an?.url&&(Fr=function kt(x,L){var B,ae;const oe=function gr(x){const L=Ze(x),B=L.link?decodeURIComponent(L.link):void 0,ae=Ze(B).link,oe=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return Ze(oe).link||oe||ae||B||x}(L);if(oe.includes("/__/auth/callback")){const le=Ze(oe),se=le.firebaseError?function Nt(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,Te=null===(ae=null===(B=se?.code)||void 0===B?void 0:B.split("auth/"))||void 0===ae?void 0:ae[1],ze=Te?(0,A.az)(Te):null;return ze?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:oe,postBody:null}}return null}(Xn,an.url)),B.onEvent(Fr||dt())});return function(Xn){return Ht.apply(this,arguments)}}();typeof ae<"u"&&"function"==typeof ae.subscribe&&ae.subscribe(null,Te);const ze=oe,gt=`${le.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var Ht=(0,p.Z)(function*(an){if(an.toLowerCase().startsWith(gt)&&Te({url:an}),"function"==typeof ze)try{ze(an)}catch(Xn){console.error(Xn)}});return function(an){return Ht.apply(this,arguments)}}()}};function dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.az)("no-auth-event")}}const Tn=1e3;function xt(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function mn(x=(0,Se.z$)()){return!("file:"!==xt()&&"ionic:"!==xt()&&"capacitor:"!==xt()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qt(){try{const x=self.localStorage,L=A.aL();if(x)return x.setItem(L,"1"),x.removeItem(L),!function zn(x=(0,Se.z$)()){return function Gn(){return(0,Se.w1)()&&11===document?.documentMode}()||function tr(x=(0,Se.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,Se.hl)()}catch{return Tt()&&(0,Se.hl)()}return!1}function Tt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function Ft(){return"http:"===xt()||"https:"===xt()}()||(0,Se.ru)()||mn())&&!function hn(){return(0,Se.b$)()||(0,Se.UG)()}()&&Qt()&&!Tt()}function $n(){return mn()&&typeof document<"u"}function ln(){return(ln=(0,p.Z)(function*(){return!!$n()&&new Promise(x=>{const L=setTimeout(()=>{x(!1)},Tn);document.addEventListener("deviceready",()=>{clearTimeout(L),x(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=A.aA,dr="persistence";function Er(x){return _n.apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(x){yield x._initializationPromise;const L=Gt(),B=A.aD(dr,x.config.apiKey,x.name);L&&L.setItem(B,x._getPersistence())})).apply(this,arguments)}function Gt(){var x;try{return(null===(x=function Lt(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Rt=A.aA;class Jn{constructor(){this.browserResolver=A.aC(A.k),this.cordovaResolver=A.aC(tt),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aE,this._overrideRedirectResult=A.aF}_initialize(L){var B=this;return(0,p.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,B,ae,oe){var le=this;return(0,p.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(L,B,ae,oe)})()}_openRedirect(L,B,ae,oe){var le=this;return(0,p.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(L,B,ae,oe)})()}_isIframeWebStorageSupported(L,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,B)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return $n()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,p.Z)(function*(){if(L.underlyingResolver)return;const B=yield function Rn(){return ln.apply(this,arguments)}();L.underlyingResolver=B?L.cordovaResolver:L.browserResolver})()}}function hr(x){return x.unwrap()}function Rr(x){return fr(x)}function fr(x){const{_tokenResponse:L}=x instanceof Se.ZR?x.customData:x;if(!L)return null;if(!(x instanceof Se.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return A.P.credentialFromResult(x);const B=L.providerId;if(!B||B===A.p.PASSWORD)return null;let ae;switch(B){case A.p.GOOGLE:ae=A.V;break;case A.p.FACEBOOK:ae=A.U;break;case A.p.GITHUB:ae=A.W;break;case A.p.TWITTER:ae=A.Z;break;default:const{oauthIdToken:oe,oauthAccessToken:le,oauthTokenSecret:se,pendingToken:Te,nonce:ze}=L;return le||se||oe||Te?Te?B.startsWith("saml.")?A.aO._create(B,Te):A.L._fromParams({providerId:B,signInMethod:B,pendingToken:Te,idToken:oe,accessToken:le}):new A.X(B).credential({idToken:oe,accessToken:le,rawNonce:ze}):null}return x instanceof Se.ZR?ae.credentialFromError(x):ae.credentialFromResult(x)}function Sn(x,L){return L.catch(B=>{throw B instanceof Se.ZR&&function Sr(x,L){var B;const ae=null===(B=L.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Jt(x,A.aq(x,L));else if(ae){const oe=fr(L),le=L;oe&&(le.credential=oe,le.tenantId=ae.tenantId||void 0,le.email=ae.email||void 0,le.phoneNumber=ae.phoneNumber||void 0)}}(x,B),B}).then(B=>{const oe=B.user;return{operationType:B.operationType,credential:Rr(B),additionalUserInfo:A.ao(B),user:Zt.getOrCreate(oe)}})}function Br(x,L){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(x,L){const B=yield L;return{verificationId:B.verificationId,confirm:ae=>Sn(x,B.confirm(ae))}})).apply(this,arguments)}class Jt{constructor(L,B){this.resolver=B,this.auth=function rr(x){return x.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Sn(hr(this.auth),this.resolver.resolveSignIn(L))}}class Zt{constructor(L){this._delegate=L,this.multiFactor=A.ar(L)}static getOrCreate(L){return Zt.USER_MAP.has(L)||Zt.USER_MAP.set(L,new Zt(L)),Zt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var B=this;return(0,p.Z)(function*(){return Sn(B.auth,A.a0(B._delegate,L))})()}linkWithPhoneNumber(L,B){var ae=this;return(0,p.Z)(function*(){return Br(ae.auth,A.l(ae._delegate,L,B))})()}linkWithPopup(L){var B=this;return(0,p.Z)(function*(){return Sn(B.auth,A.d(B._delegate,L,Jn))})()}linkWithRedirect(L){var B=this;return(0,p.Z)(function*(){return yield Er(A.aH(B.auth)),A.g(B._delegate,L,Jn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var B=this;return(0,p.Z)(function*(){return Sn(B.auth,A.a1(B._delegate,L))})()}reauthenticateWithPhoneNumber(L,B){return Br(this.auth,A.r(this._delegate,L,B))}reauthenticateWithPopup(L){return Sn(this.auth,A.e(this._delegate,L,Jn))}reauthenticateWithRedirect(L){var B=this;return(0,p.Z)(function*(){return yield Er(A.aH(B.auth)),A.h(B._delegate,L,Jn)})()}sendEmailVerification(L){return A.ae(this._delegate,L)}unlink(L){var B=this;return(0,p.Z)(function*(){return yield A.an(B._delegate,L),B})()}updateEmail(L){return A.aj(this._delegate,L)}updatePassword(L){return A.ak(this._delegate,L)}updatePhoneNumber(L){return A.u(this._delegate,L)}updateProfile(L){return A.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,B){return A.af(this._delegate,L,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zt.USER_MAP=new WeakMap;const kn=A.aA;let jn=(()=>{class x{constructor(B,ae){if(this.app=B,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=B.options;kn(oe,"invalid-api-key",{appName:B.name}),kn(oe,"invalid-api-key",{appName:B.name});const le=typeof window<"u"?Jn:void 0;this._delegate=ae.initialize({options:{persistence:sr(oe,B.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(A.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,ae){A.I(this._delegate,B,ae)}applyActionCode(B){return A.a5(this._delegate,B)}checkActionCode(B){return A.a6(this._delegate,B)}confirmPasswordReset(B,ae){return A.a4(this._delegate,B,ae)}createUserWithEmailAndPassword(B,ae){var oe=this;return(0,p.Z)(function*(){return Sn(oe._delegate,A.a8(oe._delegate,B,ae))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return A.ad(this._delegate,B)}isSignInWithEmailLink(B){return A.ab(this._delegate,B)}getRedirectResult(){var B=this;return(0,p.Z)(function*(){kn(Wn(),B._delegate,"operation-not-supported-in-this-environment");const ae=yield A.j(B._delegate,Jn);return ae?Sn(B._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function rt(x,L){(0,A.aH)(x)._logFramework(L)}(this._delegate,B)}onAuthStateChanged(B,ae,oe){const{next:le,error:se,complete:Te}=Ir(B,ae,oe);return this._delegate.onAuthStateChanged(le,se,Te)}onIdTokenChanged(B,ae,oe){const{next:le,error:se,complete:Te}=Ir(B,ae,oe);return this._delegate.onIdTokenChanged(le,se,Te)}sendSignInLinkToEmail(B,ae){return A.aa(this._delegate,B,ae)}sendPasswordResetEmail(B,ae){return A.a3(this._delegate,B,ae||void 0)}setPersistence(B){var ae=this;return(0,p.Z)(function*(){let oe;switch(function kr(x,L){Zn(Object.values(nn).includes(L),x,"invalid-persistence-type"),(0,Se.b$)()?Zn(L!==nn.SESSION,x,"unsupported-persistence-type"):(0,Se.UG)()?Zn(L===nn.NONE,x,"unsupported-persistence-type"):Tt()?Zn(L===nn.NONE||L===nn.LOCAL&&(0,Se.hl)(),x,"unsupported-persistence-type"):Zn(L===nn.NONE||Qt(),x,"unsupported-persistence-type")}(ae._delegate,B),B){case nn.SESSION:oe=A.a;break;case nn.LOCAL:oe=(yield A.aC(A.i)._isAvailable())?A.i:A.b;break;case nn.NONE:oe=A.N;break;default:return A.av("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Sn(this._delegate,A._(this._delegate))}signInWithCredential(B){return Sn(this._delegate,A.$(this._delegate,B))}signInWithCustomToken(B){return Sn(this._delegate,A.a2(this._delegate,B))}signInWithEmailAndPassword(B,ae){return Sn(this._delegate,A.a9(this._delegate,B,ae))}signInWithEmailLink(B,ae){return Sn(this._delegate,A.ac(this._delegate,B,ae))}signInWithPhoneNumber(B,ae){return Br(this._delegate,A.s(this._delegate,B,ae))}signInWithPopup(B){var ae=this;return(0,p.Z)(function*(){return kn(Wn(),ae._delegate,"operation-not-supported-in-this-environment"),Sn(ae._delegate,A.c(ae._delegate,B,Jn))})()}signInWithRedirect(B){var ae=this;return(0,p.Z)(function*(){return kn(Wn(),ae._delegate,"operation-not-supported-in-this-environment"),yield Er(ae._delegate),A.f(ae._delegate,B,Jn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return A.a7(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=nn,x})();function Ir(x,L,B){let ae=x;"function"!=typeof x&&({next:ae,error:L,complete:B}=x);const oe=ae;return{next:se=>oe(se&&Zt.getOrCreate(se)),error:L,complete:B}}function sr(x,L){const B=function wn(x,L){const B=Gt();if(!B)return[];const ae=A.aD(dr,x,L);switch(B.getItem(ae)){case nn.NONE:return[A.N];case nn.LOCAL:return[A.i,A.a];case nn.SESSION:return[A.a];default:return[]}}(x,L);if(typeof self<"u"&&!B.includes(A.i)&&B.push(A.i),typeof window<"u")for(const ae of[A.b,A.a])B.includes(ae)||B.push(ae);return B.includes(A.N)||B.push(A.N),B}class $r{constructor(){this.providerId="phone",this._delegate=new A.P(hr(V.Z.auth()))}static credential(L,B){return A.P.credential(L,B)}verifyPhoneNumber(L,B){return this._delegate.verifyPhoneNumber(L,B)}unwrap(){return this._delegate}}$r.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,$r.PROVIDER_ID=A.P.PROVIDER_ID;const nr=A.aA;class vr{constructor(L,B,ae=V.Z.app()){var oe;nr(null===(oe=ae.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new A.R(L,B,ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X(x){x.INTERNAL.registerComponent(new Me.wA("auth-compat",L=>{const B=L.getProvider("app-compat").getImmediate(),ae=L.getProvider("auth");return new jn(B,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.Q,FacebookAuthProvider:A.U,GithubAuthProvider:A.W,GoogleAuthProvider:A.V,OAuthProvider:A.X,SAMLAuthProvider:A.Y,PhoneAuthProvider:$r,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:vr,TwitterAuthProvider:A.Z,Auth:jn,AuthCredential:A.J,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)},5861:(on,Pe,j)=>{"use strict";function p(A,Se,ve,Ie,Me,fe,Be){try{var de=A[fe](Be),ge=de.value}catch(xe){return void ve(xe)}de.done?Se(ge):Promise.resolve(ge).then(Ie,Me)}function V(A){return function(){var Se=this,ve=arguments;return new Promise(function(Ie,Me){var fe=A.apply(Se,ve);function Be(ge){p(fe,Ie,Me,Be,de,"next",ge)}function de(ge){p(fe,Ie,Me,Be,de,"throw",ge)}Be(void 0)})}}j.d(Pe,{Z:()=>V})},7582:(on,Pe,j)=>{"use strict";function Se(Ze,Ne){var je={};for(var tt in Ze)Object.prototype.hasOwnProperty.call(Ze,tt)&&Ne.indexOf(tt)<0&&(je[tt]=Ze[tt]);if(null!=Ze&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(tt=Object.getOwnPropertySymbols(Ze);dt<tt.length;dt++)Ne.indexOf(tt[dt])<0&&Object.prototype.propertyIsEnumerable.call(Ze,tt[dt])&&(je[tt[dt]]=Ze[tt[dt]])}return je}function xe(Ze,Ne,je,tt){return new(je||(je=Promise))(function(rt,He){function Pt(Ft){try{xt(tt.next(Ft))}catch(mn){He(mn)}}function Tn(Ft){try{xt(tt.throw(Ft))}catch(mn){He(mn)}}function xt(Ft){Ft.done?rt(Ft.value):function dt(rt){return rt instanceof je?rt:new je(function(He){He(rt)})}(Ft.value).then(Pt,Tn)}xt((tt=tt.apply(Ze,Ne||[])).next())})}function it(Ze){return this instanceof it?(this.v=Ze,this):new it(Ze)}function at(Ze,Ne,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,tt=je.apply(Ze,Ne||[]),rt=[];return dt={},He("next"),He("throw"),He("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function He(hn){tt[hn]&&(dt[hn]=function(Gn){return new Promise(function(tr,zn){rt.push([hn,Gn,tr,zn])>1||Pt(hn,Gn)})})}function Pt(hn,Gn){try{!function Tn(hn){hn.value instanceof it?Promise.resolve(hn.value.v).then(xt,Ft):mn(rt[0][2],hn)}(tt[hn](Gn))}catch(tr){mn(rt[0][3],tr)}}function xt(hn){Pt("next",hn)}function Ft(hn){Pt("throw",hn)}function mn(hn,Gn){hn(Gn),rt.shift(),rt.length&&Pt(rt[0][0],rt[0][1])}}function It(Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Ne=Ze[Symbol.asyncIterator];return Ne?Ne.call(Ze):(Ze=function ft(Ze){var Ne="function"==typeof Symbol&&Symbol.iterator,je=Ne&&Ze[Ne],tt=0;if(je)return je.call(Ze);if(Ze&&"number"==typeof Ze.length)return{next:function(){return Ze&&tt>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[tt++],done:!Ze}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ze),je={},tt("next"),tt("throw"),tt("return"),je[Symbol.asyncIterator]=function(){return this},je);function tt(rt){je[rt]=Ze[rt]&&function(He){return new Promise(function(Pt,Tn){!function dt(rt,He,Pt,Tn){Promise.resolve(Tn).then(function(xt){rt({value:xt,done:Pt})},He)}(Pt,Tn,(He=Ze[rt](He)).done,He.value)})}}}j.d(Pe,{FC:()=>at,KL:()=>It,_T:()=>Se,mG:()=>xe,qq:()=>it})}},on=>{on(on.s=2006)}]);